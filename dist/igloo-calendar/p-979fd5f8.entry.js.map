{"version":3,"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","randomUUID","native","v4","options","buf","rnds","random","iglApplicationInfoCss","IglApplicationInfo","componentWillLoad","this","guestData","guestInfo","Object","assign","updateRoomList","async","units","selectedUnits","index","filterdRoomList","roomsList","filter","e","includes","id","updateData","dataUpdateEvent","emit","key","guestRefKey","data","handleDataChange","value","find","room","name","handleGuestNameChange","event","guestName","target","render","h","Host","class","bookingType","roomCategoryName","ratePlanName","replace","message","cancelation","guarantee","adult_child_offering","type","placeholder","onInput","required","onChange","parseInt","selected","roomId","map","preference","bedPreferenceType","CODE_NAME","CODE_VALUE_EN","rate","fn","thisArg","wrap","apply","arguments","prototype","getPrototypeOf","kindOf","cache","thing","str","call","toLowerCase","create","kindOfTest","typeOfTest","isArray","Array","isUndefined","isBuffer","val","constructor","isFunction","isArrayBuffer","isArrayBufferView","result","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isBoolean","isPlainObject","Symbol","toStringTag","iterator","isDate","isFile","isBlob","isFileList","isStream","pipe","isFormData","kind","FormData","append","isURLSearchParams","trim","forEach","obj","allOwnKeys","l","length","keys","getOwnPropertyNames","len","findKey","_key","_global","globalThis","self","window","global","isContextDefined","context","merge","caseless","assignValue","targetKey","extend","a","b","stripBOM","content","charCodeAt","inherits","superConstructor","props","descriptors","defineProperty","toFlatObject","sourceObj","destObj","propFilter","prop","merged","endsWith","searchString","position","String","undefined","lastIndex","indexOf","toArray","isTypedArray","TypedArray","forEachEntry","generator","next","done","pair","matchAll","regExp","matches","exec","isHTMLForm","toCamelCase","replacer","m","p1","p2","toUpperCase","hasOwnProperty","isRegExp","reduceDescriptors","reducer","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ret","defineProperties","freezeMethods","enumerable","writable","set","toObjectSet","arrayOrString","delimiter","define","split","noop","toFiniteNumber","defaultValue","Number","isFinite","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","generateString","size","alphabet","Math","isSpecCompliantForm","toJSONObject","stack","visit","source","reducedValue","isAsyncFn","isThenable","then","catch","utils","hasOwnProp","AxiosError","code","config","request","response","captureStackTrace","toJSON","description","number","fileName","lineNumber","columnNumber","status","from","error","customProps","axiosError","cause","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","concat","each","token","join","isFlatArray","some","predicates","test","toFormData","formData","TypeError","metaTokens","indexes","defined","option","visitor","defaultVisitor","_Blob","Blob","useBlob","convertValue","toISOString","Buffer","JSON","stringify","el","exposedHelpers","build","pop","encode","charMap","encodeURIComponent","match","AxiosURLSearchParams","params","_pairs","encoder","_encode","buildURL","url","serializeFn","serialize","serializedParams","hashmarkIndex","InterceptorManager","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","clear","forEachHandler","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","URLSearchParams$1","URLSearchParams","FormData$1","Blob$1","isStandardBrowserEnv","product","navigator","document","isStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","platform","isBrowser","classes","protocols","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","entries","stringifySafely","rawValue","parser","parse","defaults","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","formSerializer","_FormData","env","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","Accept","method","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","substring","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","configurable","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","get","has","matcher","delete","deleted","deleteHeader","normalize","format","normalized","targets","asStrings","static","first","computed","internals","accessors","defineAccessor","accessor","mapped","headerValue","transformData","fns","transform","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","resolve","reject","ERR_BAD_REQUEST","floor","cookies","standardBrowserEnv","write","expires","domain","secure","cookie","Date","toGMTString","read","RegExp","decodeURIComponent","remove","now","nonStandardBrowserEnv","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","isURLSameOrigin","msie","userAgent","urlParsingNode","createElement","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","startedAt","bytesCount","passed","round","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","loaded","total","lengthComputable","progressBytes","inRange","progress","estimated","isXHRAdapterSupported","XMLHttpRequest","xhrAdapter","Promise","dispatchXhrRequest","requestData","requestHeaders","onCanceled","cancelToken","unsubscribe","signal","removeEventListener","auth","username","password","unescape","btoa","fullPath","open","paramsSerializer","onloadend","responseHeaders","getAllResponseHeaders","responseData","responseText","statusText","_resolve","_reject","err","onreadystatechange","handleLoad","readyState","responseURL","setTimeout","onabort","handleAbort","ECONNABORTED","onerror","handleError","ERR_NETWORK","ontimeout","handleTimeout","timeoutErrorMessage","ETIMEDOUT","xsrfValue","withCredentials","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancel","abort","subscribe","aborted","send","knownAdapters","http","xhr","renderReason","reason","isResolvedHandle","adapters","getAdapter","nameOrAdapter","rejectedReasons","reasons","state","s","throwIfCancellationRequested","throwIfRequested","dispatchRequest","onAdapterResolution","onAdapterRejection","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","decompress","beforeRedirect","transport","httpAgent","httpsAgent","socketPath","responseEncoding","computeConfigValue","configValue","VERSION","validators","validator","deprecatedWarnings","version","formatMessage","opt","desc","opts","ERR_DEPRECATED","console","warn","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","configOrUrl","boolean","function","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","unshiftRequestInterceptors","interceptor","unshift","responseInterceptorChain","pushResponseInterceptors","promise","chain","newConfig","onFulfilled","onRejected","getUri","forEachMethodNoData","forEachMethodWithData","generateHTTPMethod","isForm","httpMethod","CancelToken","executor","resolvePromise","promiseExecutor","_listeners","onfulfilled","splice","c","spread","callback","isAxiosError","payload","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","createInstance","defaultConfig","instance","axios","Cancel","all","promises","formToJSON","default","convertDateToCustomFormat","dayWithWeekday","monthWithYear","months","_","day","month","year","monthIndex","convertDateToTime","getTime","dateDifference","FROM_DATE","TO_DATE","startDate","endDate","ceil","dateToFormattedString","date","getFullYear","getMonth","padStart","getDate","formatLegendColors","legendData","formattedLegendData","statusId","clsName","CONFIRMED","BLOCKED","NOTES","legend","getMyBookings","myBookings","stayStatus","getStayStatus","days","room_types","assignBooking","physicalrooms","physicalRoom","calendar_cell","Is_Available","addOrUpdateBooking","sessionStorage","getItem","post","TBL_NAMES","My_Result","d","log","getDefaultData","cell","STAY_STATUS_CODE","ID","POOL","My_Block_Info","BALANCE","NAME","st","RELEASE_AFTER_HOURS","DESCRIPTION","PR_ID","pr_id","ENTRY_DATE","BLOCKED_TILL_DATE","ENTRY_HOUR","BLOCKED_TILL_HOUR","ENTRY_MINUTE","BLOCKED_TILL_MINUTE","OPTIONAL_REASON","DATE","NO_OF_DAYS","STATUS","STATUS_CODE","OUT_OF_SERVICE","booking","booking_nbr","IS_EDITABLE","is_editable","_c","_a","guest","first_name","_b","last_name","PHONE","_d","mobile","booked_on","RATE","RATE_PLAN","rateplan","SPLIT_BOOKING","RATE_PLAN_ID","IDENTIFIER","identifier","RATE_TYPE","ADULTS_COUNT","occupancy","adult_nbr","CHILDREN_COUNT","children_nbr","GUEST","rooms","TOTAL_PRICE","COUNTRY","country_id","FROM_DATE_STR","from_date","TO_DATE_STR","to_date","updateBookingWithStayData","arrival","ARRIVAL_TIME","findIndex","newData","updatedData","BookingService","propertyid","customMonths","myBooking","daysCount","monthName","currentDate","dayDisplayName","unassigned_units_nbr","flat","ExceptionCode","ExceptionMsg","My_Params_Get_Rooming_Data","AC_ID","FROM","My_Params_Get_Exposed_Calendar","TO","defaultMonths","language","room_type_ids","currency","child_nbr","currency_ref","res","arrivalTime","TBL_NAME","bookingSource","ratePricingMode","email","generateDays","amount","setDate","bookedByInfoData","assign_units","fromDate","toDate","totalNights","bookingNumber","defaultGuest","fromDateStr","toDateStr","firstName","lastName","country","city","contactNumber","address","dob","subscribe_to_news_letter","emailGuest","body","remark","property","selectedArrivalTime","roomtype","roomCategoryId","rateplans","availabilities","inventory","ratePlanId","rate_restrictions","variations","unit","roomName","adultCount","childrenCount","infant_nbr","notes","iglBlockDatesViewCss","IglBlockDatesView","blockDatesData","releaseList","bookingService","defaultData","getBlockedInfo","handleOptionalReason","emitData","handleReleaseAfterChange","evt","renderPage","getReleaseHoursString","dt","entryDate","entryHour","entryMinute","setHours","getHours","getMinutes","toLocaleString","handleOutOfService","checked","renderAgain","releaseItem","iglBookPropertyCss","IglBookProperty","PAGE_ZERO","PAGE_ONE","PAGE_TWO","PAGE_BLOCK_DATES","showSplitBookingOption","sourceOptions","selectedRooms","bookingData","defaultDateRange","dateRangeData","setupEntries","fetchSetupEntries","setSourceOptions","setOtherProperties","isEventType","setEditingRoomInfo","page","getDefaultPage","sourceOption","category","getRoomCategoryByRoomId","getBookingPreferenceRoomId","rateType","totalRooms","roomsInfo","getBookingAvailability","roomtypes","tax_statement","roomCategory","event_type","getSplitBookings","splitBookingEvents","closeWindow","closeBookingWindow","onRoomsDataUpdate","detail","roomCategoryKey","getRoomCategoryKey","ratePlanKey","getRatePlanKey","shouldClearData","initializeRoomCategoryIfNeeded","setSelectedRoomData","isEditBookingEvent","hasSelectedRoomData","removeUnselectedRooms","applyBookingEditToSelectedRoom","cleanupEmptyData","onDateRangeSelect","initializeBookingAvailability","handleBlockDateUpdate","stopImmediatePropagation","stopPropagation","handleSubmit","preventDefault","handleGuestInfoUpdate","handleBookedByInfoUpdate","isActiveSouceOption","srcIndex","handleSourceDropDown","selectedOption","gotoSplitPageTwo","gotoPage","showSplitBooking","getSelectedSplitBookingName","bookingId","splitBooking","isActiveSplitBookingOption","spltIndex","splitBookingId","handleSplitBookingDropDown","isPageZero","isPageOne","isPageTwo","isPageBlockDates","getSplitBookingList","getSourceNode","getRoomsListFromCategoryId","categoryId","getPageZeroView","onClick","getPageOneView","onDateSelectEvent","roomInfo","roomTypeData","onDataUpdateEvent","disabled","getPageBlockDatesView","handleBlockDate","releaseAfterHours","handleButtonClicked","bookUser","handlePageTwoDataUpdateEvent","releaseData","blockUnit","setLoadingState","getArrivalTimeForBooking","resetLoadingState","isLoading","BLOCK_DATES_TITLE","TITLE","isEditOrAddRoomEvent","onButtonClicked","iglBookingEventCss","IglBookingEvent","dayWidth","eventSpace","vertSpace","showInfoPopup","bubbleInfoTopSide","resizeSide","isDragging","handleMouseMoveBind","handleMouseMove","handleMouseUpBind","handleMouseUp","handleClickOutsideBind","handleClickOutside","componentDidLoad","isNewEvent","bookingEvent","hideBubble","showEventInfo","disconnectedCallback","clickedElement","element","contains","hideBubbleInfoPopup","currentInfoBubbleId","getBookingId","moveBookingToHandler","moveToDay","toRoomId","fromRoomId","isTouchStart","moveDiffereneX","moveDiffereneY","getBookedRoomId","onMoveUpdateBooking","renderElement","getUniqueId","reverse","tempDate","getStayDays","isSplitBooking","isHighlightEventType","getEventType","getBookingStatus","getBookedBy","getEventStartingDate","getEventEndingDate","getEventLegend","orderRide","color","getLegendOfStatus","aStatusId","getNoteNode","INTERNAL_NOTE","getBalanceNode","setStayDays","aStayDays","getPosition","startingDate","startingCellClass","bodyContainer","querySelector","startingCell","pos","top","left","width","height","getBoundingClientRect","bodyContainerRect","boundingRect","getNumber","aData","parseFloat","startDragging","side","initialX","clientX","touches","initialY","clientY","elementRect","offsetX","offsetY","dragInitPos","pool","style","x","y","dragEndPos","dragOverEventData","initialWidth","offsetWidth","initialLeft","offsetLeft","currentX","distanceX","currentY","distanceY","newWidth","max","newLeft","finalWidth","abs","numberOfDays","initialStayDays","updateEventData","showInfo","midPoint","hideBubbleInfo","noteNode","balanceNode","backgroundColor","onTouchStart","onMouseDown","bubbleInfoTop","iglBookingEventHoverCss","IglBookingEventHover","todayTimeStamp","getTotalOccupants","getPhoneNumber","getCountry","getGuestNote","getInternalNote","getTotalPrice","getCheckInDate","getCheckOutDate","getArrivalTime","getRatePlan","getEntryDate","getReleaseAfterHours","isNewBooking","isCheckedIn","isCheckedOut","isBlockedDateEvent","getRoomId","getCategoryByRoomId","hasSplitBooking","canCheckIn","fromTimeStamp","toTimeStamp","canCheckOut","handleEditBooking","handleBookingOption","getStringDateFormat","handleAddRoom","from_date_str","to_date_str","eventData","ADD_ROOM_TO_BOOKING","editabled","handleCustomerCheckIn","handleCustomerCheckOut","handleDeleteEvent","deleteButton","handleUpdateBlockedDates","handleConvertBlockedDateToBooking","eventType","roomData","showBookingPopup","getInfoElement","role","getNewBookingOptions","getBlockedView","iglBookingRoomRatePlanCss","IglBookingRoomRatePlan","selectedData","ratePlanData","isRateModified","defaultSelectedRate","getSelectedOffering","variation","handleRateDaysUpdate","changedKey","handleInput","inputElement","inputValue","numericRegex","offering","bookProperty","gotoSplitPageTwoEvent","totalAvailableRooms","iglBookingRoomsCss","IglBookingRooms","validBookingTypes","fill","roomsDistributions","onRoomDataUpdate","newValue","updateRatePlanTotalRooms","ratePlanIndex","calculateTotalSelectedRoomsExcludingIndex","excludedIndex","reduce","acc","idx","ratePlan","totalSelectedRoomsExcludingCurrent","availableRooms","iglCalBodyCss","IglCalBody","dragOverHighlightElementHandler","dragOverElement","gotoRoom","expanded","toggleCategory","scrollToRoom","addToBeAssignedEvents","addBookingDatas","scrollPageToRoom","refClass","calendarData","getCategoryRooms","getCategoryName","getCategoryId","getTotalPhysicalRooms","getRoomName","getRoomById","physicalRooms","physical_room","getBookingData","bookingEvents","getSelectedCellRefName","selectedDay","getSplitBookingEvents","newEvent","ind","ev","addNewEvent","EMAIL","REFERENCE_TYPE","getTwoDigitNumStr","CATEGORY","editable","popupTitle","getDateStr","num","locale","removeNewEvent","events","clickCell","isScrollViewDragging","refKey","showNewBookingPopup","getGeneralCategoryDayColumns","addClass","isCategory","dayInfo","today","getGeneralRoomDayColumns","getRoomCategoryRow","getRoomsByCategory","getRoomRows","allBookingEvents","iglCalFooterCss","IglCalFooter","handleOptionEvent","optionEvent","iglCalHeaderCss","IglCalHeader","searchValue","searchList","handleReduceAvailableUnitEvent","selectedDate","tobeAssignedCount","renderView","showToBeAssigned","gotoToBeAssignedDate","handleDateSelect","picker","blur","handleClearSearch","handleFilterRooms","toLocaleLowerCase","handleScrollToRoom","gotoRoomEvent","getNewBookingModel","monthsInfo","monthInfo","iglDateRangeCss","IglDateRange","dateEditable","maxDate1","maxDate2","getFormattedDateString","calculateTotalNights","handleDateSelectEvent","openDatePicker","targetElement","showPicker","dateSelectEvent","iglLegendsCss","IglLegends","legendInfo","design","iglPagetwoCss","IglPagetwo","initializeGuestData","newSelectedUnits","handleOnApplicationInfoDataUpdateEvent","categoryIdKey","updatedUnits","buttonClicked","iglPropertyBookedByCss","IglPropertyBookedBy","arrivalTimeList","countryNodeList","expiryMonths","expiryYears","currentMonth","countryId","isdCode","cardNumber","cardHolderName","expiryMonth","expiryYear","fetchCountries","initializeExpiryYears","initializeDateData","populateBookedByData","bookedByData","getCountries","currentYear","foundTime","time","handleNumberInput","isValidEmail","getUserInfo","emailId","emailPattern","handleEmailInput","onBlur","checkUser","countryNode","phone_prefix","rows","pattern","ToBeAssignedService","convertUnassignedDates","specific_date","transformToAssignable","customer","unassigned_rooms","roomTypeName","room_type_name","guest_name","unassigned_date","BOOKING_NUMBER","book_nbr","fromDateTimeStamp","toDateTimeStamp","RT_ID","getRoomTypeId","updateAvailableRooms","addDefaultDateRange","assignable_units","Is_Fully_Available","Is_Not_Available","dates","convertedDates","categories","dateStr","iglTbaBookingViewCss","IglTbaBookingView","highlightSection","allRoomsList","toBeAssignedService","onSelectRoom","selectedRoom","componentShouldUpdate","oldValue","propName","categoryIndex","eventIndex","handleHighlightAvailability","assignUnit","assignEvent","addToBeAssignedEvent","assignRoomEvent","highlightToBeAssignedBookingEvent","filteredEvents","handleCloseAssignment","highlightBookingEvent","handleAssignUnit","iglTbaCategoryViewCss","IglTbaCategoryView","handleAssignRoomEvent","eventDatas","assignUnitEvent","getEventView","categoriesData","onAssignRoomEvent","iglToBeAssignedCss","IglToBeAssigned","reArrangeData","categorisedRooms","getUnassignedRooms","unassignedDates","roomIds","getUnassignedDates","firstKey","updateCategories","orderedDatesList","sort","gotoDate","showForDate","showDatesList","dateStamp","showUnassignedDate","getDay","dayOfWeek","getLocalizedDayOfWeek","weekday","toLocaleDateString","getToBeAssignedEntities","getCategoryView","onAssignUnitEvent","reduceAvailableUnitEvent","loadingMessage","Fragment","ordDate","RoomService","EventsService","destination_pr_id","iglooCalendarCss","IglooCalendar","visibleCalendarCells","roomService","eventsService","scrollViewDragPos","onScrollContentMoveHandler","dx","dy","scrollContainer","scrollTop","scrollLeft","scrollViewDragging","onScrollContentMoveEndHandler","setItem","ticket","initializeApp","baseurl","fetchData","roomResp","setRoomsData","getCalendarData","bookingResp","getLegendData","endingDate","toBeAssignedEvents","updateBookingEventsDateRange","startingDay","getStartingDateOfCalendar","scrollToElement","deleteEvent","roomServiceResp","roomsData","calendar_legends","getEndingDateOfCalendar","getLocalizedMonth","goToDate","topLeftCell","gotoDay","scrollTo","gotoRect","containerRect","topLeftCellRect","targetScrollClass","shouldRenderCalendarView","onOptionSelect","calendarElement","classList","toggle","showLegend","bookingItem","closeSideMenu","dragScrollContent","isPreventPageScroll","hasAncestorWithClass","calendarScrolling","leftSideMenuSize","maxWidth","leftX","rightX","cells","querySelectorAll","monthContainer","monthRect","titleElement","marginLeft","monthWidth","className","currentElement","parentElement","showBookingPopupEventDataHandler","updateEventDataHandler","bookedData","bookedEvent","dragOverEventDataHandler","containerDays","containerRooms","htmlElement","getAttribute","offsetTop","offsetHeight","highlightDragOver","hightLightElement","currentPosition","xElement","yElement","dragOverHighlightElement","moveBookingTo","onOptionEvent","onScroll","onCloseBookingWindow","onlineResources","isCSS","link","IrCommon","parseRefs","initializeStyles","hrefsChanged","extraResources","resources","appendTag","tagName","attributes","tag","selectorParts","attr","selector","existingTag","appendChild","rel","isJS","src","irTooltipCss","IrTooltip","toggleOpen","shouldOpen","tooltipTimeout","clearTimeout","onMouseEnter","onMouseLeave","innerHTML"],"sources":["./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js","./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js","./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js","./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js","./src/components/igloo-calendar/igl-application-info/igl-application-info.css?tag=igl-application-info&encapsulation=scoped","./src/components/igloo-calendar/igl-application-info/igl-application-info.tsx","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/bind.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/utils.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/AxiosError.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/null.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/toFormData.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/buildURL.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/InterceptorManager.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/defaults/transitional.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/platform/browser/classes/FormData.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/platform/browser/classes/Blob.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/platform/browser/index.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/toURLEncodedForm.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/formDataToJSON.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/defaults/index.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/parseHeaders.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/AxiosHeaders.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/transformData.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/cancel/isCancel.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/cancel/CanceledError.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/settle.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/cookies.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/isAbsoluteURL.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/combineURLs.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/buildFullPath.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/isURLSameOrigin.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/parseProtocol.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/speedometer.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/adapters/xhr.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/adapters/adapters.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/dispatchRequest.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/mergeConfig.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/env/data.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/validator.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/core/Axios.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/cancel/CancelToken.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/spread.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/isAxiosError.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/helpers/HttpStatusCode.js","./node_modules/.pnpm/axios@1.5.1/node_modules/axios/lib/axios.js","./src/utils/utils.ts","./src/utils/booking.ts","./src/services/booking.service.ts","./src/components/igloo-calendar/igl-block-dates-view/igl-block-dates-view.css?tag=igl-block-dates-view&encapsulation=scoped","./src/components/igloo-calendar/igl-block-dates-view/igl-block-dates-view.tsx","./src/components/igloo-calendar/igl-book-property/igl-book-property.css?tag=igl-book-property&encapsulation=scoped","./src/components/igloo-calendar/igl-book-property/igl-book-property.tsx","./src/components/igloo-calendar/igl-booking-event/igl-booking-event.css?tag=igl-booking-event&encapsulation=scoped","./src/components/igloo-calendar/igl-booking-event/igl-booking-event.tsx","./src/components/igloo-calendar/igl-booking-event-hover/igl-booking-event-hover.css?tag=igl-booking-event-hover&encapsulation=scoped","./src/components/igloo-calendar/igl-booking-event-hover/igl-booking-event-hover.tsx","./src/components/igloo-calendar/igl-booking-room-rate-plan/igl-booking-room-rate-plan.css?tag=igl-booking-room-rate-plan&encapsulation=scoped","./src/components/igloo-calendar/igl-booking-room-rate-plan/igl-booking-room-rate-plan.tsx","./src/components/igloo-calendar/igl-booking-rooms/igl-booking-rooms.css?tag=igl-booking-rooms&encapsulation=scoped","./src/components/igloo-calendar/igl-booking-rooms/igl-booking-rooms.tsx","./src/components/igloo-calendar/igl-cal-body/igl-cal-body.css?tag=igl-cal-body&encapsulation=scoped","./src/components/igloo-calendar/igl-cal-body/igl-cal-body.tsx","./src/components/igloo-calendar/igl-cal-footer/igl-cal-footer.css?tag=igl-cal-footer&encapsulation=scoped","./src/components/igloo-calendar/igl-cal-footer/igl-cal-footer.tsx","./src/components/igloo-calendar/igl-cal-header/igl-cal-header.css?tag=igl-cal-header&encapsulation=scoped","./src/components/igloo-calendar/igl-cal-header/igl-cal-header.tsx","./src/components/igloo-calendar/igl-date-range/igl-date-range.css?tag=igl-date-range&encapsulation=scoped","./src/components/igloo-calendar/igl-date-range/igl-date-range.tsx","./src/components/igloo-calendar/igl-legends/igl-legends.css?tag=igl-legends&encapsulation=scoped","./src/components/igloo-calendar/igl-legends/igl-legends.tsx","./src/components/igloo-calendar/igl-pagetwo/igl-pagetwo.css?tag=igl-pagetwo&encapsulation=scoped","./src/components/igloo-calendar/igl-pagetwo/igl-pagetwo.tsx","./src/components/igloo-calendar/igl-property-booked-by/igl-property-booked-by.css?tag=igl-property-booked-by&encapsulation=scoped","./src/components/igloo-calendar/igl-property-booked-by/igl-property-booked-by.tsx","./src/services/toBeAssigned.service.ts","./src/components/igloo-calendar/igl-to-be-assigned/igl-tba-booking-view/igl-tba-booking-view.css?tag=igl-tba-booking-view&encapsulation=scoped","./src/components/igloo-calendar/igl-to-be-assigned/igl-tba-booking-view/igl-tba-booking-view.tsx","./src/components/igloo-calendar/igl-to-be-assigned/igl-tba-category-view/igl-tba-category-view.css?tag=igl-tba-category-view&encapsulation=scoped","./src/components/igloo-calendar/igl-to-be-assigned/igl-tba-category-view/igl-tba-category-view.tsx","./src/components/igloo-calendar/igl-to-be-assigned/igl-to-be-assigned.css?tag=igl-to-be-assigned&encapsulation=scoped","./src/components/igloo-calendar/igl-to-be-assigned/igl-to-be-assigned.tsx","./src/services/room.service.ts","./src/services/events.service.ts","./src/components/igloo-calendar/igloo-calendar.css?tag=igloo-calendar&encapsulation=scoped","./src/components/igloo-calendar/igloo-calendar.tsx","./src/common/ir.common.resources.ts","./src/components/ir-common/ir-common.tsx","./src/components/ir-tooltip/ir-tooltip.css?tag=ir-tooltip&encapsulation=scoped","./src/components/ir-tooltip/ir-tooltip.tsx"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  Watch,\r\n  State,\r\n} from \"@stencil/core\";\r\nimport { v4 } from \"uuid\";\r\n\r\n@Component({\r\n  tag: \"igl-application-info\",\r\n  styleUrl: \"igl-application-info.css\",\r\n  scoped: true,\r\n})\r\nexport class IglApplicationInfo {\r\n  @Prop() guestInfo: { [key: string]: any };\r\n  @Prop({ reflect: true, mutable: true }) roomsList: { [key: string]: any }[] =\r\n    [];\r\n  @Prop() guestRefKey: string;\r\n  @Prop() bedPreferenceType = [];\r\n  @Prop() selectedUnits: number[] = [];\r\n  @Prop() bookingType: string = \"PLUS_BOOKING\";\r\n  @Prop() index: number;\r\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\r\n  @State() filterdRoomList = [];\r\n  private guestData: { [key: string]: any };\r\n\r\n  componentWillLoad() {\r\n    this.guestData = this.guestInfo ? { ...this.guestInfo } : {};\r\n    this.updateRoomList();\r\n  }\r\n  @Watch(\"selectedUnits\")\r\n  async handleSelctedUnits() {\r\n    this.updateRoomList();\r\n  }\r\n  updateRoomList() {\r\n    const units = [...this.selectedUnits];\r\n    units[this.index] = -1;\r\n    this.filterdRoomList = this.roomsList.filter((e) => !units.includes(e.id));\r\n  }\r\n  updateData() {\r\n    this.dataUpdateEvent.emit({\r\n      key: \"roomRatePlanUpdate\",\r\n      guestRefKey: this.guestRefKey,\r\n      data: { ...this.guestData },\r\n    });\r\n  }\r\n\r\n  handleDataChange(key, value) {\r\n    this.guestData[key] = value;\r\n    if (key === \"roomId\") {\r\n      this.guestData[\"roomName\"] =\r\n        this.filterdRoomList.find((room) => room.id === value).name || \"\";\r\n    }\r\n    this.updateData();\r\n  }\r\n\r\n  handleGuestNameChange(event) {\r\n    // console.log(\"On Guest name Change::\", event.target.value);\r\n    this.guestData.guestName = event.target.value;\r\n    this.updateData();\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.guestInfo, this.roomsList);\r\n    return (\r\n      <Host>\r\n        <div class=\"text-left mt-1\">\r\n          <div class=\"ml-1 mb-1\">\r\n            {this.bookingType === \"PLUS_BOOKING\" ||\r\n            this.bookingType === \"ADD_ROOM\" ||\r\n            this.bookingType === \"EDIT_BOOKING\" ? (\r\n              <span class=\"h5\">{this.guestInfo.roomCategoryName}</span>\r\n            ) : null}\r\n            <span class=\"ml-1 font-weight-bold\">\r\n              {this.guestInfo.ratePlanName.replace(\r\n                this.guestInfo.roomCategoryName + \"/\",\r\n                \"\"\r\n              )}\r\n              <ir-tooltip\r\n                class=\"ml-1 mr-1\"\r\n                message={this.guestInfo.cancelation + this.guestInfo.guarantee}\r\n              ></ir-tooltip>\r\n            </span>\r\n            <span>{this.guestInfo.adult_child_offering}</span>\r\n          </div>\r\n\r\n          <div class=\"row m-0 p-0 align-items-center\">\r\n            <div class=\"col-5\">\r\n              <input\r\n                id={v4()}\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                placeholder=\"Guest first name & last name\"\r\n                name=\"guestName\"\r\n                onInput={(event) => this.handleGuestNameChange(event)}\r\n                required\r\n                value={this.guestData.guestName}\r\n              />\r\n            </div>\r\n            {this.bookingType === \"PLUS_BOOKING\" ||\r\n            this.bookingType === \"ADD_ROOM\" ||\r\n            this.bookingType === \"EDIT_BOOKING\" ? (\r\n              <div class=\"col-2 p-0\">\r\n                <select\r\n                  class=\"form-control input-sm pr-0\"\r\n                  id={v4()}\r\n                  onChange={(event) =>\r\n                    this.handleDataChange(\r\n                      \"roomId\",\r\n                      parseInt((event.target as HTMLInputElement).value)\r\n                    )\r\n                  }\r\n                >\r\n                  <option value=\"\" selected={this.guestData.roomId === \"\"}>\r\n                    Assign units\r\n                  </option>\r\n                  {this.filterdRoomList.map((room) => (\r\n                    <option\r\n                      value={room.id}\r\n                      selected={this.guestData.roomId === room.id}\r\n                    >\r\n                      {room.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            ) : null}\r\n\r\n            <div class=\"col-3\">\r\n              <select\r\n                class=\"form-control input-sm\"\r\n                id={v4()}\r\n                onChange={(event) =>\r\n                  this.handleDataChange(\r\n                    \"preference\",\r\n                    (event.target as HTMLInputElement).value\r\n                  )\r\n                }\r\n              >\r\n                <option value=\"\" selected={this.guestData.preference === \"\"}>\r\n                  No preference\r\n                </option>\r\n                {this.bedPreferenceType.map((data) => (\r\n                  <option\r\n                    value={data.CODE_NAME}\r\n                    selected={this.guestData.preference === data.CODE_NAME}\r\n                  >\r\n                    {data.CODE_VALUE_EN}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div class=\"col-2\">${this.guestInfo.rate}</div>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst isStandardBrowserEnv = (() => {\n  let product;\n  if (typeof navigator !== 'undefined' && (\n    (product = navigator.product) === 'ReactNative' ||\n    product === 'NativeScript' ||\n    product === 'NS')\n  ) {\n    return false;\n  }\n\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n})();\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\n const isStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  isStandardBrowserEnv,\n  isStandardBrowserWebWorkerEnv,\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      if (!hasJSONContentType) {\n        return data;\n      }\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        const cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n// Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })();\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    const responseType = config.responseType;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let contentType;\n\n    if (utils.isFormData(requestData)) {\n      if (platform.isStandardBrowserEnv || platform.isStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else if(!requestHeaders.getContentType(/^\\s*multipart\\/form-data/)){\n        requestHeaders.setContentType('multipart/form-data'); // mobile/desktop app frameworks\n      } else if(utils.isString(contentType = requestHeaders.getContentType())){\n        // fix semicolon duplication issue for ReactNative FormData implementation\n        requestHeaders.setContentType(contentType.replace(/^\\s*(multipart\\/form-data);+/, '$1'))\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (platform.isStandardBrowserEnv) {\n      // Add xsrf header\n      const xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath))\n        && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n      if (xsrfValue) {\n        requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","export const VERSION = \"1.5.1\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import IBooking, { PhysicalRoomType } from \"../models/IBooking\";\r\n\r\nexport function convertDateToCustomFormat(\r\n  dayWithWeekday: string,\r\n  monthWithYear: string\r\n): string {\r\n  const months = [\r\n    \"JAN\",\r\n    \"FEB\",\r\n    \"MAR\",\r\n    \"APR\",\r\n    \"MAY\",\r\n    \"JUN\",\r\n    \"JUL\",\r\n    \"AUG\",\r\n    \"SEP\",\r\n    \"OCT\",\r\n    \"NOV\",\r\n    \"DEC\",\r\n  ];\r\n\r\n  const [_, day] = dayWithWeekday.split(\" \");\r\n  const [month, year] = monthWithYear.split(\" \");\r\n\r\n  const monthIndex = months.indexOf(month);\r\n  if (monthIndex !== -1) {\r\n    return `${day}_${monthIndex + 1}_${year}`;\r\n  } else {\r\n    throw new Error(\"Invalid Month\");\r\n  }\r\n}\r\n\r\nexport function convertDateToTime(\r\n  dayWithWeekday: string,\r\n  monthWithYear: string\r\n): number {\r\n  const months = [\r\n    \"JAN\",\r\n    \"FEB\",\r\n    \"MAR\",\r\n    \"APR\",\r\n    \"MAY\",\r\n    \"JUN\",\r\n    \"JUL\",\r\n    \"AUG\",\r\n    \"SEP\",\r\n    \"OCT\",\r\n    \"NOV\",\r\n    \"DEC\",\r\n  ];\r\n\r\n  const [_, day] = dayWithWeekday.split(\" \");\r\n  const [month, year] = monthWithYear.split(\" \");\r\n\r\n  const monthIndex = months.indexOf(month);\r\n  if (monthIndex !== -1) {\r\n    return new Date(`${year}-${monthIndex + 1}-${day}`).getTime();\r\n  } else {\r\n    throw new Error(\"Invalid Month\");\r\n  }\r\n}\r\nexport function dateDifference(FROM_DATE: string, TO_DATE: string): number {\r\n  const startDate = new Date(FROM_DATE);\r\n  const endDate = new Date(TO_DATE);\r\n  return Math.ceil(\r\n    (endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24)\r\n  );\r\n}\r\nexport const getBrowserLanguage = (): string => {\r\n  const defaultLang = \"en\";\r\n  const lang = navigator.language || defaultLang;\r\n  return lang.toUpperCase().split(\"-\")[0];\r\n};\r\n\r\nexport const transformBooking = (\r\n  physicalRoom: PhysicalRoomType[]\r\n): IBooking[] => {\r\n  const myBookings: IBooking[] = [];\r\n  physicalRoom.forEach((room) => {\r\n    Object.keys(room.calendar_cell).forEach((key) => {\r\n      if (room.calendar_cell[key].Is_Available === false) {\r\n        if (myBookings.find((b) => b.ID === room.id.toString())) {\r\n        } else {\r\n          //myBookings.push({})\r\n        }\r\n      }\r\n    });\r\n  });\r\n  return myBookings;\r\n};\r\n\r\nexport function dateToFormattedString(date: Date): string {\r\n  const year = date.getFullYear();\r\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\"); // +1 because months are 0-based in JS\r\n  const day = date.getDate().toString().padStart(2, \"0\");\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nexport function formatLegendColors(legendData) {\r\n  let formattedLegendData: any = {};\r\n\r\n  const statusId = {\r\n    \"IN-HOUSE\": { id: 1, clsName: \"IN_HOUSE\" },\r\n    CONFIRMED: { id: 2, clsName: \"CONFIRMED\" },\r\n    \"PENDING-CONFIRMATION\": { id: 3, clsName: \"PENDING_CONFIRMATION\" },\r\n    \"SPLIT-UNIT\": { id: 4, clsName: \"SPLIT_UNIT\" },\r\n    \"CHECKED-IN\": { id: 5, clsName: \"CHECKED_IN\" },\r\n    \"CHECKED-OUT\": { id: 5, clsName: \"CHECKED_OUT\" },\r\n    BLOCKED: { id: 6, clsName: \"BLOCKED\" },\r\n    \"BLOCKED-WITH-DATES\": { id: 7, clsName: \"BLOCKED_WITH_DATES\" },\r\n    NOTES: { id: 8, clsName: \"NOTES\" },\r\n    \"OUTSTANDING-BALANCE\": { id: 9, clsName: \"OUTSTANDING_BALANCE\" },\r\n  };\r\n\r\n  legendData.forEach((legend) => {\r\n    formattedLegendData[legend.id] = legend;\r\n    formattedLegendData.statusId = statusId; // NOTE: This will overwrite the 'statusId' property with every iteration.\r\n  });\r\n\r\n  return formattedLegendData;\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  PhysicalRoomType,\r\n  MonthType,\r\n  CellType,\r\n  STATUS,\r\n} from \"../models/IBooking\";\r\nimport { dateDifference } from \"./utils\";\r\n\r\nexport async function getMyBookings(months: MonthType[]): Promise<any[]> {\r\n  const myBookings: any[] = [];\r\n  const stayStatus = await getStayStatus();\r\n  for (const month of months) {\r\n    for (const day of month.days) {\r\n      for (const room of day.room_types) {\r\n        assignBooking(room.physicalrooms, myBookings, stayStatus);\r\n      }\r\n    }\r\n  }\r\n\r\n  return myBookings;\r\n}\r\n\r\nfunction assignBooking(\r\n  physicalRoom: PhysicalRoomType[],\r\n  myBookings: any[],\r\n  stayStatus: { code: string; value: string }[]\r\n): void {\r\n  for (const room of physicalRoom) {\r\n    for (const key in room.calendar_cell) {\r\n      if (room.calendar_cell[key].Is_Available === false) {\r\n        addOrUpdateBooking(room.calendar_cell[key], myBookings, stayStatus);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nasync function getStayStatus() {\r\n  try {\r\n    const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n    if (token) {\r\n      const { data } = await axios.post(\r\n        `/Get_Setup_Entries_By_TBL_NAME_Multi?Ticket=${token}`,\r\n        {\r\n          TBL_NAMES: [\"_STAY_STATUS\"],\r\n        }\r\n      );\r\n      return data.My_Result.map((d) => ({\r\n        code: d.CODE_NAME,\r\n        value: d.CODE_VALUE_EN,\r\n      }));\r\n    } else {\r\n      throw new Error(\"Invalid Token\");\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nconst status: Record<string, STATUS> = {\r\n  \"004\": \"BLOCKED\",\r\n  \"003\": \"BLOCKED-WITH-DATES\",\r\n  \"002\": \"BLOCKED\",\r\n  \"001\": \"IN-HOUSE\",\r\n};\r\n\r\nfunction getDefaultData(\r\n  cell: CellType,\r\n  stayStatus: { code: string; value: string }[]\r\n): any {\r\n  if ([\"003\", \"002\", \"004\"].includes(cell.STAY_STATUS_CODE)) {\r\n    return {\r\n      ID: cell.POOL,\r\n      NOTES: cell.My_Block_Info.NOTES,\r\n      BALANCE: \"\",\r\n      NAME:\r\n        stayStatus.find((st) => st.code === cell.STAY_STATUS_CODE).value || \"\",\r\n      RELEASE_AFTER_HOURS: cell.My_Block_Info.DESCRIPTION,\r\n      PR_ID: cell.My_Block_Info.pr_id,\r\n      ENTRY_DATE: cell.My_Block_Info.BLOCKED_TILL_DATE,\r\n      ENTRY_HOUR: cell.My_Block_Info.BLOCKED_TILL_HOUR,\r\n      ENTRY_MINUTE: cell.My_Block_Info.BLOCKED_TILL_MINUTE,\r\n      OPTIONAL_REASON: cell.My_Block_Info.NOTES,\r\n      FROM_DATE: cell.DATE,\r\n      TO_DATE: cell.DATE,\r\n      NO_OF_DAYS: 1,\r\n      STATUS: status[cell.STAY_STATUS_CODE],\r\n      POOL: cell.POOL,\r\n      STATUS_CODE: cell.STAY_STATUS_CODE,\r\n      OUT_OF_SERVICE: cell.STAY_STATUS_CODE === \"004\",\r\n    };\r\n  }\r\n  //console.log(cell);\r\n  return {\r\n    ID: cell.booking.booking_nbr,\r\n    TO_DATE: cell.DATE,\r\n    FROM_DATE: cell.DATE,\r\n    NO_OF_DAYS: 1,\r\n    IS_EDITABLE: cell.booking.is_editable,\r\n    STATUS: status[cell.STAY_STATUS_CODE],\r\n    NAME:\r\n      `${cell.room.guest.first_name ?? \"\"} , ${\r\n        cell.room.guest.last_name ?? \"\"\r\n      }` ?? \"\",\r\n    PHONE: cell.booking.guest.mobile ?? \"\",\r\n    ENTRY_DATE: cell.booking.booked_on.date,\r\n    RATE: cell.room.total,\r\n    RATE_PLAN: cell.room.rateplan.name,\r\n    SPLIT_BOOKING: false,\r\n    RATE_PLAN_ID: cell.room.rateplan.id,\r\n    IDENTIFIER: cell.room.identifier,\r\n    RATE_TYPE: 1,\r\n    ADULTS_COUNT: cell.room.occupancy.adult_nbr,\r\n    CHILDREN_COUNT: cell.room.occupancy.children_nbr,\r\n    PR_ID: cell.pr_id,\r\n    POOL: cell.POOL,\r\n    GUEST: cell.booking.guest,\r\n    rooms: cell.booking.rooms,\r\n    TOTAL_PRICE: cell.room.total,\r\n    COUNTRY: cell.room.guest.country_id,\r\n    FROM_DATE_STR: cell.booking.format.from_date,\r\n    TO_DATE_STR: cell.booking.format.to_date,\r\n  };\r\n}\r\n\r\nfunction updateBookingWithStayData(data: any, cell: CellType): any {\r\n  data.NO_OF_DAYS = dateDifference(data.FROM_DATE, cell.DATE);\r\n  data.TO_DATE = cell.DATE;\r\n\r\n  if (cell.booking) {\r\n    const { arrival } = cell.booking;\r\n    Object.assign(data, {\r\n      ARRIVAL_TIME: arrival.description,\r\n    });\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nfunction addOrUpdateBooking(\r\n  cell: CellType,\r\n  myBookings: any[],\r\n  stayStatus: { code: string; value: string }[]\r\n): void {\r\n  const index = myBookings.findIndex((booking) => booking.POOL === cell.POOL);\r\n\r\n  if (index === -1) {\r\n    const newData = getDefaultData(cell, stayStatus);\r\n    myBookings.push(newData);\r\n  } else {\r\n    const updatedData = updateBookingWithStayData(myBookings[index], cell);\r\n    myBookings[index] = updatedData;\r\n  }\r\n}\r\n","import { DayData } from \"../models/DayType\";\r\nimport axios from \"axios\";\r\nimport {\r\n  BookingDetails,\r\n  IBlockUnit,\r\n  ICountry,\r\n  IEntries,\r\n  ISetupEntries,\r\n  MonthType,\r\n} from \"../models/IBooking\";\r\n\r\nimport {\r\n  convertDateToCustomFormat,\r\n  convertDateToTime,\r\n  dateToFormattedString,\r\n} from \"../utils/utils\";\r\nimport { getMyBookings } from \"../utils/booking\";\r\nimport { Day } from \"../models/booking.dto\";\r\n\r\nexport class BookingService {\r\n  public async getCalendarData(\r\n    propertyid: number,\r\n    from_date: string,\r\n    to_date: string\r\n  ): Promise<{ [key: string]: any }> {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token !== null) {\r\n        const { data } = await axios.post(\r\n          `/Get_Exposed_Calendar?Ticket=${token}`,\r\n          {\r\n            propertyid,\r\n            from_date,\r\n            to_date,\r\n          }\r\n        );\r\n        const months: MonthType[] = data.My_Result.months;\r\n        const customMonths: { daysCount: number; monthName: string }[] = [];\r\n        const myBooking = await getMyBookings(months);\r\n        const days: DayData[] = months\r\n          .map((month) => {\r\n            customMonths.push({\r\n              daysCount: month.days.length,\r\n              monthName: month.description,\r\n            });\r\n            return month.days.map((day) => ({\r\n              day: convertDateToCustomFormat(\r\n                day.description,\r\n                month.description\r\n              ),\r\n              currentDate: convertDateToTime(\r\n                day.description,\r\n                month.description\r\n              ),\r\n              dayDisplayName: day.description,\r\n              rate: day.room_types,\r\n              unassigned_units_nbr: day.unassigned_units_nbr,\r\n              occupancy: day.occupancy,\r\n            }));\r\n          })\r\n          .flat();\r\n\r\n        return Promise.resolve({\r\n          ExceptionCode: null,\r\n          ExceptionMsg: \"\",\r\n          My_Params_Get_Rooming_Data: {\r\n            AC_ID: propertyid,\r\n            FROM: data.My_Params_Get_Exposed_Calendar.from_date,\r\n            TO: data.My_Params_Get_Exposed_Calendar.to_date,\r\n          },\r\n          days,\r\n          months: customMonths,\r\n          myBookings: myBooking,\r\n          defaultMonths: months,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  public async getBookingAvailability(\r\n    from_date: string,\r\n    to_date: string,\r\n    propertyid: number,\r\n    language: string,\r\n    room_type_ids: number[],\r\n    currency: { id: number; code: string }\r\n  ): Promise<BookingDetails> {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Get_Exposed_Booking_Availability?Ticket=${token}`,\r\n          {\r\n            propertyid,\r\n            from_date,\r\n            to_date,\r\n            adult_nbr: 2,\r\n            child_nbr: 0,\r\n            language,\r\n            currency_ref: currency.code,\r\n            room_type_ids,\r\n          }\r\n        );\r\n        return data[\"My_Result\"];\r\n      } else {\r\n        throw new Error(\"Token doesn't exist\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  public async getCountries(language: string): Promise<ICountry[]> {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Get_Exposed_Countries?Ticket=${token}`,\r\n          {\r\n            language,\r\n          }\r\n        );\r\n        return data.My_Result;\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  public async fetchSetupEntries(): Promise<ISetupEntries> {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Get_Setup_Entries_By_TBL_NAME_MULTI?Ticket=${token}`,\r\n          {\r\n            TBL_NAMES: [\r\n              \"_ARRIVAL_TIME\",\r\n              \"_BOOKING_SOURCE\",\r\n              \"_RATE_PRICING_MODE\",\r\n              \"_BED_PREFERENCE_TYPE\",\r\n            ],\r\n          }\r\n        );\r\n        const res: any[] = data.My_Result;\r\n        return {\r\n          arrivalTime: res.filter((e) => e.TBL_NAME === \"_ARRIVAL_TIME\"),\r\n          bookingSource: res.filter((e) => e.TBL_NAME === \"_BOOKING_SOURCE\"),\r\n          ratePricingMode: res.filter(\r\n            (e) => e.TBL_NAME === \"_RATE_PRICING_MODE\"\r\n          ),\r\n          bedPreferenceType: res.filter(\r\n            (e) => e.TBL_NAME === \"_BED_PREFERENCE_TYPE\"\r\n          ),\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  public async getBlockedInfo(): Promise<IEntries[]> {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Get_Setup_Entries_By_TBL_NAME_MULTI?Ticket=${token}`,\r\n          { TBL_NAMES: [\"_CALENDAR_BLOCKED_TILL\"] }\r\n        );\r\n        return data.My_Result;\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  public async blockUnit(params: IBlockUnit) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Block_Exposed_Unit?Ticket=${token}`,\r\n          params\r\n        );\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  public async getUserInfo(email: string) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/GET_EXPOSED_GUEST?Ticket=${token}`,\r\n          {\r\n            email,\r\n          }\r\n        );\r\n        return data.My_Result;\r\n      } else {\r\n        throw new Error(\"Invalid Token\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  private generateDays(\r\n    from_date: string,\r\n    to_date: string,\r\n    amount: number\r\n  ): Day[] {\r\n    const startDate = new Date(from_date);\r\n    const endDate = new Date(to_date);\r\n    const days: Day[] = [];\r\n\r\n    while (startDate < endDate) {\r\n      days.push({\r\n        date: startDate.toISOString().split(\"T\")[0],\r\n        amount: amount,\r\n      });\r\n      startDate.setDate(startDate.getDate() + 1);\r\n    }\r\n\r\n    return days;\r\n  }\r\n\r\n  public async bookUser(\r\n    bookedByInfoData,\r\n    assign_units: boolean,\r\n    fromDate: Date,\r\n    toDate: Date,\r\n    guestData,\r\n    totalNights: number,\r\n    source: { code: string; description: string },\r\n    propertyid: number,\r\n    currency: { id: number; code: string },\r\n    bookingNumber?: string,\r\n    defaultGuest?: any,\r\n    arrivalTime?: any\r\n  ) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const fromDateStr = dateToFormattedString(fromDate);\r\n        const toDateStr = dateToFormattedString(toDate);\r\n        let guest: any = {\r\n          id: null,\r\n          email: bookedByInfoData.email || null,\r\n          first_name: bookedByInfoData.firstName,\r\n          last_name: bookedByInfoData.lastName,\r\n          country_id: bookedByInfoData.country,\r\n          city: null,\r\n          mobile: bookedByInfoData.contactNumber,\r\n          address: \"\",\r\n          dob: null,\r\n          subscribe_to_news_letter: bookedByInfoData.emailGuest || false,\r\n        };\r\n        if (bookedByInfoData.id) {\r\n          guest = { ...guest, id: bookedByInfoData.id };\r\n        }\r\n        const body = {\r\n          assign_units,\r\n          booking: {\r\n            booking_nbr: bookingNumber || \"\",\r\n            from_date: fromDateStr,\r\n            to_date: toDateStr,\r\n            remark: bookedByInfoData.message || null,\r\n            property: {\r\n              id: propertyid,\r\n            },\r\n            source,\r\n            currency,\r\n            arrival: {\r\n              code: arrivalTime || bookedByInfoData.selectedArrivalTime,\r\n            },\r\n            guest: defaultGuest || guest,\r\n            rooms: guestData.map((data) => ({\r\n              roomtype: {\r\n                id: data.roomCategoryId,\r\n                name: data.roomCategoryName,\r\n                physicalrooms: null,\r\n                rateplans: null,\r\n                availabilities: null,\r\n                inventory: data.inventory,\r\n                rate: data.rate / totalNights,\r\n              },\r\n              rateplan: {\r\n                id: data.ratePlanId,\r\n                name: data.ratePlanName,\r\n                rate_restrictions: null,\r\n                variations: null,\r\n                cancelation: data.cancelation,\r\n                guarantee: data.guarantee,\r\n              },\r\n              unit: { id: data.roomId, name: data.roomName },\r\n              occupancy: {\r\n                adult_nbr: data.adultCount,\r\n                children_nbr: data.childrenCount,\r\n                infant_nbr: null,\r\n              },\r\n              from_date: fromDateStr,\r\n              to_date: toDateStr,\r\n              notes: null,\r\n              days: this.generateDays(\r\n                fromDateStr,\r\n                toDateStr,\r\n                +data.rate / totalNights\r\n              ),\r\n              guest: {\r\n                email: null,\r\n                first_name: data.guestName,\r\n                last_name: null,\r\n                country_id: null,\r\n                city: null,\r\n                mobile: null,\r\n                address: null,\r\n                dob: null,\r\n                subscribe_to_news_letter: null,\r\n              },\r\n            })),\r\n          },\r\n        };\r\n        console.log(body);\r\n        const { data } = await axios.post(\r\n          `/DoReservation?Ticket=${token}`,\r\n          body\r\n        );\r\n        console.log(data);\r\n        return data;\r\n      } else {\r\n        throw new Error(\"Invalid token\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n\r\n:host .controlContainer {\r\n  width: 24px;\r\n}\r\n\r\n:host .checkBoxContainer input {\r\n  height: 1.2rem !important;\r\n  width: 30px;\r\n}\r\n\r\n.releaseTime {\r\n  padding-left: 5px;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Prop,\r\n  State,\r\n  Event,\r\n  EventEmitter,\r\n} from \"@stencil/core\";\r\nimport { BookingService } from \"../../../services/booking.service\";\r\nimport { IEntries } from \"../../../models/IBooking\";\r\n\r\n@Component({\r\n  tag: \"igl-block-dates-view\",\r\n  styleUrl: \"igl-block-dates-view.css\",\r\n  scoped: true,\r\n})\r\nexport class IglBlockDatesView {\r\n  @Prop() defaultData: { [key: string]: any };\r\n  @Prop() fromDate: string;\r\n  @Prop() toDate: string;\r\n  @Prop() entryDate: string;\r\n  @Prop() entryHour: number;\r\n  @Prop() entryMinute: number;\r\n  @State() renderAgain: boolean = false;\r\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\r\n\r\n  private blockDatesData: { [key: string]: any } = {\r\n    RELEASE_AFTER_HOURS: 0,\r\n    OPTIONAL_REASON: \"\",\r\n    OUT_OF_SERVICE: false,\r\n  }; // Change of property name might require updates in booking-event-hover\r\n  private releaseList: IEntries[] = [];\r\n  private bookingService: BookingService = new BookingService();\r\n  async componentWillLoad() {\r\n    if (this.defaultData) {\r\n      this.blockDatesData = { ...this.defaultData };\r\n    }\r\n    this.releaseList = await this.bookingService.getBlockedInfo();\r\n  }\r\n\r\n  handleOptionalReason(event) {\r\n    this.blockDatesData.OPTIONAL_REASON = event.target.value;\r\n    this.emitData();\r\n  }\r\n\r\n  handleReleaseAfterChange(evt) {\r\n    this.blockDatesData.RELEASE_AFTER_HOURS = parseInt(evt.target.value);\r\n    this.renderPage();\r\n    this.emitData();\r\n  }\r\n\r\n  emitData() {\r\n    this.dataUpdateEvent.emit({\r\n      key: \"blockDatesData\",\r\n      data: { ...this.blockDatesData },\r\n    });\r\n  }\r\n\r\n  getReleaseHoursString() {\r\n    // console.log(this.entryDate);\r\n\r\n    let dt = this.entryDate ? new Date(this.entryDate) : new Date();\r\n    if (this.entryDate && this.entryHour && this.entryMinute) {\r\n      dt.setHours(this.entryHour, this.entryMinute, 0, 0);\r\n    } else {\r\n      dt.setHours(\r\n        dt.getHours() + this.blockDatesData.RELEASE_AFTER_HOURS,\r\n        dt.getMinutes(),\r\n        0,\r\n        0\r\n      );\r\n    }\r\n\r\n    return (\r\n      dt.toLocaleString(\"default\", { month: \"short\" }) +\r\n      \" \" +\r\n      dt.getDate() +\r\n      \", \" +\r\n      dt.getHours() +\r\n      \":\" +\r\n      dt.getMinutes()\r\n    );\r\n  }\r\n\r\n  handleOutOfService(evt) {\r\n    this.blockDatesData.OUT_OF_SERVICE = evt.target.checked;\r\n    if (this.blockDatesData.OUT_OF_SERVICE) {\r\n      this.blockDatesData.OPTIONAL_REASON = \"\";\r\n      this.blockDatesData.RELEASE_AFTER_HOURS = 0;\r\n    }\r\n    this.renderPage();\r\n    this.emitData();\r\n  }\r\n\r\n  renderPage() {\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"row m-0 p-0 ml-1 mb-1\">\r\n          <div class=\"col-12 text-left p-0\">\r\n            <span class=\"pr-1\">\r\n              <span class=\"text-bold-700 font-medium-1\">From: </span>\r\n              {this.fromDate}\r\n            </span>{\" \"}\r\n            <span class=\"text-bold-700 font-medium-1\">To: </span>\r\n            {this.toDate}\r\n          </div>\r\n        </div>\r\n        <div class=\"col mb-1 text-left\">\r\n          <div class=\"mb-1\">\r\n            <label class=\"p-0 text-bold-700 font-medium-1 m-0 align-middle\">\r\n              Reason:\r\n            </label>\r\n            <div class=\"p-0 m-0 pr-1 controlContainer checkBoxContainer d-inline-block align-middle\">\r\n              <input\r\n                class=\"form-control\"\r\n                type=\"checkbox\"\r\n                checked={this.blockDatesData.OUT_OF_SERVICE}\r\n                id=\"userinput6\"\r\n                onChange={(event) => this.handleOutOfService(event)}\r\n              />\r\n            </div>{\" \"}\r\n            <span class=\"align-middle\">Out of service</span>\r\n          </div>\r\n          {!this.blockDatesData.OUT_OF_SERVICE ? (\r\n            <div>\r\n              <div class=\"mb-1 d-flex w-100 align-items-center\">\r\n                <span class=\"align-middle\">or </span>\r\n                <div class=\"d-inline-flex col pr-0 align-middle\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Optional reason\"\r\n                    id=\"optReason\"\r\n                    value={this.blockDatesData.OPTIONAL_REASON}\r\n                    onInput={(event) => this.handleOptionalReason(event)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"mb-1 w-100 pr-0 \">\r\n                <span class=\"text-bold-700 font-medium-1\">\r\n                  Automatic release in:{\" \"}\r\n                </span>\r\n                <div class=\"d-inline-block\">\r\n                  <select\r\n                    class=\"form-control input-sm\"\r\n                    id=\"zSmallSelect\"\r\n                    onChange={(evt) => this.handleReleaseAfterChange(evt)}\r\n                  >\r\n                    {this.releaseList.map((releaseItem) => (\r\n                      <option\r\n                        value={+releaseItem.CODE_NAME}\r\n                        selected={\r\n                          this.blockDatesData.RELEASE_AFTER_HOURS ==\r\n                          +releaseItem.CODE_NAME\r\n                        }\r\n                      >\r\n                        {releaseItem.CODE_VALUE_EN}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                {this.blockDatesData.RELEASE_AFTER_HOURS ? (\r\n                  <div class=\"d-inline-block releaseTime\">\r\n                    <em>on {this.getReleaseHoursString()}</em>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 10000;\r\n  /* min-width: 450px; */\r\n}\r\n\r\n.card-title {\r\n  border-bottom: 1px solid #e4e5ec;\r\n}\r\n\r\n.scrollContent {\r\n  height: calc(100% - 79px);\r\n  overflow: auto;\r\n  position: relative;\r\n}\r\n\r\n.background-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.formContainer {\r\n  height: calc(100% - 79px);\r\n  overflow: auto;\r\n}\r\n\r\n.sideWindow {\r\n  /* display: grid; */\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  height: 100%;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.close {\r\n  float: right;\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  line-height: 1;\r\n  color: #000;\r\n  text-shadow: 0 1px 0 #fff;\r\n  opacity: 0.5;\r\n\r\n  padding: 0;\r\n  background-color: transparent;\r\n  border: 0;\r\n  appearance: none;\r\n}\r\n\r\n.close-icon {\r\n  position: absolute;\r\n  top: 18px;\r\n  right: 33px;\r\n  outline: none;\r\n}\r\n\r\nbutton:not(:disabled),\r\n[type=\"button\"]:not(:disabled) {\r\n  cursor: pointer;\r\n}\r\n\r\n.row {\r\n  padding: 0 0 0 15px;\r\n  margin: 0;\r\n}\r\n","import {\r\n  Component,\r\n  Event,\r\n  EventEmitter,\r\n  Host,\r\n  Prop,\r\n  State,\r\n  h,\r\n  Listen,\r\n} from \"@stencil/core\";\r\nimport { BookingService } from \"../../../services/booking.service\";\r\nimport { dateToFormattedString } from \"../../../utils/utils\";\r\nimport { IEntries } from \"../../../models/IBooking\";\r\nimport {\r\n  IPageTwoDataUpdateProps,\r\n  PageTwoButtonsTypes,\r\n} from \"../../../models/models\";\r\n\r\n@Component({\r\n  tag: \"igl-book-property\",\r\n  styleUrl: \"igl-book-property.css\",\r\n  scoped: true,\r\n})\r\nexport class IglBookProperty {\r\n  @Prop() propertyid: number;\r\n  @Prop() language: string;\r\n  @Prop() currency: { id: number; code: string };\r\n  @Prop({ reflect: true, mutable: true }) bookingData: { [key: string]: any };\r\n  @Event() closeBookingWindow: EventEmitter<{ [key: string]: any }>;\r\n  @State() sourceOption: { code: string; description: string } = {\r\n    code: \"\",\r\n    description: \"\",\r\n  };\r\n  @State() splitBookingId: any = \"\";\r\n  @State() renderAgain: boolean = false;\r\n  @State() message: string = \"\";\r\n  @State() isLoading: string;\r\n  @State() dateRangeData: { [key: string]: any };\r\n  @State() selectedUnits: { [key: string]: any } = {};\r\n  private PAGE_ZERO: string = \"page_zero\";\r\n  private PAGE_ONE: string = \"page_one\";\r\n  private PAGE_TWO: string = \"page_two\";\r\n  private PAGE_BLOCK_DATES: string = \"page_block_date\";\r\n  private page: string;\r\n  private showSplitBookingOption: boolean = false;\r\n  private sourceOptions: { id: string; value: string }[] = [];\r\n  private selectedRooms: { [key: string]: any } = {};\r\n  private guestData: { [key: string]: any }[] = [];\r\n  private bookedByInfoData: { [key: string]: any } = {};\r\n  private blockDatesData: { [key: string]: any } = {};\r\n  private ratePricingMode: IEntries[] = [];\r\n  private bedPreferenceType: IEntries[] = [];\r\n  private bookingService: BookingService = new BookingService();\r\n\r\n  async componentWillLoad() {\r\n    if (!this.bookingData.defaultDateRange) {\r\n      return;\r\n    }\r\n\r\n    this.dateRangeData = { ...this.bookingData.defaultDateRange };\r\n\r\n    try {\r\n      const setupEntries = await this.fetchSetupEntries();\r\n      this.setSourceOptions(setupEntries.bookingSource);\r\n      this.setOtherProperties(setupEntries);\r\n\r\n      if (this.isEventType(\"EDIT_BOOKING\")) {\r\n        this.setEditingRoomInfo();\r\n      }\r\n\r\n      this.page = this.getDefaultPage();\r\n    } catch (error) {\r\n      console.error(\"Error fetching setup entries:\", error);\r\n    }\r\n  }\r\n\r\n  async fetchSetupEntries() {\r\n    return await this.bookingService.fetchSetupEntries();\r\n  }\r\n\r\n  setSourceOptions(bookingSource: any[]) {\r\n    this.sourceOptions = bookingSource.map((source) => ({\r\n      id: source.CODE_NAME,\r\n      value: source.CODE_VALUE_EN,\r\n    }));\r\n    this.sourceOption = {\r\n      code: bookingSource[0].CODE_NAME,\r\n      description: bookingSource[0].CODE_VALUE_EN,\r\n    };\r\n  }\r\n\r\n  setOtherProperties(res: any) {\r\n    this.ratePricingMode = res.ratePricingMode;\r\n    this.bookedByInfoData.arrivalTime = res.arrivalTime;\r\n    this.bedPreferenceType = res.bedPreferenceType;\r\n  }\r\n\r\n  setEditingRoomInfo() {\r\n    const category = this.getRoomCategoryByRoomId(\r\n      this.getBookingPreferenceRoomId()\r\n    );\r\n    const key = `c_${category.id}`;\r\n    this.selectedRooms[key] = {\r\n      [`p_${this.bookingData.RATE_PLAN_ID}`]: {\r\n        adultCount: this.bookingData.ADULTS_COUNT,\r\n        rate: this.bookingData.RATE,\r\n        rateType: this.bookingData.RATE_TYPE,\r\n        ratePlanId: this.bookingData.RATE_PLAN_ID,\r\n        roomCategoryId: category.id,\r\n        roomCategoryName: category.name,\r\n        totalRooms: 1,\r\n        ratePlanName: this.bookingData.RATE_PLAN,\r\n        roomId: this.bookingData.PR_ID,\r\n        guestName: this.bookingData.NAME,\r\n      },\r\n    };\r\n    console.log(\"selectedRooms\", this.selectedRooms);\r\n  }\r\n\r\n  async initializeBookingAvailability(from_date: string, to_date: string) {\r\n    const room_type_ids = this.bookingData.roomsInfo.map((room) => room.id);\r\n    const data = await this.bookingService.getBookingAvailability(\r\n      from_date,\r\n      to_date,\r\n      this.propertyid,\r\n      this.language,\r\n      room_type_ids,\r\n      this.currency\r\n    );\r\n    this.message = \"\";\r\n    this.bookingData = {\r\n      ...this.bookingData,\r\n      roomsInfo: data.roomtypes,\r\n    };\r\n    this.message = data.tax_statement;\r\n  }\r\n  getRoomCategoryByRoomId(roomId) {\r\n    return this.bookingData.roomsInfo?.find((roomCategory) => {\r\n      return roomCategory.physicalrooms.find((room) => room.id === +roomId);\r\n    });\r\n  }\r\n\r\n  getDefaultPage() {\r\n    if (this.bookingData.event_type === \"BLOCK_DATES\") {\r\n      return this.PAGE_BLOCK_DATES;\r\n    } else if (this.bookingData.event_type === \"SPLIT_BOOKING\") {\r\n      this.showSplitBookingOption = true;\r\n      return this.PAGE_ONE;\r\n    } else {\r\n      // if( || this.bookingData.event_type === \"NEW_BOOKING\")\r\n      return this.PAGE_ONE;\r\n    }\r\n  }\r\n\r\n  getBookingPreferenceRoomId() {\r\n    //console.log(this.bookingData);\r\n    return (\r\n      (this.bookingData.hasOwnProperty(\"PR_ID\") && this.bookingData.PR_ID) ||\r\n      null\r\n    );\r\n  }\r\n\r\n  getSplitBookings() {\r\n    return (\r\n      (this.bookingData.hasOwnProperty(\"splitBookingEvents\") &&\r\n        this.bookingData.splitBookingEvents) ||\r\n      []\r\n    );\r\n  }\r\n  isEventType(key: string) {\r\n    return this.bookingData.event_type === key;\r\n  }\r\n\r\n  closeWindow() {\r\n    this.closeBookingWindow.emit();\r\n  }\r\n\r\n  onRoomsDataUpdate(event: CustomEvent<{ [key: string]: any }>) {\r\n    const { data, key } = event.detail;\r\n    const roomCategoryKey = this.getRoomCategoryKey(data.roomCategoryId);\r\n    const ratePlanKey = this.getRatePlanKey(data.ratePlanId);\r\n    console.log(event.detail);\r\n    if (this.shouldClearData(key)) {\r\n      this.selectedRooms = {};\r\n    }\r\n\r\n    this.initializeRoomCategoryIfNeeded(roomCategoryKey);\r\n    this.setSelectedRoomData(roomCategoryKey, ratePlanKey, data);\r\n\r\n    if (\r\n      this.isEditBookingEvent(\"EDIT_BOOKING\") &&\r\n      this.hasSelectedRoomData(roomCategoryKey, ratePlanKey)\r\n    ) {\r\n      this.removeUnselectedRooms(roomCategoryKey, `p_${data.totalRooms}`);\r\n      this.initializeRoomCategoryIfNeeded(roomCategoryKey);\r\n      this.setSelectedRoomData(roomCategoryKey, ratePlanKey, data);\r\n      this.applyBookingEditToSelectedRoom(roomCategoryKey, ratePlanKey);\r\n    }\r\n\r\n    this.cleanupEmptyData(roomCategoryKey, ratePlanKey);\r\n    console.log(this.selectedRooms);\r\n    this.renderPage();\r\n  }\r\n  removeUnselectedRooms(roomCategoryKey, ratePlanKey) {\r\n    console.log(roomCategoryKey, ratePlanKey);\r\n    if (Object.keys(this.selectedRooms).length > 1) {\r\n      this.selectedRooms = {};\r\n    }\r\n    // if (!this.selectedRooms[roomCategoryKey].hasOwnProperty(ratePlanKey)) {\r\n    //   this.selectedRooms[roomCategoryKey] = {};\r\n    // }\r\n  }\r\n  getRoomCategoryKey(roomCategoryId: string): string {\r\n    return `c_${roomCategoryId}`;\r\n  }\r\n\r\n  getRatePlanKey(ratePlanId: string): string {\r\n    return `p_${ratePlanId}`;\r\n  }\r\n\r\n  shouldClearData(key: string | undefined): boolean {\r\n    return key === \"clearData\" || this.isEditBookingEvent(key);\r\n  }\r\n\r\n  isEditBookingEvent(key: string | undefined): boolean {\r\n    return key === \"EDIT_BOOKING\";\r\n  }\r\n\r\n  initializeRoomCategoryIfNeeded(roomCategoryKey: string) {\r\n    if (!this.selectedRooms[roomCategoryKey]) {\r\n      this.selectedRooms[roomCategoryKey] = {};\r\n    }\r\n  }\r\n\r\n  setSelectedRoomData(roomCategoryKey: string, ratePlanKey: string, data: any) {\r\n    this.selectedRooms[roomCategoryKey][ratePlanKey] = data;\r\n  }\r\n\r\n  hasSelectedRoomData(roomCategoryKey: string, ratePlanKey: string): boolean {\r\n    return (\r\n      this.selectedRooms[roomCategoryKey] &&\r\n      this.selectedRooms[roomCategoryKey][ratePlanKey]\r\n    );\r\n  }\r\n\r\n  cleanupEmptyData(roomCategoryKey: string, ratePlanKey: string) {\r\n    if (this.selectedRooms[roomCategoryKey][ratePlanKey]?.totalRooms === 0) {\r\n      delete this.selectedRooms[roomCategoryKey][ratePlanKey];\r\n    }\r\n\r\n    if (!Object.keys(this.selectedRooms[roomCategoryKey]).length) {\r\n      delete this.selectedRooms[roomCategoryKey];\r\n    }\r\n  }\r\n\r\n  applyBookingEditToSelectedRoom(roomCategoryKey: string, ratePlanKey: string) {\r\n    const room = this.selectedRooms[roomCategoryKey][ratePlanKey];\r\n    room.guestName = this.bookingData.NAME;\r\n    room.roomId = this.bookingData.PR_ID;\r\n    room.totalRooms = 1;\r\n  }\r\n\r\n  onDateRangeSelect(event: CustomEvent<{ [key: string]: any }>) {\r\n    const opt: { [key: string]: any } = event.detail;\r\n    if (opt.key === \"selectedDateRange\") {\r\n      this.dateRangeData = opt.data;\r\n      this.bookingData.defaultDateRange.fromDate = new Date(\r\n        this.dateRangeData.fromDate\r\n      );\r\n      this.bookingData.defaultDateRange.toDate = new Date(\r\n        this.dateRangeData.toDate\r\n      );\r\n      this.initializeBookingAvailability(\r\n        dateToFormattedString(this.bookingData.defaultDateRange.fromDate),\r\n        dateToFormattedString(this.bookingData.defaultDateRange.toDate)\r\n      );\r\n    }\r\n  }\r\n\r\n  handleBlockDateUpdate(event: CustomEvent<{ [key: string]: any }>) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    const opt: { [key: string]: any } = event.detail;\r\n    this.blockDatesData = opt.data;\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    //console.log(event);\r\n  }\r\n\r\n  handleGuestInfoUpdate(event: CustomEvent<{ [key: string]: any }>) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n\r\n    const opt = event.detail;\r\n    if (opt.guestRefKey) {\r\n      this.guestData[opt.guestRefKey] = opt.data;\r\n    }\r\n    console.log(\"guestData\", this.guestData);\r\n  }\r\n\r\n  handleBookedByInfoUpdate(event: CustomEvent<{ [key: string]: any }>) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    const opt: { [key: string]: any } = event.detail;\r\n    this.bookedByInfoData = opt.value.data;\r\n    console.log(\"bookedByInfoData\", this.bookedByInfoData);\r\n  }\r\n\r\n  isActiveSouceOption(srcIndex) {\r\n    return this.sourceOption === srcIndex ? \"active\" : \"\";\r\n  }\r\n\r\n  handleSourceDropDown(selectedOption) {\r\n    this.sourceOption = {\r\n      code: selectedOption.target.value,\r\n      description:\r\n        this.sourceOptions.find(\r\n          (opt) => opt.id === selectedOption.target.value.toString()\r\n        ).value || \"\",\r\n    };\r\n  }\r\n\r\n  renderPage() {\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  @Listen(\"gotoSplitPageTwoEvent\", { target: \"window\" })\r\n  gotoSplitPageTwo() {\r\n    this.gotoPage(this.PAGE_TWO);\r\n  }\r\n\r\n  gotoPage(gotoPage) {\r\n    this.page = gotoPage;\r\n    this.renderPage();\r\n  }\r\n\r\n  showSplitBooking() {\r\n    this.showSplitBookingOption = true;\r\n    this.gotoPage(this.PAGE_ONE);\r\n  }\r\n\r\n  getSelectedSplitBookingName(bookingId) {\r\n    let splitBooking = this.getSplitBookings().find(\r\n      (booking) => booking.ID === bookingId\r\n    );\r\n    return splitBooking.ID + \" \" + splitBooking.NAME;\r\n  }\r\n\r\n  isActiveSplitBookingOption(spltIndex) {\r\n    return this.splitBookingId === spltIndex ? \"active\" : \"\";\r\n  }\r\n\r\n  handleSplitBookingDropDown(evt) {\r\n    this.splitBookingId = evt.target.value;\r\n  }\r\n\r\n  isPageZero() {\r\n    return this.page === this.PAGE_ZERO;\r\n  }\r\n\r\n  isPageOne() {\r\n    return this.page === this.PAGE_ONE;\r\n  }\r\n\r\n  isPageTwo() {\r\n    return this.page === this.PAGE_TWO;\r\n  }\r\n\r\n  isPageBlockDates() {\r\n    return this.page === this.PAGE_BLOCK_DATES;\r\n  }\r\n\r\n  getSplitBookingList() {\r\n    return (\r\n      <fieldset class=\"form-group col-12 text-left\">\r\n        <label class=\"h5\">To booking# </label>\r\n        <div class=\"btn-group ml-1\">\r\n          <select\r\n            class=\"form-control input-sm\"\r\n            id=\"xSmallSelect\"\r\n            onChange={(evt) => this.handleSplitBookingDropDown(evt)}\r\n          >\r\n            <option value=\"\" selected={this.splitBookingId != \"\"}>\r\n              Select\r\n            </option>\r\n            {this.getSplitBookings().map((option) => (\r\n              <option\r\n                value={option.ID}\r\n                selected={this.splitBookingId === option.ID}\r\n              >\r\n                {this.getSelectedSplitBookingName(option.ID)}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* <button type=\"button\" class=\"btn btn-primary dropdown-toggle\" name=\"sourceType\" data-toggle=\"dropdown\">\r\n                    {this.splitBookingId!=null ? this.getSelectedSplitBookingName(this.splitBookingId) : \"Select\"}\r\n                </button>\r\n                <div class=\"dropdown-menu\">\r\n                  {this.getSplitBookings().map((option) => <button class={`dropdown-item ${this.isActiveSplitBookingOption(option.ID)}`}  type=\"button\" onClick={() => this.handleSplitBookingDropDown(option.ID)}>{this.getSelectedSplitBookingName(option.ID)}</button>)}\r\n                </div> */}\r\n        </div>\r\n      </fieldset>\r\n    );\r\n  }\r\n\r\n  getSourceNode() {\r\n    return (\r\n      <fieldset class=\"form-group col-12 text-left\">\r\n        <label class=\"h5\">Source </label>\r\n        <div class=\"btn-group ml-1\">\r\n          <select\r\n            class=\"form-control input-sm\"\r\n            id=\"xSmallSelect\"\r\n            onChange={(evt) => this.handleSourceDropDown(evt)}\r\n          >\r\n            {this.sourceOptions.map((option) => (\r\n              <option\r\n                value={option.id}\r\n                selected={this.sourceOption.code === option.id}\r\n              >\r\n                {option.value}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </fieldset>\r\n    );\r\n  }\r\n\r\n  getRoomsListFromCategoryId(categoryId) {\r\n    let category = this.bookingData.roomsInfo?.find(\r\n      (category) => category.id === categoryId\r\n    );\r\n    return (category && category.physicalrooms) || [];\r\n  }\r\n\r\n  getPageZeroView() {\r\n    return (\r\n      <div class=\"scrollContent\">\r\n        <div class=\"row p-0 mb-1\">\r\n          <div class=\"col-md-3 col-sm-12 mb-1\">\r\n            <button\r\n              class=\"btn btn-primary full-width\"\r\n              onClick={() => this.gotoPage(this.PAGE_ONE)}\r\n            >\r\n              Create New Booking\r\n            </button>\r\n          </div>\r\n          {this.getSplitBookings().length ? (\r\n            <div class=\"col-md-3 col-sm-12 mb-1\">\r\n              <button\r\n                class=\"btn btn-primary full-width\"\r\n                onClick={() => this.showSplitBooking()}\r\n              >\r\n                Add Unit to Existing Booking\r\n              </button>\r\n            </div>\r\n          ) : null}\r\n          <div class=\"col-md-3 col-sm-12 mb-1\">\r\n            <button\r\n              class=\"btn btn-primary full-width\"\r\n              onClick={() => this.gotoPage(this.PAGE_BLOCK_DATES)}\r\n            >\r\n              Block Dates\r\n            </button>\r\n          </div>\r\n          <div class=\"col-md-3 col-sm-12 mb-1\">\r\n            <button\r\n              class=\"btn btn-secondary full-width\"\r\n              onClick={() => this.closeWindow()}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getPageOneView() {\r\n    // console.log(\"Edit booking?\", this.isEventType(\"EDIT_BOOKING\"))\r\n    return (\r\n      <div class=\"scrollContent\">\r\n        {this.showSplitBookingOption\r\n          ? this.getSplitBookingList()\r\n          : this.isEventType(\"EDIT_BOOKING\") || this.isEventType(\"ADD_ROOM\")\r\n          ? null\r\n          : this.getSourceNode()}\r\n\r\n        <fieldset class=\"form-group col-12 row\">\r\n          <igl-date-range\r\n            message={this.message}\r\n            defaultData={this.bookingData.defaultDateRange}\r\n            onDateSelectEvent={(evt) => this.onDateRangeSelect(evt)}\r\n          ></igl-date-range>\r\n        </fieldset>\r\n\r\n        <div class=\"col text-left\">\r\n          {this.bookingData.roomsInfo?.map((roomInfo) => (\r\n            <igl-booking-rooms\r\n              ratePricingMode={this.ratePricingMode}\r\n              dateDifference={this.dateRangeData.dateDifference}\r\n              bookingType={this.bookingData.event_type}\r\n              roomTypeData={roomInfo}\r\n              class=\"mt-2 mb-1\"\r\n              defaultData={this.selectedRooms[\"c_\" + roomInfo.id]}\r\n              onDataUpdateEvent={(evt) => this.onRoomsDataUpdate(evt)}\r\n            ></igl-booking-rooms>\r\n          ))}\r\n        </div>\r\n\r\n        {this.isEventType(\"EDIT_BOOKING\") ? (\r\n          <div class=\"row p-0 mb-1 mt-2\">\r\n            <div class=\"col-6\">\r\n              <button\r\n                class=\"btn btn-secondary full-width\"\r\n                onClick={() => this.closeWindow()}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button\r\n                class=\"btn btn-primary full-width\"\r\n                onClick={() => this.gotoPage(this.PAGE_TWO)}\r\n              >\r\n                Next &gt;&gt;\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div class=\"row p-0 mb-1 mt-2\">\r\n            <div\r\n              class={\r\n                this.bookingData.event_type === \"PLUS_BOOKING\" ||\r\n                this.isEventType(\"ADD_ROOM\")\r\n                  ? \"col-6\"\r\n                  : \"col-12\"\r\n              }\r\n            >\r\n              <button\r\n                class=\"btn btn-secondary full-width\"\r\n                onClick={() => this.closeWindow()}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n            {this.bookingData.event_type === \"PLUS_BOOKING\" ||\r\n            this.isEventType(\"ADD_ROOM\") ? (\r\n              <div class=\"col-6\">\r\n                <button\r\n                  class=\"btn btn-primary full-width\"\r\n                  disabled={Object.keys(this.selectedRooms).length === 0}\r\n                  onClick={() => this.gotoPage(this.PAGE_TWO)}\r\n                >\r\n                  Next &gt;&gt;\r\n                </button>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getPageBlockDatesView() {\r\n    return (\r\n      <div class=\"scrollContent blockDatesForm\">\r\n        <igl-block-dates-view\r\n          fromDate={this.dateRangeData.fromDateStr}\r\n          toDate={this.dateRangeData.toDateStr}\r\n          entryDate={this.bookingData.ENTRY_DATE}\r\n          onDataUpdateEvent={(event) => this.handleBlockDateUpdate(event)}\r\n        ></igl-block-dates-view>\r\n        <div class=\"row p-0 mb-1 mt-2\">\r\n          <div class=\"col-6\">\r\n            <button\r\n              class=\"btn btn-secondary full-width\"\r\n              onClick={() => this.closeWindow()}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n          <div class=\"col-6\">\r\n            <button\r\n              class=\"btn btn-primary full-width\"\r\n              onClick={() => this.handleBlockDate()}\r\n            >\r\n              Block dates\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getReleaseHoursString() {\r\n    const dt = new Date();\r\n    console.log(this.blockDatesData.RELEASE_AFTER_HOURS);\r\n    const releaseAfterHours = +this.blockDatesData.RELEASE_AFTER_HOURS;\r\n\r\n    dt.setHours(dt.getHours() + releaseAfterHours, dt.getMinutes(), 0, 0);\r\n\r\n    return {\r\n      BLOCKED_TILL_DATE: dateToFormattedString(dt),\r\n      BLOCKED_TILL_HOUR: dt.getHours().toString(),\r\n      BLOCKED_TILL_MINUTE: dt.getMinutes().toString(),\r\n    };\r\n  }\r\n  handleButtonClicked(\r\n    event: CustomEvent<{\r\n      key: PageTwoButtonsTypes;\r\n      data?: CustomEvent;\r\n    }>\r\n  ) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    switch (event.detail.key) {\r\n      case \"save\":\r\n        this.bookUser(true);\r\n        break;\r\n      case \"cancel\":\r\n        this.closeWindow();\r\n        break;\r\n      case \"back\":\r\n        this.gotoPage(this.PAGE_ONE);\r\n        break;\r\n      case \"book\":\r\n        this.bookUser(false);\r\n        break;\r\n      case \"bookAndCheckIn\":\r\n        this.bookUser(true);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  handlePageTwoDataUpdateEvent(event: CustomEvent<IPageTwoDataUpdateProps>) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    if (event.detail.key === \"propertyBookedBy\") {\r\n      this.handleBookedByInfoUpdate(event);\r\n    } else {\r\n      this.handleGuestInfoUpdate(event);\r\n    }\r\n  }\r\n  async handleBlockDate() {\r\n    const releaseData = this.getReleaseHoursString();\r\n    await this.bookingService.blockUnit({\r\n      from_date: dateToFormattedString(\r\n        this.bookingData.defaultDateRange.fromDate\r\n      ),\r\n      to_date: dateToFormattedString(this.bookingData.defaultDateRange.toDate),\r\n      NOTES: this.blockDatesData.OPTIONAL_REASON || \"\",\r\n      pr_id: this.bookingData.PR_ID.toString(),\r\n      STAY_STATUS_CODE: this.blockDatesData.OUT_OF_SERVICE ? \"004\" : \"003\",\r\n      DESCRIPTION: this.blockDatesData.RELEASE_AFTER_HOURS || \"\",\r\n      ...releaseData,\r\n    });\r\n    this.closeWindow();\r\n  }\r\n\r\n  async bookUser(assign_units: boolean) {\r\n    this.setLoadingState(assign_units);\r\n\r\n    try {\r\n      const arrivalTime = this.isEventType(\"EDIT_BOOKING\")\r\n        ? this.getArrivalTimeForBooking()\r\n        : \"\";\r\n\r\n      await this.bookingService.bookUser(\r\n        this.bookedByInfoData,\r\n        assign_units,\r\n        this.bookingData.defaultDateRange.fromDate,\r\n        this.bookingData.defaultDateRange.toDate,\r\n        this.guestData,\r\n        this.dateRangeData.dateDifference,\r\n        this.sourceOption,\r\n        this.propertyid,\r\n        this.currency,\r\n        this.bookingData.ID || undefined,\r\n        this.bookingData.GUEST,\r\n        arrivalTime\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      this.resetLoadingState();\r\n    }\r\n  }\r\n\r\n  setLoadingState(assign_units: boolean) {\r\n    if (this.isEventType(\"EDIT_BOOKING\")) {\r\n      this.isLoading = \"save\";\r\n    } else {\r\n      this.isLoading = assign_units ? \"bookAndCheckIn\" : \"book\";\r\n    }\r\n  }\r\n\r\n  getArrivalTimeForBooking(): string {\r\n    return this.bookedByInfoData.arrivalTime.find(\r\n      (e) => e.CODE_VALUE_EN === this.bookingData.ARRIVAL_TIME\r\n    ).CODE_NAME;\r\n  }\r\n\r\n  resetLoadingState() {\r\n    this.isLoading = \"\";\r\n    setTimeout(() => {\r\n      this.closeWindow();\r\n    }, 100);\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div\r\n          class=\"background-overlay\"\r\n          onClick={() => this.closeWindow()}\r\n        ></div>\r\n        <div\r\n          class={\r\n            \"sideWindow \" +\r\n            (this.isPageBlockDates()\r\n              ? \"col-sm-12 col-md-6 col-lg-5 col-xl-4\"\r\n              : \"col-sm-12 col-md-11 col-lg-9 col-xl-8\")\r\n          }\r\n        >\r\n          <div class=\"card mb-0 shadow-none p-0\">\r\n            <div class=\"card-header\">\r\n              <h3 class=\"card-title text-left pb-1 font-medium-2\">\r\n                {this.isPageBlockDates()\r\n                  ? this.bookingData.BLOCK_DATES_TITLE\r\n                  : this.bookingData.TITLE}\r\n              </h3>\r\n              <button\r\n                type=\"button\"\r\n                class=\"close close-icon\"\r\n                onClick={() => this.closeWindow()}\r\n              >\r\n                <i class=\"ft-x\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {this.isPageZero() && this.getPageZeroView()}\r\n\r\n          {this.isPageOne() && this.getPageOneView()}\r\n\r\n          {this.isPageTwo() && (\r\n            <igl-pagetwo\r\n              isLoading={this.isLoading}\r\n              selectedRooms={this.selectedRooms}\r\n              bedPreferenceType={this.bedPreferenceType}\r\n              dateRangeData={this.dateRangeData}\r\n              bookingData={this.bookingData}\r\n              showSplitBookingOption={this.showSplitBookingOption}\r\n              language={this.language}\r\n              bookedByInfoData={this.bookedByInfoData}\r\n              isEditOrAddRoomEvent={\r\n                this.isEventType(\"EDIT_BOOKING\") || this.isEventType(\"ADD_ROOM\")\r\n              }\r\n              onDataUpdateEvent={(event) =>\r\n                this.handlePageTwoDataUpdateEvent(event)\r\n              }\r\n              onButtonClicked={(event) => this.handleButtonClicked(event)}\r\n            ></igl-pagetwo>\r\n          )}\r\n\r\n          {this.isPageBlockDates() ? this.getPageBlockDatesView() : null}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: absolute;\r\n}\r\n\r\n.bookingEventBase {\r\n  position: absolute;\r\n  background-color: rgb(49, 190, 241);\r\n  width: 100%;\r\n  height: 100%;\r\n  transform: skewX(-22deg);\r\n}\r\n\r\n.bookingEventHiddenBase {\r\n  position: absolute;\r\n  top: 0;\r\n  left: -4px;\r\n  width: calc(100% + 8);\r\n}\r\n\r\n.bookingEventDragHandle {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 15px;\r\n  height: 100%;\r\n  opacity: 0.1;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  transform: skewX(-22deg);\r\n  /* display: none; */\r\n  cursor: pointer;\r\n}\r\n\r\n.splitBooking {\r\n  border-right: 2px solid #000000;\r\n}\r\n\r\n:host:hover .bookingEventDragHandle {\r\n  display: block;\r\n  opacity: 1;\r\n}\r\n\r\n:host.newEvent:hover .bookingEventDragHandle {\r\n  display: none;\r\n  opacity: 1;\r\n}\r\n\r\n.leftSide {\r\n  left: 0;\r\n}\r\n\r\n.rightSide {\r\n  right: 0;\r\n}\r\n\r\n.bookingEventTitle {\r\n  color: #fff;\r\n  font-size: 0.8em;\r\n  position: relative;\r\n  max-width: calc(100% - 10px);\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  top: 2px;\r\n  left: 5px;\r\n}\r\n\r\n.legend_circle {\r\n  border-radius: 100%;\r\n  width: 10px;\r\n  height: 10px;\r\n  margin: 3px 3px 3px 2px;\r\n  border: 1px solid #fff;\r\n}\r\n\r\n.noteIcon {\r\n  position: absolute;\r\n  bottom: -8px;\r\n  left: 2px;\r\n}\r\n\r\n.balanceIcon {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: 2px;\r\n}\r\n","import {\r\n  Component,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  Host,\r\n  Listen,\r\n  Prop,\r\n  State,\r\n  h,\r\n} from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-booking-event\",\r\n  styleUrl: \"igl-booking-event.css\",\r\n  scoped: true,\r\n})\r\nexport class IglBookingEvent {\r\n  @Element() private element: HTMLElement;\r\n\r\n  @Event({ bubbles: true, composed: true }) hideBubbleInfo: EventEmitter;\r\n\r\n  @Event() updateEventData: EventEmitter;\r\n  @Event() dragOverEventData: EventEmitter;\r\n\r\n  @Prop() bookingEvent: { [key: string]: any };\r\n  @Prop() allBookingEvents: { [key: string]: any } = [];\r\n\r\n  @State() renderElement: boolean = false;\r\n  @State() position: { [key: string]: any };\r\n\r\n  dayWidth: number = 0;\r\n  eventSpace: number = 8;\r\n  vertSpace: number = 10;\r\n\r\n  /* show bubble */\r\n  private showInfoPopup: boolean = false;\r\n  private bubbleInfoTopSide: boolean = false;\r\n\r\n  /* Resize props */\r\n  resizeSide: string = \"\";\r\n  isDragging: boolean = false;\r\n  initialX: number;\r\n  initialY: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  initialWidth: number;\r\n  initialLeft: number;\r\n  finalWidth: number;\r\n  dragInitPos: { [key: string]: any };\r\n  dragEndPos: { [key: string]: any };\r\n  elementRect: { [key: string]: any };\r\n  isTouchStart: boolean;\r\n  moveDiffereneX: number;\r\n  moveDiffereneY: number;\r\n\r\n  handleMouseMoveBind = this.handleMouseMove.bind(this);\r\n  handleMouseUpBind = this.handleMouseUp.bind(this);\r\n  handleClickOutsideBind = this.handleClickOutside.bind(this);\r\n\r\n  componentWillLoad() {\r\n    window.addEventListener(\"click\", this.handleClickOutsideBind);\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.isNewEvent()) {\r\n      if (!this.bookingEvent.hideBubble) {\r\n        /* auto matically open the popup, calling the method shows bubble either top or bottom based on available space. */\r\n        setTimeout(() => {\r\n          this.showEventInfo(true);\r\n          this.renderAgain();\r\n        }, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    window.removeEventListener(\"click\", this.handleClickOutsideBind);\r\n  }\r\n\r\n  @Listen(\"click\", { target: \"window\" })\r\n  handleClickOutside(event: Event) {\r\n    const clickedElement = event.target as HTMLElement;\r\n    // Check if the clicked element is not within the target div\r\n    if (!this.element.contains(clickedElement)) {\r\n      // The click occurred outside the target div\r\n      this.showEventInfo(false);\r\n    }\r\n  }\r\n\r\n  @Listen(\"hideBubbleInfo\", { target: \"window\" })\r\n  hideBubbleInfoPopup(event: CustomEvent) {\r\n    if (\r\n      event.detail.currentInfoBubbleId != this.getBookingId() ||\r\n      (event.detail.key === \"hidebubble\" &&\r\n        event.detail.currentInfoBubbleId === this.getBookingId())\r\n    ) {\r\n      this.showInfoPopup = false;\r\n      this.renderAgain();\r\n    }\r\n  }\r\n\r\n  @Listen(\"moveBookingTo\", { target: \"window\" })\r\n  moveBookingToHandler(event: CustomEvent) {\r\n    if (event.detail.bookingId !== this.getBookingId()) {\r\n      this.showEventInfo(false);\r\n      return;\r\n    }\r\n\r\n    // event.detail.fromRoomId === this.getBookedRoomId() && ()\r\n    if (\r\n      event.detail.moveToDay === \"revert\" ||\r\n      event.detail.toRoomId === \"revert\"\r\n    ) {\r\n      event.detail.moveToDay = this.bookingEvent.FROM_DATE;\r\n      event.detail.toRoomId = event.detail.fromRoomId;\r\n      if (\r\n        this.isTouchStart &&\r\n        this.moveDiffereneX <= 5 &&\r\n        this.moveDiffereneY <= 5\r\n      ) {\r\n        this.showEventInfo(true);\r\n      }\r\n    } else {\r\n      if (\r\n        this.isTouchStart &&\r\n        this.moveDiffereneX <= 5 &&\r\n        this.moveDiffereneY <= 5\r\n      ) {\r\n        this.showEventInfo(true);\r\n      }\r\n    }\r\n    if (event.detail.fromRoomId === this.getBookedRoomId()) {\r\n      // Temporarily set to some other title and revert it.. as refresh issue is happening when there minimum change in top / left.\r\n      this.onMoveUpdateBooking({ toRoomId: \"X\", moveToDay: \"01_01_2023\" });\r\n      this.renderAgain();\r\n      setTimeout(() => {\r\n        this.onMoveUpdateBooking(event.detail);\r\n        this.renderAgain();\r\n      }, 20);\r\n    }\r\n  }\r\n\r\n  renderAgain() {\r\n    this.renderElement = !this.renderElement;\r\n  }\r\n\r\n  getUniqueId() {\r\n    return new Date().getTime();\r\n  }\r\n\r\n  onMoveUpdateBooking(data) {\r\n    this.bookingEvent.PR_ID = data.toRoomId;\r\n    this.bookingEvent.FROM_DATE = data.moveToDay.split(\"_\").reverse().join(\"/\");\r\n    let tempDate = new Date(this.bookingEvent.FROM_DATE);\r\n    tempDate.setDate(tempDate.getDate() + this.getStayDays());\r\n    this.bookingEvent.TO_DATE =\r\n      tempDate.getFullYear() +\r\n      \"/\" +\r\n      (tempDate.getMonth() + 1) +\r\n      \"/\" +\r\n      tempDate.getDate();\r\n  }\r\n  /* End of Resize props */\r\n\r\n  isSplitBooking() {\r\n    return !!this.bookingEvent.SPLIT_BOOKING;\r\n  }\r\n\r\n  isNewEvent() {\r\n    return this.getBookingId() === \"NEW_TEMP_EVENT\";\r\n  }\r\n\r\n  isHighlightEventType() {\r\n    return this.getEventType() === \"HIGH_LIGHT\";\r\n  }\r\n\r\n  getBookingId() {\r\n    return this.bookingEvent.ID;\r\n  }\r\n\r\n  getBookingStatus() {\r\n    return this.bookingEvent.STATUS;\r\n  }\r\n\r\n  getBookedBy() {\r\n    return this.bookingEvent.NAME;\r\n  }\r\n\r\n  getBookedRoomId() {\r\n    return this.bookingEvent.PR_ID;\r\n  }\r\n\r\n  getEventStartingDate() {\r\n    return new Date(this.bookingEvent.FROM_DATE);\r\n  }\r\n\r\n  getEventEndingDate() {\r\n    return new Date(this.bookingEvent.TO_DATE);\r\n  }\r\n\r\n  getEventType() {\r\n    return this.bookingEvent.event_type;\r\n  }\r\n\r\n  getEventLegend() {\r\n    // console.log(this.getBookingStatus());\r\n    let status =\r\n      this.bookingEvent?.legendData.statusId[this.getBookingStatus()];\r\n    let orderRide = this.isNewEvent() ? { color: \"#f9f9c9\" } : {};\r\n    return {\r\n      ...this.bookingEvent?.legendData[status.id],\r\n      ...status,\r\n      ...orderRide,\r\n    };\r\n  }\r\n\r\n  getLegendOfStatus(aStatusId) {\r\n    // console.log(aStatusId);\r\n    let status = this.bookingEvent?.legendData.statusId[aStatusId];\r\n    return { ...this.bookingEvent.legendData[status.id], ...status };\r\n  }\r\n\r\n  getNoteNode() {\r\n    if (this.bookingEvent.NOTES || this.bookingEvent.INTERNAL_NOTE) {\r\n      return this.getLegendOfStatus(\"NOTES\");\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getBalanceNode() {\r\n    if (this.bookingEvent.BALANCE) {\r\n      return this.getLegendOfStatus(\"OUTSTANDING-BALANCE\");\r\n    }\r\n    return null;\r\n  }\r\n\r\n  setStayDays(aStayDays: number) {\r\n    this.bookingEvent.NO_OF_DAYS = aStayDays;\r\n    this.renderAgain();\r\n    // this.updateData({id: this.getBookedRoomId(), data: { NO_OF_DAYS: aStayDays }});\r\n  }\r\n\r\n  getStayDays() {\r\n    return this.bookingEvent.NO_OF_DAYS;\r\n  }\r\n\r\n  getPosition() {\r\n    let startingDate = this.getEventStartingDate();\r\n    let startingCellClass =\r\n      \".room_\" +\r\n      this.getBookedRoomId() +\r\n      \"_\" +\r\n      startingDate.getDate() +\r\n      \"_\" +\r\n      (startingDate.getMonth() + 1) +\r\n      \"_\" +\r\n      startingDate.getFullYear();\r\n    let bodyContainer = document.querySelector(\".bodyContainer\");\r\n    let startingCell = document.querySelector(startingCellClass);\r\n    let pos = { top: \"0\", left: \"0\", width: \"0\", height: \"20px\" };\r\n    if (\r\n      startingCell &&\r\n      bodyContainer &&\r\n      startingCell.getBoundingClientRect() &&\r\n      bodyContainer.getBoundingClientRect()\r\n    ) {\r\n      let bodyContainerRect = bodyContainer.getBoundingClientRect();\r\n      let boundingRect = startingCell.getBoundingClientRect();\r\n      this.dayWidth = this.dayWidth || boundingRect.width;\r\n      pos.top =\r\n        boundingRect.top +\r\n        boundingRect.height / 2 -\r\n        this.vertSpace -\r\n        bodyContainerRect.top +\r\n        \"px\";\r\n      pos.left =\r\n        boundingRect.left +\r\n        this.dayWidth / 2 +\r\n        this.eventSpace / 2 -\r\n        bodyContainerRect.left +\r\n        \"px\";\r\n      pos.width = this.getStayDays() * this.dayWidth - this.eventSpace + \"px\";\r\n    } else {\r\n      console.log(\"Locating event cell failed \", startingCellClass);\r\n    }\r\n    //console.log(pos);\r\n    return pos;\r\n  }\r\n\r\n  getNumber(aData) {\r\n    return aData ? parseFloat(aData) : 0;\r\n  }\r\n\r\n  startDragging(event: any, side: string) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    event.stopImmediatePropagation();\r\n\r\n    if (this.isNewEvent() || this.isHighlightEventType()) {\r\n      return null;\r\n    }\r\n\r\n    this.resizeSide = side;\r\n    this.isDragging = true;\r\n\r\n    this.showEventInfo(false); // Hide bubble;\r\n\r\n    if (side === \"move\") {\r\n      this.initialX = event.clientX || event.touches[0].clientX;\r\n      this.initialY = event.clientY || event.touches[0].clientY;\r\n      this.elementRect = this.element.getBoundingClientRect();\r\n      const offsetX = 0; //this.initialX - this.elementRect.left - 18;\r\n      const offsetY = 0; // this.initialY - this.elementRect.top - (this.elementRect.height/2);\r\n      this.dragInitPos = {\r\n        id: this.getBookingId(),\r\n        pool: this.bookingEvent.POOL,\r\n        fromRoomId: this.getBookedRoomId(),\r\n        top: this.getNumber(this.element.style.top) + offsetY,\r\n        left: this.getNumber(this.element.style.left) + offsetX,\r\n      };\r\n      this.dragInitPos.x = this.dragInitPos.left; // + 18;\r\n      this.dragInitPos.y = this.dragInitPos.top; // + (this.elementRect.height/2);\r\n      this.dragEndPos = { ...this.dragInitPos };\r\n      this.element.style.top = `${this.dragInitPos.top}px`;\r\n      this.element.style.left = `${this.dragInitPos.left}px`;\r\n      this.isTouchStart = true; // !!(event.touches && event.touches.length);\r\n      this.dragOverEventData.emit({\r\n        id: \"CALCULATE_DRAG_OVER_BOUNDS\",\r\n        data: this.dragInitPos,\r\n      });\r\n    } else {\r\n      this.initialWidth = this.element.offsetWidth;\r\n      this.initialLeft = this.element.offsetLeft;\r\n      this.initialX = event.clientX || event.touches[0].clientX;\r\n    }\r\n\r\n    document.addEventListener(\"mousemove\", this.handleMouseMoveBind);\r\n    document.addEventListener(\"touchmove\", this.handleMouseMoveBind);\r\n    document.addEventListener(\"pointermove\", this.handleMouseMoveBind);\r\n\r\n    document.addEventListener(\"mouseup\", this.handleMouseUpBind);\r\n    document.addEventListener(\"touchup\", this.handleMouseUpBind);\r\n    document.addEventListener(\"pointerup\", this.handleMouseUpBind);\r\n  }\r\n\r\n  handleMouseMove(event: any) {\r\n    if (this.isDragging) {\r\n      this.currentX = event.clientX || event.touches[0].clientX;\r\n      let distanceX = this.currentX - this.initialX;\r\n      if (this.resizeSide === \"move\") {\r\n        this.currentY = event.clientY || event.touches[0].clientY;\r\n        let distanceY = this.currentY - this.initialY;\r\n        this.element.style.top = `${this.dragInitPos.top + distanceY}px`;\r\n        this.element.style.left = `${this.dragInitPos.left + distanceX}px`;\r\n        this.dragEndPos = {\r\n          id: this.getBookingId(),\r\n          fromRoomId: this.getBookedRoomId(),\r\n          top: this.dragInitPos.top + distanceY,\r\n          left: this.dragInitPos.left + distanceX,\r\n        };\r\n        this.dragEndPos.x = this.dragEndPos.left; // + 18;\r\n        this.dragEndPos.y = this.dragEndPos.top; // + (this.elementRect.height/2);\r\n        this.dragOverEventData.emit({ id: \"DRAG_OVER\", data: this.dragEndPos });\r\n      } else {\r\n        let newWidth = this.initialWidth;\r\n        if (this.resizeSide == \"rightSide\") {\r\n          newWidth = this.initialWidth + distanceX;\r\n          newWidth = Math.min(\r\n            newWidth,\r\n            this.initialX + this.element.offsetWidth\r\n          );\r\n          newWidth = Math.max(this.dayWidth - this.eventSpace, newWidth);\r\n          this.element.style.width = `${newWidth}px`;\r\n        } else if (this.resizeSide == \"leftSide\") {\r\n          newWidth = Math.max(\r\n            this.dayWidth - this.eventSpace,\r\n            this.initialWidth - distanceX\r\n          );\r\n          let newLeft = this.initialLeft + (this.initialWidth - newWidth);\r\n          this.element.style.left = `${newLeft}px`;\r\n          this.element.style.width = `${newWidth}px`;\r\n        }\r\n        this.finalWidth = newWidth;\r\n      }\r\n    } else {\r\n      console.log(\"still mouse move listening...\");\r\n    }\r\n  }\r\n\r\n  handleMouseUp() {\r\n    if (this.isDragging) {\r\n      if (this.resizeSide === \"move\") {\r\n        // console.log(\"Initial X::\"+this.dragInitPos.x);\r\n        // console.log(\"Initial Y::\"+this.dragInitPos.y);\r\n        // console.log(\"End X::\"+this.dragEndPos.x);\r\n        // console.log(\"End Y::\"+this.dragEndPos.y);\r\n        if (this.isTouchStart) {\r\n          this.moveDiffereneX = Math.abs(\r\n            this.dragEndPos.x - this.dragInitPos.x\r\n          );\r\n          this.moveDiffereneY = Math.abs(\r\n            this.dragEndPos.y - this.dragInitPos.y\r\n          );\r\n        }\r\n        this.dragOverEventData.emit({\r\n          id: \"DRAG_OVER_END\",\r\n          data: this.dragEndPos,\r\n        });\r\n      } else {\r\n        let numberOfDays = Math.round(this.finalWidth / this.dayWidth);\r\n        let initialStayDays = this.getStayDays();\r\n        if (initialStayDays != numberOfDays) {\r\n          this.setStayDays(numberOfDays);\r\n          if (this.resizeSide == \"leftSide\") {\r\n            this.element.style.left = `${\r\n              this.initialLeft +\r\n              (initialStayDays - numberOfDays) * this.dayWidth\r\n            }px`;\r\n            // set FROM_DATE = TO_DATE - numberOfDays\r\n          } else {\r\n            // set TO_DATE = FROM_DATE + numberOfDays\r\n          }\r\n          this.element.style.width = `${\r\n            numberOfDays * this.dayWidth - this.eventSpace\r\n          }px`;\r\n        } else {\r\n          this.element.style.left = `${this.initialLeft}px`;\r\n          this.element.style.width = `${\r\n            numberOfDays * this.dayWidth - this.eventSpace\r\n          }px`;\r\n        }\r\n      }\r\n    } else {\r\n      console.log(\"still mouse up listening...\");\r\n    }\r\n    this.isDragging = false;\r\n    document.removeEventListener(\"mousemove\", this.handleMouseMoveBind);\r\n    document.removeEventListener(\"touchmove\", this.handleMouseMoveBind);\r\n    document.removeEventListener(\"pointermove\", this.handleMouseMoveBind);\r\n\r\n    document.removeEventListener(\"mouseup\", this.handleMouseUpBind);\r\n    document.removeEventListener(\"touchup\", this.handleMouseUpBind);\r\n    document.removeEventListener(\"pointerup\", this.handleMouseUpBind);\r\n  }\r\n\r\n  updateData(data: any) {\r\n    this.updateEventData.emit(data);\r\n  }\r\n\r\n  showEventInfo(showInfo) {\r\n    if (this.isHighlightEventType() || this.bookingEvent.hideBubble) {\r\n      return null;\r\n    }\r\n\r\n    if (showInfo) {\r\n      // Calculate which side we need to show the bubble, top side or bottom.\r\n      let bodyContainer = document.querySelector(\".calendarScrollContainer\");\r\n      let bodyContainerRect: { [key: string]: any } =\r\n        bodyContainer.getBoundingClientRect();\r\n      let elementRect: { [key: string]: any } =\r\n        this.element.getBoundingClientRect();\r\n      let midPoint = bodyContainerRect.height / 2 + bodyContainerRect.top;\r\n      // let topDifference = elementRect.top - bodyContainerRect.top;\r\n      // let bottomDifference = bodyContainerRect.bottom - elementRect.bottom;\r\n\r\n      if (elementRect.top < midPoint) {\r\n        this.bubbleInfoTopSide = false;\r\n      } else {\r\n        this.bubbleInfoTopSide = true;\r\n      }\r\n    }\r\n\r\n    // showInfo = true;\r\n    if (showInfo) {\r\n      this.hideBubbleInfo.emit({\r\n        key: \"hidePopup\",\r\n        currentInfoBubbleId: this.getBookingId(),\r\n      });\r\n    }\r\n    this.showInfoPopup = showInfo;\r\n    this.renderAgain();\r\n  }\r\n\r\n  render() {\r\n    // onMouseLeave={()=>this.showEventInfo(false)}\r\n    let legend = this.getEventLegend();\r\n    let noteNode = this.getNoteNode();\r\n    let balanceNode = this.getBalanceNode();\r\n\r\n    return (\r\n      <Host\r\n        class={`bookingEvent ${\r\n          this.isNewEvent() || this.isHighlightEventType() ? \"newEvent\" : \"\"\r\n        } ${legend.clsName}`}\r\n        style={this.getPosition()}\r\n        id={\"event_\" + this.getBookingId()}\r\n      >\r\n        {/* onMouseOver={() =>this.showEventInfo(true)}  */}\r\n        <div\r\n          class={`bookingEventBase  ${\r\n            this.isSplitBooking() ? \"splitBooking\" : \"\"\r\n          }`}\r\n          style={{ backgroundColor: legend.color }}\r\n          onTouchStart={(event) => this.startDragging(event, \"move\")}\r\n          onMouseDown={(event) => this.startDragging(event, \"move\")}\r\n        ></div>\r\n        {noteNode ? (\r\n          <div\r\n            class=\"legend_circle noteIcon\"\r\n            style={{ backgroundColor: noteNode.color }}\r\n          ></div>\r\n        ) : null}\r\n        {balanceNode ? (\r\n          <div\r\n            class=\"legend_circle balanceIcon\"\r\n            style={{ backgroundColor: balanceNode.color }}\r\n          ></div>\r\n        ) : null}\r\n        {/* onMouseOver={() => this.showEventInfo(true)}  */}\r\n        <div\r\n          class=\"bookingEventTitle\"\r\n          onTouchStart={(event) => this.startDragging(event, \"move\")}\r\n          onMouseDown={(event) => this.startDragging(event, \"move\")}\r\n        >\r\n          {this.getBookedBy()}\r\n        </div>\r\n        <div\r\n          class=\"bookingEventDragHandle leftSide\"\r\n          onTouchStart={(event) => this.startDragging(event, \"leftSide\")}\r\n          onMouseDown={(event) => this.startDragging(event, \"leftSide\")}\r\n        ></div>\r\n        <div\r\n          class=\"bookingEventDragHandle rightSide\"\r\n          onTouchStart={(event) => this.startDragging(event, \"rightSide\")}\r\n          onMouseDown={(event) => this.startDragging(event, \"rightSide\")}\r\n        ></div>\r\n        {this.showInfoPopup ? (\r\n          <igl-booking-event-hover\r\n            class=\"top\"\r\n            bookingEvent={this.bookingEvent}\r\n            bubbleInfoTop={this.bubbleInfoTopSide}\r\n          ></igl-booking-event-hover>\r\n        ) : null}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: relative;\r\n  z-index: 100;\r\n}\r\n\r\n.btn {\r\n  padding-left: 4px !important;\r\n  padding-right: 4px !important;\r\n}\r\n\r\n.pointerContainer {\r\n  position: absolute;\r\n  left: 50%;\r\n  height: 10px;\r\n  width: 350px;\r\n  transform: translate(-50%, 0);\r\n}\r\n\r\n.pointerContainerTop {\r\n  top: -26px;\r\n}\r\n\r\n.iglPopOver {\r\n  max-width: 350px;\r\n  background-color: #fff;\r\n  padding: 10px;\r\n  border: 1px solid #656ee7;\r\n  border-radius: 6px;\r\n  position: absolute;\r\n  transform: translate(-50%, 10px);\r\n  left: 50%;\r\n  box-shadow: 1px 0px 20px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.iglPopOver.infoBubble {\r\n  width: 350px;\r\n}\r\n\r\n.iglPopOver.blockedView {\r\n  max-width: 400px;\r\n  width: 400px;\r\n}\r\n\r\n.iglPopOver.newBookingOptions {\r\n  width: 230px;\r\n}\r\n\r\n.bubblePointer {\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n  left: 50%;\r\n  border-left: 10px solid transparent;\r\n  border-right: 10px solid transparent;\r\n  transform: translate(-50%, 0px);\r\n}\r\n\r\n.bubblePointTop {\r\n  border-top: 10px solid #656ee7;\r\n}\r\n\r\n.bubblePointBottom {\r\n  border-bottom: 10px solid #656ee7;\r\n}\r\n\r\n.bubbleInfoAbove {\r\n  bottom: 35px;\r\n}\r\n","import { Component, Host, h, Prop, Event, EventEmitter } from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-booking-event-hover\",\r\n  styleUrl: \"igl-booking-event-hover.css\",\r\n  scoped: true,\r\n})\r\nexport class IglBookingEventHover {\r\n  @Prop() bookingEvent: { [key: string]: any };\r\n  @Prop() bubbleInfoTop: boolean = false;\r\n\r\n  @Event() showBookingPopup: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) hideBubbleInfo: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) deleteButton: EventEmitter<string>;\r\n\r\n  private fromTimeStamp: number;\r\n  private toTimeStamp: number;\r\n  private todayTimeStamp: number = new Date().setHours(0, 0, 0, 0);\r\n\r\n  componentWillLoad() {\r\n    console.log(\"this booking event\", this.bookingEvent);\r\n  }\r\n\r\n  getBookingId() {\r\n    return this.bookingEvent.ID;\r\n  }\r\n\r\n  getTotalOccupants() {\r\n    return this.bookingEvent.ADULTS_COUNT;\r\n  }\r\n\r\n  getPhoneNumber() {\r\n    return this.bookingEvent.PHONE;\r\n  }\r\n\r\n  getCountry() {\r\n    return this.bookingEvent.COUNTRY;\r\n  }\r\n\r\n  getGuestNote() {\r\n    return this.bookingEvent.NOTES;\r\n  }\r\n\r\n  getInternalNote() {\r\n    return this.bookingEvent.INTERNAL_NOTE;\r\n  }\r\n\r\n  getTotalPrice() {\r\n    return this.bookingEvent.TOTAL_PRICE;\r\n  }\r\n\r\n  getCheckInDate() {\r\n    return this.bookingEvent.FROM_DATE_STR;\r\n  }\r\n\r\n  getCheckOutDate() {\r\n    return this.bookingEvent.TO_DATE_STR;\r\n  }\r\n\r\n  getArrivalTime() {\r\n    return this.bookingEvent.ARRIVAL_TIME;\r\n  }\r\n\r\n  getRatePlan() {\r\n    return this.bookingEvent.RATE_PLAN;\r\n  }\r\n\r\n  getEntryDate() {\r\n    return this.bookingEvent.ENTRY_DATE;\r\n  }\r\n\r\n  getReleaseAfterHours() {\r\n    return this.bookingEvent.RELEASE_AFTER_HOURS;\r\n  }\r\n\r\n  isNewBooking() {\r\n    return this.getBookingId() === \"NEW_TEMP_EVENT\";\r\n  }\r\n\r\n  isCheckedIn() {\r\n    return this.bookingEvent.STATUS === \"CHECKED-IN\";\r\n  }\r\n\r\n  isCheckedOut() {\r\n    return this.bookingEvent.STATUS === \"CHECKED-OUT\";\r\n  }\r\n\r\n  isBlockedDateEvent() {\r\n    return (\r\n      this.bookingEvent.STATUS === \"BLOCKED\" ||\r\n      this.bookingEvent.STATUS === \"BLOCKED-WITH-DATES\"\r\n    );\r\n  }\r\n\r\n  getRoomId() {\r\n    return this.bookingEvent.PR_ID;\r\n  }\r\n\r\n  getCategoryByRoomId(roomId) {\r\n    return this.bookingEvent.roomsInfo.find((roomCategory) =>\r\n      roomCategory.physicalrooms.find((room) => room.id === roomId)\r\n    );\r\n  }\r\n\r\n  hasSplitBooking() {\r\n    return (\r\n      this.bookingEvent.hasOwnProperty(\"splitBookingEvents\") &&\r\n      this.bookingEvent.splitBookingEvents.length\r\n    );\r\n  }\r\n\r\n  canCheckIn() {\r\n    if (!this.fromTimeStamp) {\r\n      let dt = new Date(this.getCheckInDate());\r\n      dt.setHours(0, 0, 0, 0);\r\n      this.fromTimeStamp = dt.getTime();\r\n    }\r\n    if (!this.toTimeStamp) {\r\n      let dt = new Date(this.getCheckOutDate());\r\n      dt.setHours(0, 0, 0, 0);\r\n      this.toTimeStamp = dt.getTime();\r\n    }\r\n    if (this.isCheckedIn() || this.isCheckedOut()) {\r\n      return false;\r\n    }\r\n    if (\r\n      this.fromTimeStamp <= this.todayTimeStamp &&\r\n      this.todayTimeStamp <= this.toTimeStamp\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  canCheckOut() {\r\n    if (this.isCheckedIn() && this.todayTimeStamp <= this.toTimeStamp) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleBlockDateUpdate(event: CustomEvent<{ [key: string]: any }>) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    const opt: { [key: string]: any } = event.detail;\r\n    this.bookingEvent = { ...this.bookingEvent, ...opt.data };\r\n  }\r\n\r\n  handleEditBooking() {\r\n    console.log(\"Edit booking\");\r\n    this.bookingEvent.TITLE = \"Edit Room\";\r\n    this.handleBookingOption(\"EDIT_BOOKING\");\r\n  }\r\n\r\n  getStringDateFormat(dt) {\r\n    return (\r\n      dt.getFullYear() +\r\n      \"-\" +\r\n      (dt.getMonth() < 9 ? \"0\" : \"\") +\r\n      (dt.getMonth() + 1) +\r\n      \"-\" +\r\n      (dt.getDate() <= 9 ? \"0\" : \"\") +\r\n      dt.getDate()\r\n    );\r\n  }\r\n\r\n  handleAddRoom() {\r\n    let fromDate = new Date();\r\n    fromDate.setHours(0, 0, 0, 0);\r\n    let from_date_str = this.getStringDateFormat(fromDate);\r\n\r\n    let toDate = new Date();\r\n    toDate.setDate(toDate.getDate() + 1);\r\n    toDate.setHours(0, 0, 0, 0);\r\n    let to_date_str = this.getStringDateFormat(toDate);\r\n\r\n    let eventData = {\r\n      ID: \"\",\r\n      NAME: \"\",\r\n      FROM_DATE: from_date_str, // \"2023-07-09\",\r\n      TO_DATE: to_date_str, // \"2023-07-11\",\r\n      roomsInfo: this.bookingEvent.roomsInfo,\r\n      ADD_ROOM_TO_BOOKING: this.bookingEvent.ID,\r\n      TITLE:\r\n        \"Add Room to #\" + this.bookingEvent.ID + \" - \" + this.bookingEvent.NAME,\r\n      event_type: \"ADD_ROOM\",\r\n      defaultDateRange: {\r\n        fromDate: fromDate, //new Date(\"2023-09-10\"),\r\n        fromDateStr: \"\", //\"10 Sep 2023\",\r\n        toDate: toDate, //new Date(\"2023-09-15\"),\r\n        toDateStr: \"\", // \"15 Sep 2023\",\r\n        dateDifference: 0,\r\n        editabled: true,\r\n        message: \"Including 5.00% City Tax - Excluding 11.00% VAT\",\r\n      },\r\n    };\r\n\r\n    this.handleBookingOption(\"ADD_ROOM\", eventData);\r\n  }\r\n\r\n  handleCustomerCheckIn() {\r\n    console.log(\"Handle Customer Check In\");\r\n  }\r\n\r\n  handleCustomerCheckOut() {\r\n    console.log(\"Handle Customer Check Out\");\r\n  }\r\n  handleDeleteEvent() {\r\n    this.deleteButton.emit(this.bookingEvent.POOL);\r\n    console.log(\"Delete Event\");\r\n  }\r\n\r\n  handleUpdateBlockedDates() {\r\n    console.log(\"Updated blocked dates\");\r\n    console.log(this.bookingEvent);\r\n  }\r\n\r\n  handleConvertBlockedDateToBooking() {\r\n    console.log(\"Convert blocked date to booking\");\r\n    this.bookingEvent.TITLE = \"Convert to booking\";\r\n    this.bookingEvent.roomsInfo = [this.getCategoryByRoomId(this.getRoomId())];\r\n    if (\r\n      this.bookingEvent.roomsInfo.length &&\r\n      this.bookingEvent.roomsInfo[0] != null\r\n    ) {\r\n      this.handleBookingOption(\"BAR_BOOKING\");\r\n    } else {\r\n      console.log(\r\n        \"Error in finding category at handleConvertBlockedDateToBooking\"\r\n      );\r\n    }\r\n  }\r\n\r\n  handleBookingOption(eventType, roomData = null) {\r\n    let data = roomData ? roomData : this.bookingEvent;\r\n    data.event_type = eventType;\r\n    this.showBookingPopup.emit({ key: \"add\", data });\r\n    this.hideBubbleInfo.emit({\r\n      key: \"hidebubble\",\r\n      currentInfoBubbleId: this.getBookingId(),\r\n    });\r\n  }\r\n\r\n  getInfoElement() {\r\n    return (\r\n      <div\r\n        class={`iglPopOver infoBubble ${\r\n          this.bubbleInfoTop ? \"bubbleInfoAbove\" : \"\"\r\n        } text-left`}\r\n      >\r\n        <div class=\"row p-0 m-0 pb-1\">\r\n          <div class=\"pl-0 col-8 font-weight-bold font-medium-1\">\r\n            {this.getBookingId()}\r\n          </div>\r\n          <div class=\"pr-0 col-4 text-right\">{this.getTotalPrice()}</div>\r\n        </div>\r\n        <div class=\"row p-0 m-0\">\r\n          <div class=\"pl-0 pr-0 col-12\">\r\n            <span class=\"font-weight-bold\">In: </span>\r\n            {this.getCheckInDate()} -{\" \"}\r\n            <span class=\"font-weight-bold\">Out: </span>\r\n            {this.getCheckOutDate()}\r\n          </div>\r\n        </div>\r\n        <div class=\"row p-0 m-0\">\r\n          <div class=\"pl-0 pr-0 col-12\">\r\n            <span class=\"font-weight-bold\">Arrival time: </span>\r\n            {this.getArrivalTime()}\r\n          </div>\r\n        </div>\r\n        <div class=\"row p-0 m-0\">\r\n          <div class=\"pl-0 pr-0 col-12\">\r\n            <span class=\"font-weight-bold\">Occupancy: </span>\r\n            {this.getTotalOccupants()}\r\n          </div>\r\n        </div>\r\n        <div class=\"row p-0 m-0\">\r\n          <div class=\"pl-0 pr-0 col-12 text-wrap\">\r\n            <span class=\"font-weight-bold\">Phone: </span>\r\n            {this.getPhoneNumber()} - {this.getCountry()}\r\n          </div>\r\n        </div>\r\n        <div class=\"row p-0 m-0\">\r\n          <div class=\"pl-0 pr-0 col-12\">\r\n            <span class=\"font-weight-bold\">Rate plan: </span>\r\n            {this.getRatePlan()}\r\n          </div>\r\n        </div>\r\n        {this.getGuestNote() ? (\r\n          <div class=\"row p-0 m-0\">\r\n            <div class=\"col-12 pl-0 pr-0 text-wrap\">\r\n              <sapn class=\"font-weight-bold\">Note: </sapn>\r\n              {this.getGuestNote()}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        {this.getInternalNote() ? (\r\n          <div class=\"row p-0 m-0\">\r\n            <div class=\"col-12 pl-0 pr-0 text-wrap\">\r\n              <span class=\"font-weight-bold\">Internal remark: </span>\r\n              {this.getInternalNote()}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n\r\n        <div class=\"row p-0 m-0 mt-2\">\r\n          <div\r\n            class=\"full-width btn-group btn-group-sm font-small-3\"\r\n            role=\"group\"\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary mr-1\"\r\n              onClick={(_) => {\r\n                this.handleEditBooking();\r\n              }}\r\n              disabled={!this.bookingEvent.IS_EDITABLE}\r\n            >\r\n              <i class=\"ft ft-edit font-small-3\"></i> Edit\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary mr-1\"\r\n              onClick={(_) => {\r\n                this.handleAddRoom();\r\n              }}\r\n              disabled={!this.bookingEvent.IS_EDITABLE}\r\n            >\r\n              <i class=\"ft ft-plus-circle font-small-3\"></i> Add room\r\n            </button>\r\n            {this.canCheckIn() ? (\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary p-0 mr-1\"\r\n                onClick={(_) => {\r\n                  this.handleCustomerCheckIn();\r\n                }}\r\n                disabled={!this.bookingEvent.IS_EDITABLE}\r\n              >\r\n                <i class=\"ft ft-edit font-small-3\"></i> Check-in\r\n              </button>\r\n            ) : null}\r\n            {this.canCheckOut() ? (\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary p-0 mr-1\"\r\n                onClick={(_) => {\r\n                  this.handleCustomerCheckOut();\r\n                }}\r\n                disabled={!this.bookingEvent.IS_EDITABLE}\r\n              >\r\n                <i class=\"ft ft-log-out font-small-3\"></i> Check-out\r\n              </button>\r\n            ) : null}\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger p-0\"\r\n              onClick={(_) => {\r\n                this.handleDeleteEvent();\r\n              }}\r\n              disabled={!this.bookingEvent.IS_EDITABLE}\r\n            >\r\n              <i class=\"ft ft-trash-2 font-small-3\"></i> Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getNewBookingOptions() {\r\n    return (\r\n      <div\r\n        class={`iglPopOver newBookingOptions ${\r\n          this.bubbleInfoTop ? \"bubbleInfoAbove\" : \"\"\r\n        } text-left`}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          class=\"d-block full-width btn btn-sm btn-primary mb-1 font-small-3 square\"\r\n          onClick={(_) => {\r\n            this.handleBookingOption(\"BAR_BOOKING\");\r\n          }}\r\n        >\r\n          Create new booking\r\n        </button>\r\n        {this.hasSplitBooking() ? (\r\n          <button\r\n            type=\"button\"\r\n            class=\"d-block full-width btn btn-sm btn-primary mb-1 font-small-3 square\"\r\n            onClick={(_) => {\r\n              this.handleBookingOption(\"SPLIT_BOOKING\");\r\n            }}\r\n          >\r\n            Assign unit to existing booking\r\n          </button>\r\n        ) : null}\r\n        <button\r\n          type=\"button\"\r\n          class=\"d-block full-width btn btn-sm btn-primary font-small-3 square\"\r\n          onClick={(_) => {\r\n            this.handleBookingOption(\"BLOCK_DATES\");\r\n          }}\r\n        >\r\n          Block dates\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getBlockedView() {\r\n    // let defaultData = {RELEASE_AFTER_HOURS: 0, OPTIONAL_REASON: \"\", OUT_OF_SERVICE: false};\r\n    return (\r\n      <div\r\n        class={`iglPopOver blockedView ${\r\n          this.bubbleInfoTop ? \"bubbleInfoAbove\" : \"\"\r\n        } text-left`}\r\n      >\r\n        <igl-block-dates-view\r\n          entryHour={this.bookingEvent.ENTRY_HOUR}\r\n          entryMinute={this.bookingEvent.ENTRY_MINUTE}\r\n          defaultData={this.bookingEvent}\r\n          fromDate={this.getCheckInDate()}\r\n          toDate={this.getCheckOutDate()}\r\n          entryDate={this.getEntryDate()}\r\n          onDataUpdateEvent={(event) => this.handleBlockDateUpdate(event)}\r\n        ></igl-block-dates-view>\r\n        <div class=\"row p-0 m-0 mt-2\">\r\n          <div\r\n            class=\"full-width btn-group btn-group-sm font-small-3\"\r\n            role=\"group\"\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary mr-1\"\r\n              onClick={(_) => {\r\n                this.handleUpdateBlockedDates();\r\n              }}\r\n            >\r\n              <i class=\"ft ft-edit font-small-3\"></i> Update\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary p-0\"\r\n              onClick={(_) => {\r\n                this.handleConvertBlockedDateToBooking();\r\n              }}\r\n            >\r\n              Convert to booking\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger ml-1 p-0\"\r\n              onClick={(_) => {\r\n                this.handleDeleteEvent();\r\n              }}\r\n            >\r\n              <i class=\"ft ft-trash-2 font-small-3\"></i> Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div\r\n          class={`pointerContainer ${\r\n            this.bubbleInfoTop ? \"pointerContainerTop\" : \"\"\r\n          }`}\r\n        >\r\n          <div\r\n            class={`bubblePointer ${\r\n              this.bubbleInfoTop ? \"bubblePointTop\" : \"bubblePointBottom\"\r\n            }`}\r\n          ></div>\r\n        </div>\r\n        {this.isBlockedDateEvent() ? this.getBlockedView() : null}\r\n        {this.isNewBooking() ? this.getNewBookingOptions() : null}\r\n        {!this.isBlockedDateEvent() && !this.isNewBooking()\r\n          ? this.getInfoElement()\r\n          : null}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  Prop,\r\n  h,\r\n  State,\r\n  Event,\r\n  EventEmitter,\r\n  Watch,\r\n} from \"@stencil/core\";\r\nimport { v4 } from \"uuid\";\r\n@Component({\r\n  tag: \"igl-booking-room-rate-plan\",\r\n  styleUrl: \"igl-booking-room-rate-plan.css\",\r\n  scoped: true,\r\n})\r\nexport class IglBookingRoomRatePlan {\r\n  @Prop() defaultData: { [key: string]: any };\r\n  @Prop({ mutable: true }) ratePlanData: { [key: string]: any };\r\n  @Prop() totalAvailableRooms: number;\r\n  @Prop() ratePricingMode = [];\r\n  @Prop({ reflect: true }) dateDifference: number;\r\n  @Prop() bookingType: string = \"PLUS_BOOKING\";\r\n  @State() sourceOption: number;\r\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Event() gotoSplitPageTwoEvent: EventEmitter<{ [key: string]: any }>;\r\n  @State() selectedData: { [key: string]: any };\r\n  @State() plan: { [key: string]: any };\r\n  componentWillLoad() {\r\n    this.selectedData = {\r\n      ratePlanId: this.ratePlanData.id,\r\n      adult_child_offering:\r\n        this.ratePlanData.variations[0].adult_child_offering,\r\n      rateType: 1,\r\n      totalRooms: 0,\r\n      rate: this.ratePlanData.variations[0].amount,\r\n      ratePlanName: this.ratePlanData.name,\r\n      adultCount: this.ratePlanData.variations[0].adult_nbr,\r\n      childrenCount: this.ratePlanData.variations[0].child_nbr,\r\n      cancelation: this.ratePlanData.cancelation,\r\n      guarantee: this.ratePlanData.guarantee,\r\n      isRateModified: false,\r\n      defaultSelectedRate: 0,\r\n    };\r\n    if (this.defaultData) {\r\n      for (const [key, value] of Object.entries(this.defaultData)) {\r\n        this.selectedData[key] = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  getSelectedOffering(value: any) {\r\n    return this.ratePlanData.variations.find(\r\n      (variation) => variation.adult_child_offering === value\r\n    );\r\n  }\r\n  @Watch(\"ratePlanData\")\r\n  async ratePlanDataChanged() {\r\n    this.selectedData = {\r\n      ...this.selectedData,\r\n      rate: this.handleRateDaysUpdate(),\r\n    };\r\n    this.dataUpdateEvent.emit({\r\n      key: \"roomRatePlanUpdate\",\r\n      changedKey: \"rate\",\r\n      data: this.selectedData,\r\n    });\r\n  }\r\n\r\n  handleRateDaysUpdate() {\r\n    let rate = this.selectedData.defaultSelectedRate;\r\n    if (this.selectedData.isRateModified) {\r\n      return this.selectedData.rateType === 1\r\n        ? rate * this.dateDifference\r\n        : rate;\r\n    }\r\n    return this.getSelectedOffering(this.selectedData.adult_child_offering)\r\n      .amount;\r\n  }\r\n\r\n  handleInput(event: InputEvent) {\r\n    this.selectedData.isRateModified = true;\r\n    const inputElement = event.target as HTMLInputElement;\r\n    let inputValue = inputElement.value;\r\n    const numericRegex = /^[0-9]+$/;\r\n    if (!numericRegex.test(inputValue)) {\r\n      inputValue = inputValue.replace(/[^0-9]/g, \"\");\r\n      inputElement.value = inputValue;\r\n    }\r\n    if (inputValue === inputElement.value) {\r\n      this.handleDataChange(\"rate\", event);\r\n    }\r\n  }\r\n\r\n  handleDataChange(key, evt) {\r\n    if (key === \"adult_child_offering\") {\r\n      const offering = this.getSelectedOffering(evt.target.value);\r\n      this.selectedData = {\r\n        ...this.selectedData,\r\n        [key]: evt.target.value,\r\n        adultCount: offering.adult_nbr,\r\n        childrenCount: offering.child_nbr,\r\n        rate: offering.amount,\r\n      };\r\n    } else {\r\n      this.selectedData = {\r\n        ...this.selectedData,\r\n        [key]: evt.target.value === \"\" ? 0 : parseInt(evt.target.value),\r\n      };\r\n    }\r\n    if (key === \"rate\" && evt.target.value === \"\") {\r\n      this.selectedData = {\r\n        ...this.selectedData,\r\n        totalRooms: 0,\r\n      };\r\n    }\r\n    if (key === \"rate\") {\r\n      this.selectedData.defaultSelectedRate =\r\n        this.selectedData.rateType === 1\r\n          ? parseInt(evt.target.value) / this.dateDifference\r\n          : parseInt(evt.target.value);\r\n    }\r\n    this.dataUpdateEvent.emit({\r\n      key: \"roomRatePlanUpdate\",\r\n      changedKey: key,\r\n      data: this.selectedData,\r\n    });\r\n  }\r\n\r\n  bookProperty() {\r\n    this.dataUpdateEvent.emit({ key: \"clearData\", data: this.selectedData });\r\n    this.handleDataChange(\"totalRooms\", { target: { value: \"1\" } });\r\n    this.gotoSplitPageTwoEvent.emit({ key: \"gotoSplitPage\", data: \"\" });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"row m-0 p-0\">\r\n          <div class=\"col-md-6 col-sm-12 p-0 align-self-center\">\r\n            <span>{this.ratePlanData.name}</span>\r\n            <ir-tooltip\r\n              message={\r\n                this.ratePlanData.cancelation + this.ratePlanData.guarantee\r\n              }\r\n            ></ir-tooltip>\r\n          </div>\r\n          <div class=\"col-md-6 col-sm-12 row pr-0\">\r\n            <div class=\"col-4\">\r\n              <fieldset class=\"position-relative\">\r\n                <select\r\n                  class=\"form-control input-sm\"\r\n                  id={v4()}\r\n                  onChange={(evt) =>\r\n                    this.handleDataChange(\"adult_child_offering\", evt)\r\n                  }\r\n                >\r\n                  {this.ratePlanData.variations.map((variation) => (\r\n                    <option\r\n                      value={variation.adult_child_offering}\r\n                      selected={\r\n                        this.selectedData.adultCount ===\r\n                        variation.adult_child_offering\r\n                      }\r\n                    >\r\n                      {variation.adult_child_offering}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </fieldset>\r\n            </div>\r\n            <div class=\"row col-6 m-0 p-0\">\r\n              <fieldset class=\"position-relative has-icon-left col-6 m-0 p-0\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control input-sm\"\r\n                  value={\r\n                    this.selectedData.rateType === 1\r\n                      ? this.selectedData.rate\r\n                      : this.selectedData.rate / this.dateDifference\r\n                  }\r\n                  id={v4()}\r\n                  placeholder=\"Rate\"\r\n                  onInput={(event: InputEvent) => this.handleInput(event)}\r\n                />\r\n                <div class=\"form-control-position\">$</div>\r\n              </fieldset>\r\n              <fieldset class=\"position-relative m-0 p-0\">\r\n                <select\r\n                  class=\"form-control input-sm\"\r\n                  id={v4()}\r\n                  onChange={(evt) => this.handleDataChange(\"rateType\", evt)}\r\n                >\r\n                  {this.ratePricingMode.map((data) => (\r\n                    <option\r\n                      value={data.CODE_NAME}\r\n                      selected={this.selectedData.rateType === +data.CODE_NAME}\r\n                    >\r\n                      {data.CODE_VALUE_EN}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </fieldset>\r\n            </div>\r\n\r\n            {this.bookingType === \"PLUS_BOOKING\" ||\r\n            this.bookingType === \"ADD_ROOM\" ? (\r\n              <div class=\"col-2 m-0 p-0\">\r\n                <fieldset class=\"position-relative\">\r\n                  <select\r\n                    disabled={this.selectedData.rate === 0}\r\n                    class=\"form-control input-sm\"\r\n                    id={v4()}\r\n                    onChange={(evt) => this.handleDataChange(\"totalRooms\", evt)}\r\n                  >\r\n                    {Array.from(\r\n                      { length: this.totalAvailableRooms + 1 },\r\n                      (_, i) => i\r\n                    ).map((i) => (\r\n                      <option\r\n                        value={i}\r\n                        selected={this.selectedData.totalRooms === i}\r\n                      >\r\n                        {i}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </fieldset>\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.bookingType === \"EDIT_BOOKING\" ? (\r\n              <div class=\"col-2 m-0 p-0 align-self-center\">\r\n                <fieldset class=\"position-relative\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"ratePlanGroup\"\r\n                    value=\"1\"\r\n                    onChange={(evt) => this.handleDataChange(\"totalRooms\", evt)}\r\n                    checked={this.selectedData.totalRooms === 1}\r\n                  />\r\n                </fieldset>\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.bookingType === \"BAR_BOOKING\" ||\r\n            this.bookingType === \"SPLIT_BOOKING\" ? (\r\n              <button\r\n                disabled={this.selectedData.rate === 0}\r\n                type=\"button\"\r\n                class=\"btn mb-1 btn-primary btn-sm\"\r\n                onClick={() => this.bookProperty()}\r\n              >\r\n                Book\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  State,\r\n} from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-booking-rooms\",\r\n  styleUrl: \"igl-booking-rooms.css\",\r\n  scoped: true,\r\n})\r\nexport class IglBookingRooms {\r\n  @Prop({ reflect: true, mutable: true }) roomTypeData: { [key: string]: any };\r\n  @Prop() defaultData: { [key: string]: any };\r\n  @Prop() bookingType: string = \"PLUS_BOOKING\";\r\n  @Prop({ reflect: true }) dateDifference: number;\r\n  @Prop() ratePricingMode = [];\r\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\r\n  @State() selectedRooms: number[] = [];\r\n  @State() roomsDistributions: number[] = [];\r\n  private validBookingTypes = [\"PLUS_BOOKING\", \"ADD_ROOM\", \"EDIT_BOOKING\"];\r\n  private totalRooms: number;\r\n  componentWillLoad() {\r\n    this.totalRooms = this.roomTypeData.physicalrooms.length;\r\n    this.selectedRooms = new Array(this.totalRooms).fill(0);\r\n    this.roomsDistributions = new Array(this.totalRooms).fill(this.totalRooms);\r\n  }\r\n\r\n  onRoomDataUpdate(event: CustomEvent<{ [key: string]: any }>, index: number) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    const opt: { [key: string]: any } = event.detail;\r\n    let data = { ...opt.data };\r\n    if (opt.changedKey === \"totalRooms\") {\r\n      let newValue = data.totalRooms;\r\n      this.selectedRooms[index] = newValue;\r\n      this.updateRatePlanTotalRooms(index);\r\n    }\r\n    data.roomCategoryId = this.roomTypeData.id;\r\n    data.roomCategoryName = this.roomTypeData.name;\r\n    data.inventory = this.roomTypeData.inventory;\r\n    this.dataUpdateEvent.emit({ key: opt.key, data: data });\r\n  }\r\n  updateRatePlanTotalRooms(ratePlanIndex: number) {\r\n    const calculateTotalSelectedRoomsExcludingIndex = (excludedIndex) => {\r\n      return this.selectedRooms.reduce(\r\n        (acc, rooms, idx) => (idx !== excludedIndex ? acc + rooms : acc),\r\n        0\r\n      );\r\n    };\r\n    this.roomsDistributions = this.roomsDistributions.map((ratePlan, index) => {\r\n      if (index === ratePlanIndex) {\r\n        return ratePlan;\r\n      }\r\n      const totalSelectedRoomsExcludingCurrent =\r\n        calculateTotalSelectedRoomsExcludingIndex(index);\r\n      const availableRooms =\r\n        this.totalRooms - totalSelectedRoomsExcludingCurrent;\r\n\r\n      return availableRooms > 0 ? availableRooms : 0;\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        {this.validBookingTypes.includes(this.bookingType) && (\r\n          <div class=\"font-weight-bold font-medium-1\">\r\n            {this.roomTypeData.name}\r\n          </div>\r\n        )}\r\n        {this.roomTypeData.rateplans.map((ratePlan, index) => {\r\n          if (ratePlan.variations !== null) {\r\n            return (\r\n              <igl-booking-room-rate-plan\r\n                ratePricingMode={this.ratePricingMode}\r\n                class={\r\n                  this.validBookingTypes.includes(this.bookingType)\r\n                    ? \"ml-1\"\r\n                    : \"\"\r\n                }\r\n                dateDifference={this.dateDifference}\r\n                ratePlanData={ratePlan}\r\n                totalAvailableRooms={this.roomsDistributions[index]}\r\n                bookingType={this.bookingType}\r\n                defaultData={\r\n                  (this.defaultData && this.defaultData[\"p_\" + ratePlan.id]) ||\r\n                  null\r\n                }\r\n                onDataUpdateEvent={(evt) => this.onRoomDataUpdate(evt, index)}\r\n              ></igl-booking-room-rate-plan>\r\n            );\r\n          } else {\r\n            return null;\r\n          }\r\n        })}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.bodyContainer {\r\n  position: relative;\r\n}\r\n\r\n.roomRow {\r\n  width: max-content;\r\n}\r\n\r\n.roomRow:first-child {\r\n  margin-top: 80px;\r\n}\r\n\r\n.cellData {\r\n  width: 70px;\r\n  height: 30px;\r\n  display: inline-grid;\r\n  border-top: 1px solid #e0e0e0;\r\n  border-left: 1px solid #e0e0e0;\r\n  vertical-align: top;\r\n  padding-left: 15px;\r\n}\r\n\r\n.cellData:nth-child(2) {\r\n  border-left: 0px;\r\n}\r\n\r\n.cellData:last-child {\r\n  border-right: 1px solid #e0e0e0;\r\n}\r\n\r\n.roomHeaderCell {\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  left: 0;\r\n  background: #fff;\r\n  border-right: 1px solid #ccc;\r\n  width: 170px;\r\n  z-index: 1;\r\n}\r\n\r\n.currentDay {\r\n  background-color: #e3f3fa;\r\n}\r\n\r\n.dragOverHighlight {\r\n  background-color: #f5f5dc !important;\r\n}\r\n\r\n.selectedDay {\r\n  background-color: #f9f9c9 !important;\r\n}\r\n\r\n.categoryTitle {\r\n  grid-template-columns: 1fr 20px;\r\n  padding-left: 10px;\r\n  cursor: pointer;\r\n  height: 40px;\r\n  font-size: 0.9em;\r\n}\r\n.categoryTitle > :nth-child(1) {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.roomTitle {\r\n  padding-left: 20px;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.roomTitle > :nth-child(1) {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.roomTitle.pl10 {\r\n  padding-left: 10px;\r\n}\r\n\r\n.categoryPriceColumn {\r\n  font-size: 0.75em;\r\n  align-items: center;\r\n  height: 40px;\r\n}\r\n\r\n/* BOOKING EVENT */\r\n.bookingEventsContainer {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  Listen,\r\n  Prop,\r\n  State,\r\n  h,\r\n  Event,\r\n  EventEmitter,\r\n} from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-cal-body\",\r\n  styleUrl: \"igl-cal-body.css\",\r\n  scoped: true,\r\n})\r\nexport class IglCalBody {\r\n  @Event() showBookingPopup: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) scrollPageToRoom: EventEmitter;\r\n  @Prop() isScrollViewDragging: boolean;\r\n  @Prop() calendarData: { [key: string]: any };\r\n  @Prop() today: String;\r\n\r\n  @State() dragOverElement: string = \"\";\r\n  @State() renderAgain: boolean = false;\r\n\r\n  private selectedRooms: { [key: string]: any } = {};\r\n  private fromRoomId: number = -1;\r\n  private newEvent: { [key: string]: any };\r\n  private currentDate = new Date();\r\n\r\n  componentWillLoad() {\r\n    this.currentDate.setHours(0, 0, 0, 0);\r\n  }\r\n\r\n  @Listen(\"dragOverHighlightElement\", { target: \"window\" })\r\n  dragOverHighlightElementHandler(event: CustomEvent) {\r\n    this.dragOverElement = event.detail.dragOverElement;\r\n  }\r\n\r\n  @Listen(\"gotoRoomEvent\", { target: \"window\" })\r\n  gotoRoom(event: CustomEvent) {\r\n    let roomId = event.detail.roomId;\r\n    let category = this.getRoomCategoryByRoomId(roomId);\r\n    if (!category.expanded) {\r\n      this.toggleCategory(category);\r\n      setTimeout(() => {\r\n        this.scrollToRoom(roomId);\r\n      }, 10);\r\n    } else {\r\n      this.scrollToRoom(roomId);\r\n    }\r\n  }\r\n\r\n  @Listen(\"addToBeAssignedEvent\", { target: \"window\" })\r\n  addToBeAssignedEvents(event: CustomEvent) {\r\n    // let roomId = event.detail.roomId;\r\n    this.addBookingDatas(event.detail.data);\r\n    this.renderElement();\r\n  }\r\n\r\n  scrollToRoom(roomId) {\r\n    this.scrollPageToRoom.emit({\r\n      key: \"scrollPageToRoom\",\r\n      id: roomId,\r\n      refClass: \"room_\" + roomId,\r\n    });\r\n  }\r\n\r\n  getRoomCategoryByRoomId(roomId) {\r\n    return this.calendarData.roomsInfo.find((roomCategory) => {\r\n      return this.getCategoryRooms(roomCategory).find(\r\n        (room) => this.getRoomId(room) === roomId\r\n      );\r\n    });\r\n  }\r\n\r\n  getCategoryName(roomCategory) {\r\n    return roomCategory.name;\r\n  }\r\n\r\n  getCategoryId(roomCategory) {\r\n    return roomCategory.id;\r\n  }\r\n\r\n  getTotalPhysicalRooms(roomCategory) {\r\n    return this.getCategoryRooms(roomCategory).length;\r\n  }\r\n\r\n  getCategoryRooms(roomCategory) {\r\n    return (roomCategory && roomCategory.physicalrooms) || [];\r\n  }\r\n\r\n  getRoomName(roomInfo) {\r\n    return roomInfo.name;\r\n  }\r\n\r\n  getRoomId(roomInfo) {\r\n    return roomInfo.id;\r\n  }\r\n\r\n  getRoomById(physicalRooms, roomId) {\r\n    return physicalRooms.find(\r\n      (physical_room) => this.getRoomId(physical_room) === roomId\r\n    );\r\n  }\r\n\r\n  getBookingData() {\r\n    return this.calendarData.bookingEvents;\r\n  }\r\n\r\n  addBookingDatas(aData) {\r\n    this.calendarData.bookingEvents = this.calendarData.bookingEvents.filter(\r\n      (bookingEvent) => bookingEvent.ID !== \"NEW_TEMP_EVENT\"\r\n    );\r\n    this.calendarData.bookingEvents =\r\n      this.calendarData.bookingEvents.concat(aData);\r\n  }\r\n\r\n  getSelectedCellRefName(roomId, selectedDay) {\r\n    return \"room_\" + roomId + \"_\" + selectedDay.currentDate;\r\n  }\r\n\r\n  getSplitBookingEvents(newEvent) {\r\n    return this.getBookingData().filter(\r\n      (bookingEvent) => newEvent.FROM_DATE === bookingEvent.TO_DATE\r\n    );\r\n  }\r\n\r\n  @Listen(\"closeBookingWindow\", { target: \"window\" })\r\n  closeWindow() {\r\n    let ind = this.getBookingData().findIndex(\r\n      (ev) => ev.ID === \"NEW_TEMP_EVENT\"\r\n    );\r\n    if (ind !== -1) {\r\n      this.getBookingData().splice(ind, 1);\r\n      console.log(\"removed item..\");\r\n      this.renderElement();\r\n    }\r\n  }\r\n\r\n  addNewEvent(roomCategory) {\r\n    let keys = Object.keys(this.selectedRooms);\r\n    let startDate, endDate;\r\n\r\n    if (\r\n      this.selectedRooms[keys[0]].currentDate <\r\n      this.selectedRooms[keys[1]].currentDate\r\n    ) {\r\n      startDate = new Date(this.selectedRooms[keys[0]].currentDate);\r\n      endDate = new Date(this.selectedRooms[keys[1]].currentDate);\r\n    } else {\r\n      startDate = new Date(this.selectedRooms[keys[1]].currentDate);\r\n      endDate = new Date(this.selectedRooms[keys[0]].currentDate);\r\n    }\r\n\r\n    this.newEvent = {\r\n      ID: \"NEW_TEMP_EVENT\",\r\n      NAME: <span>&nbsp;</span>,\r\n      EMAIL: \"\",\r\n      PHONE: \"\",\r\n      REFERENCE_TYPE: \"PHONE\",\r\n      FROM_DATE:\r\n        startDate.getFullYear() +\r\n        \"-\" +\r\n        this.getTwoDigitNumStr(startDate.getMonth() + 1) +\r\n        \"-\" +\r\n        this.getTwoDigitNumStr(startDate.getDate()),\r\n      TO_DATE:\r\n        endDate.getFullYear() +\r\n        \"-\" +\r\n        this.getTwoDigitNumStr(endDate.getMonth() + 1) +\r\n        \"-\" +\r\n        this.getTwoDigitNumStr(endDate.getDate()),\r\n      BALANCE: \"\",\r\n      NOTES: \"\",\r\n      RELEASE_AFTER_HOURS: 0,\r\n      PR_ID: this.selectedRooms[keys[0]].roomId,\r\n      ENTRY_DATE: \"\",\r\n      NO_OF_DAYS: (endDate - startDate) / 86400000,\r\n      ADULTS_COUNT: 1,\r\n      COUNTRY: \"\",\r\n      INTERNAL_NOTE: \"\",\r\n      RATE: \"\",\r\n      TOTAL_PRICE: \"\",\r\n      RATE_PLAN: \"\",\r\n      ARRIVAL_TIME: \"\",\r\n      TITLE: \"New Booking for \",\r\n      roomsInfo: [roomCategory],\r\n      CATEGORY: roomCategory.name,\r\n      event_type: \"BAR_BOOKING\",\r\n      STATUS: \"PENDING-CONFIRMATION\",\r\n      defaultDateRange: {\r\n        fromDate: null,\r\n        fromDateStr: \"\",\r\n        toDate: null,\r\n        toDateStr: \"\",\r\n        dateDifference: (endDate - startDate) / 86400000,\r\n        editable: false,\r\n        message: \"Including 5.00% City Tax - Excluding 11.00% VAT\",\r\n      },\r\n    };\r\n\r\n    let popupTitle =\r\n      roomCategory.name +\r\n      \" \" +\r\n      this.getRoomName(\r\n        this.getRoomById(\r\n          this.getCategoryRooms(roomCategory),\r\n          this.selectedRooms[keys[0]].roomId\r\n        )\r\n      );\r\n    this.newEvent.BLOCK_DATES_TITLE = \"Block Dates for \" + popupTitle;\r\n    this.newEvent.TITLE += popupTitle;\r\n    this.newEvent.defaultDateRange.toDate = new Date(\r\n      this.newEvent.TO_DATE + \"T00:00:00\"\r\n    );\r\n    this.newEvent.defaultDateRange.fromDate = new Date(\r\n      this.newEvent.FROM_DATE + \"T00:00:00\"\r\n    );\r\n    this.newEvent.defaultDateRange.fromDateStr = this.getDateStr(\r\n      this.newEvent.defaultDateRange.fromDate\r\n    );\r\n    this.newEvent.defaultDateRange.toDateStr = this.getDateStr(\r\n      this.newEvent.defaultDateRange.toDate\r\n    );\r\n    this.newEvent.ENTRY_DATE = new Date().toISOString();\r\n    this.newEvent.legendData = this.calendarData.formattedLegendData;\r\n\r\n    let splitBookingEvents = this.getSplitBookingEvents(this.newEvent);\r\n    if (splitBookingEvents.length) {\r\n      this.newEvent.splitBookingEvents = splitBookingEvents;\r\n    }\r\n\r\n    this.getBookingData().push(this.newEvent);\r\n    return this.newEvent;\r\n  }\r\n\r\n  getTwoDigitNumStr(num) {\r\n    return num <= 9 ? \"0\" + num : num;\r\n  }\r\n\r\n  getDateStr(date, locale = \"default\") {\r\n    return (\r\n      date.getDate() +\r\n      \" \" +\r\n      date.toLocaleString(locale, { month: \"short\" }) +\r\n      \" \" +\r\n      date.getFullYear()\r\n    );\r\n  }\r\n\r\n  removeNewEvent() {\r\n    this.calendarData.bookingEvents = this.calendarData.bookingEvents.filter(\r\n      (events) => events.ID !== \"NEW_TEMP_EVENT\"\r\n    );\r\n    this.newEvent = null;\r\n  }\r\n\r\n  clickCell(roomId, selectedDay, roomCategory) {\r\n    if (\r\n      !this.isScrollViewDragging &&\r\n      selectedDay.currentDate >= this.currentDate.getTime()\r\n    ) {\r\n      console.log(roomId, selectedDay);\r\n      let refKey = this.getSelectedCellRefName(roomId, selectedDay);\r\n      if (this.selectedRooms.hasOwnProperty(refKey)) {\r\n        this.removeNewEvent();\r\n        delete this.selectedRooms[refKey];\r\n        this.renderElement();\r\n        return;\r\n      } else if (\r\n        Object.keys(this.selectedRooms).length != 1 ||\r\n        this.fromRoomId != roomId\r\n      ) {\r\n        this.removeNewEvent();\r\n        this.selectedRooms = {};\r\n        this.selectedRooms[refKey] = { ...selectedDay, roomId };\r\n        this.fromRoomId = roomId;\r\n        this.renderElement();\r\n      } else {\r\n        // create bar;\r\n        this.selectedRooms[refKey] = { ...selectedDay, roomId };\r\n        this.addNewEvent(roomCategory);\r\n        this.selectedRooms = {};\r\n        this.renderElement();\r\n        this.showNewBookingPopup(this.newEvent);\r\n      }\r\n    }\r\n  }\r\n\r\n  showNewBookingPopup(data) {\r\n    console.log(data);\r\n    // this.showBookingPopup.emit({key: \"add\", data});\r\n  }\r\n\r\n  renderElement() {\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  getGeneralCategoryDayColumns(\r\n    addClass: string,\r\n    isCategory: boolean = false,\r\n    index: number\r\n  ) {\r\n    return this.calendarData.days.map((dayInfo) => (\r\n      <div\r\n        class={`cellData pl-0 categoryPriceColumn ${\r\n          addClass + \"_\" + dayInfo.day\r\n        } ${dayInfo.day === this.today ? \"currentDay\" : \"\"}`}\r\n      >\r\n        {isCategory ? (\r\n          <span>\r\n            {dayInfo.rate[index].inventory}\r\n            <br />\r\n            <u>$ {dayInfo.rate[index].rate}</u>\r\n          </span>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  getGeneralRoomDayColumns(roomId: string, roomCategory) {\r\n    // onDragOver={event => this.handleDragOver(event)} onDrop={event => this.handleDrop(event, addClass+\"_\"+dayInfo.day)}\r\n    return this.calendarData.days.map((dayInfo) => (\r\n      <div\r\n        class={`cellData pl-0 ${\"room_\" + roomId + \"_\" + dayInfo.day} ${\r\n          dayInfo.day === this.today ? \"currentDay\" : \"\"\r\n        } ${\r\n          this.dragOverElement === roomId + \"_\" + dayInfo.day\r\n            ? \"dragOverHighlight\"\r\n            : \"\"\r\n        } ${\r\n          this.selectedRooms.hasOwnProperty(\r\n            this.getSelectedCellRefName(roomId, dayInfo)\r\n          )\r\n            ? \"selectedDay\"\r\n            : \"\"\r\n        }`}\r\n        onClick={() => this.clickCell(roomId, dayInfo, roomCategory)}\r\n      ></div>\r\n    ));\r\n  }\r\n\r\n  toggleCategory(roomCategory) {\r\n    roomCategory.expanded = !roomCategory.expanded;\r\n    this.renderElement();\r\n  }\r\n\r\n  getRoomCategoryRow(roomCategory, index) {\r\n    if (this.getTotalPhysicalRooms(roomCategory) <= 1) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div class=\"roomRow\">\r\n        <div\r\n          class={`cellData text-left align-items-center roomHeaderCell categoryTitle ${\r\n            \"category_\" + this.getCategoryId(roomCategory)\r\n          }`}\r\n          onClick={() => this.toggleCategory(roomCategory)}\r\n        >\r\n          <div>{this.getCategoryName(roomCategory)}</div>{\" \"}\r\n          <i\r\n            class={`la la-angle-${roomCategory.expanded ? \"down\" : \"right\"}`}\r\n          ></i>\r\n        </div>\r\n        {this.getGeneralCategoryDayColumns(\r\n          \"category_\" + this.getCategoryId(roomCategory),\r\n          true,\r\n          index\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getRoomsByCategory(roomCategory) {\r\n    // Check accordion is expanded.\r\n    if (!roomCategory.expanded) {\r\n      return [];\r\n    }\r\n\r\n    return this.getCategoryRooms(roomCategory)?.map((room) => (\r\n      <div class=\"roomRow\">\r\n        <div\r\n          class={`cellData text-left align-items-center roomHeaderCell roomTitle ${\r\n            this.getTotalPhysicalRooms(roomCategory) <= 1 ? \"pl10\" : \"\"\r\n          } ${\"room_\" + this.getRoomId(room)}`}\r\n          data-room={this.getRoomId(room)}\r\n        >\r\n          <div>\r\n            {this.getTotalPhysicalRooms(roomCategory) <= 1\r\n              ? this.getCategoryName(roomCategory)\r\n              : this.getRoomName(room)}\r\n          </div>\r\n        </div>\r\n        {this.getGeneralRoomDayColumns(this.getRoomId(room), roomCategory)}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  getRoomRows() {\r\n    return this.calendarData.roomsInfo.map((roomCategory, index) => [\r\n      this.getRoomCategoryRow(roomCategory, index),\r\n      this.getRoomsByCategory(roomCategory),\r\n    ]);\r\n  }\r\n\r\n  render() {\r\n    // onDragStart={event => this.handleDragStart(event)} draggable={true}\r\n    return (\r\n      <Host>\r\n        <div class=\"bodyContainer\">\r\n          {this.getRoomRows()}\r\n          <div class=\"bookingEventsContainer preventPageScroll\">\r\n            {this.getBookingData()?.map((bookingEvent) => (\r\n              <igl-booking-event\r\n                data-component-id={bookingEvent.ID}\r\n                bookingEvent={bookingEvent}\r\n                allBookingEvents={this.getBookingData()}\r\n              ></igl-booking-event>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: sticky;\r\n  bottom: 0;\r\n  width: max-content;\r\n  z-index: 3;\r\n}\r\n\r\n.footerCell {\r\n  display: -moz-inline-grid;\r\n  display: -ms-inline-grid;\r\n  display: inline-grid;\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  bottom: 0;\r\n  width: 70px;\r\n  height: 40px;\r\n  /* color: #b8b6b7; */\r\n  background: #fff;\r\n  vertical-align: top;\r\n  border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.bottomLeftCell {\r\n  left: -1px;\r\n  z-index: 2;\r\n  width: 170px;\r\n  text-align: left;\r\n  padding-left: 15px;\r\n  color: #000000;\r\n}\r\n\r\n.footerCell i {\r\n  margin-right: 5px;\r\n}\r\n\r\n.legendBtn {\r\n  color: #41bff3;\r\n  cursor: pointer;\r\n}\r\n\r\n.isOnline i {\r\n  color: #2f9c3f;\r\n  font-weight: bold;\r\n}\r\n\r\n.isOffline i {\r\n  font-weight: bold;\r\n}\r\n\r\n.isOffline {\r\n  color: #a40000;\r\n}\r\n\r\n.dayTitle {\r\n  font-size: 0.8em;\r\n  font-weight: 600;\r\n  display: grid;\r\n\r\n  /* height: 100%;\r\n  \r\n  align-items: center;\r\n  text-align: center;\r\n  width: 100%; */\r\n}\r\n\r\n.currentDay .dayTitle {\r\n  font-weight: bold;\r\n  /* color: #262b31; */\r\n}\r\n\r\n.currentDay {\r\n  background-color: #e3f3fa;\r\n}\r\n\r\n.dayCapacityPercent {\r\n  font-size: 0.75em;\r\n}\r\n\r\n.badge-pill {\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n  font-size: 0.7em;\r\n  margin-bottom: 2px;\r\n}\r\n","import { Component, Event, EventEmitter, Host, Prop, h } from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-cal-footer\",\r\n  styleUrl: \"igl-cal-footer.css\",\r\n  scoped: true,\r\n})\r\nexport class IglCalFooter {\r\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Prop() calendarData: { [key: string]: any };\r\n  @Prop() today: String;\r\n  // private isOnline:boolean = false;\r\n\r\n  handleOptionEvent(key, data = \"\") {\r\n    this.optionEvent.emit({ key, data });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"footerContainer\">\r\n        <div class=\"footerCell bottomLeftCell align-items-center preventPageScroll\">\r\n          <div\r\n            class=\"legendBtn\"\r\n            onClick={() => this.handleOptionEvent(\"showLegend\")}\r\n          >\r\n            <i class=\"la la-square\"></i>\r\n            <u>Legend</u>\r\n          </div>\r\n          {/* <div class={`${this.isOnline ? 'isOnline' : 'isOffline'}`}>\r\n            <i class=\"la la-share-alt isOffline\"></i><span>{this.isOnline ? \"Connected\": \"Offline\"}</span>\r\n          </div> */}\r\n        </div>\r\n        {this.calendarData.days.map((dayInfo) => (\r\n          <div class=\"footerCell align-items-center\">\r\n            <div\r\n              class={`dayTitle full-height align-items-center ${\r\n                dayInfo.day === this.today ? \"currentDay\" : \"\"\r\n              }`}\r\n            >\r\n              {dayInfo.dayDisplayName}\r\n            </div>\r\n\r\n            {/* <div class=\"dayTitle\">{dayInfo.dayDisplayName}</div>\r\n              <div class=\"dayCapacityPercent\">28.57%</div>\r\n              <div class=\"preventPageScroll\">\r\n                <span class=\"badge badge-primary badge-pill\">\r\n                  {index}\r\n                </span>\r\n              </div> */}\r\n          </div>\r\n        ))}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: absolute;\r\n  top: 0;\r\n  height: 100%;\r\n}\r\n\r\n.btn {\r\n  pointer-events: auto;\r\n}\r\n\r\n.stickyCell {\r\n  display: -ms-inline-grid;\r\n  display: -moz-inline-grid;\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  top: 0px;\r\n  height: 82px;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  z-index: 2;\r\n}\r\n\r\n.headersContainer {\r\n  background-color: #ffffff;\r\n}\r\n\r\n.headerCell {\r\n  display: inline-grid;\r\n  width: 70px;\r\n  height: 60px;\r\n  vertical-align: top;\r\n  background-color: #ffffff;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.datePickerHidden {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  opacity: 0;\r\n}\r\n\r\n.monthsContainer {\r\n  height: 20px;\r\n  background-color: #ffffff;\r\n  margin-bottom: 0.2em;\r\n}\r\n\r\n.monthCell {\r\n  display: inline-grid;\r\n  height: 20px;\r\n  background-color: #ececec;\r\n  border-right: 1px solid #c7c7c7;\r\n  vertical-align: top;\r\n}\r\n\r\n.monthCell:nth-child(odd) {\r\n  background-color: #dddddd;\r\n}\r\n\r\n.monthTitle {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n}\r\n\r\n.topLeftCell {\r\n  left: 0px;\r\n  z-index: 3;\r\n  width: 170px;\r\n  background-color: #ffffff;\r\n  display: inline-grid;\r\n  display: -ms-inline-grid;\r\n  display: -moz-inline-grid;\r\n}\r\n\r\n.caledarBtns {\r\n  position: relative;\r\n  cursor: pointer;\r\n  font-size: 1.75em;\r\n  line-height: 1em;\r\n  padding: 0.4rem;\r\n}\r\n\r\n.caledarBtns .la {\r\n  font-size: 1.1em;\r\n}\r\n\r\n.caledarBtns:hover {\r\n  background-color: #f6f6f6;\r\n}\r\n\r\n.dayTitle {\r\n  font-size: 0.8em;\r\n  font-weight: 600;\r\n}\r\n\r\n.currentDay .dayTitle {\r\n  font-weight: bold;\r\n}\r\n\r\n.currentDay {\r\n  background-color: #e3f3fa;\r\n}\r\n\r\n.dayCapacityPercent {\r\n  font-size: 0.75em;\r\n}\r\n\r\n.badge-pill {\r\n  padding: 3px 1em;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n\r\n.searchContiner {\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n}\r\n\r\n.searchListContainer {\r\n  background: #fff;\r\n  border: 1px solid #ccc;\r\n  border-bottom: none;\r\n}\r\n\r\n.searchListItem {\r\n  background: white;\r\n  border-bottom: 1px solid #ccc;\r\n  padding-left: 8px;\r\n}\r\n\r\n.badge-light {\r\n  background-color: #e0e0e0;\r\n}\r\n","import {\r\n  Component,\r\n  Event,\r\n  EventEmitter,\r\n  Element,\r\n  Host,\r\n  Prop,\r\n  h,\r\n  State,\r\n  Listen,\r\n} from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-cal-header\",\r\n  styleUrl: \"igl-cal-header.css\",\r\n  scoped: true,\r\n})\r\nexport class IglCalHeader {\r\n  @Element() private element: HTMLElement;\r\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Event({ bubbles: true, composed: true }) gotoRoomEvent: EventEmitter<{\r\n    [key: string]: any;\r\n  }>;\r\n  @Event({ bubbles: true, composed: true }) gotoToBeAssignedDate: EventEmitter<{\r\n    [key: string]: any;\r\n  }>;\r\n  @Prop() calendarData: { [key: string]: any };\r\n  @Prop() today: String;\r\n  @State() renderAgain: boolean = false;\r\n\r\n  private searchValue: string = \"\";\r\n  private searchList: { [key: string]: any }[] = [];\r\n  private roomsList: { [key: string]: any }[] = [];\r\n  componentWillLoad() {\r\n    this.roomsList = [];\r\n    this.calendarData.roomsInfo.forEach((category) => {\r\n      this.roomsList = this.roomsList.concat(...category.physicalrooms);\r\n    });\r\n  }\r\n\r\n  @Listen(\"reduceAvailableUnitEvent\", { target: \"window\" })\r\n  handleReduceAvailableUnitEvent(event: CustomEvent<{ [key: string]: any }>) {\r\n    const opt: { [key: string]: any } = event.detail;\r\n    const data = opt.data;\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n\r\n    // return {day, dayDisplayName, currentDate, tobeAssignedCount: dates[currentDate]};\r\n    if (opt.key === \"reduceAvailableDays\") {\r\n      this.calendarData.days.find((day) => {\r\n        if (day.currentDate === parseInt(data.selectedDate)) {\r\n          day.tobeAssignedCount--;\r\n          return true;\r\n        }\r\n      });\r\n      this.renderView();\r\n    }\r\n  }\r\n\r\n  showToBeAssigned(dayInfo) {\r\n    if (dayInfo.tobeAssignedCount || 0) {\r\n      this.handleOptionEvent(\"showAssigned\");\r\n      setTimeout(() => {\r\n        this.gotoToBeAssignedDate.emit({\r\n          key: \"gotoToBeAssignedDate\",\r\n          data: dayInfo.currentDate,\r\n        });\r\n      }, 100);\r\n    } else {\r\n      // do nothing as the value is 0;\r\n    }\r\n  }\r\n\r\n  handleOptionEvent(key, data: any = \"\") {\r\n    this.optionEvent.emit({ key, data });\r\n  }\r\n\r\n  handleDateSelect(event: Event) {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    let selectedDate = inputElement.value;\r\n\r\n    // // Manually close the date picker - for Safari\r\n    const picker = this.element.querySelector(\r\n      \".datePickerHidden\"\r\n    ) as HTMLInputElement;\r\n    picker.blur();\r\n    if (selectedDate) {\r\n      this.handleOptionEvent(\"calendar\", selectedDate);\r\n    }\r\n  }\r\n\r\n  handleClearSearch() {\r\n    this.searchValue = \"\";\r\n    this.searchList = [];\r\n    this.renderView();\r\n  }\r\n\r\n  handleFilterRooms(event: Event) {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    let value = inputElement.value.trim();\r\n    this.searchValue = value;\r\n    value = value.toLowerCase();\r\n    if (value === \"\") {\r\n      this.handleClearSearch();\r\n    } else {\r\n      this.searchList = this.roomsList.filter(\r\n        (room) => room.name.toLocaleLowerCase().indexOf(value) != -1\r\n      );\r\n    }\r\n    this.renderView();\r\n  }\r\n\r\n  handleScrollToRoom(roomId) {\r\n    this.handleClearSearch();\r\n    this.gotoRoomEvent.emit({ key: \"gotoRoom\", roomId });\r\n  }\r\n\r\n  getStringDateFormat(dt) {\r\n    return (\r\n      dt.getFullYear() +\r\n      \"-\" +\r\n      (dt.getMonth() < 9 ? \"0\" : \"\") +\r\n      (dt.getMonth() + 1) +\r\n      \"-\" +\r\n      (dt.getDate() <= 9 ? \"0\" : \"\") +\r\n      dt.getDate()\r\n    );\r\n  }\r\n\r\n  getNewBookingModel() {\r\n    let today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    let from_date = this.getStringDateFormat(today);\r\n    today.setDate(today.getDate() + 1);\r\n    today.setHours(0, 0, 0, 0);\r\n    let to_date = this.getStringDateFormat(today);\r\n    return {\r\n      ID: \"\",\r\n      NAME: \"\",\r\n      EMAIL: \"\",\r\n      PHONE: \"\",\r\n      REFERENCE_TYPE: \"PHONE\",\r\n      FROM_DATE: from_date, // \"2023-07-09\",\r\n      TO_DATE: to_date, // \"2023-07-11\",\r\n      roomsInfo: this.calendarData.roomsInfo,\r\n      TITLE: \"New Booking\",\r\n      event_type: \"PLUS_BOOKING\",\r\n      legendData: this.calendarData.formattedLegendData,\r\n      defaultDateRange: {\r\n        fromDate: new Date(from_date), //new Date(\"2023-09-10\"),\r\n        fromDateStr: \"\", //\"10 Sep 2023\",\r\n        toDate: new Date(to_date), //new Date(\"2023-09-15\"),\r\n        toDateStr: \"\", // \"15 Sep 2023\",\r\n        dateDifference: 0,\r\n        editabled: true,\r\n        message: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  renderView() {\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"stickyCell align-items-center topLeftCell preventPageScroll\">\r\n          <div class=\"row justify-content-around no-gutters\">\r\n            <div\r\n              class=\"caledarBtns\"\r\n              onClick={() => this.handleOptionEvent(\"showAssigned\")}\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"bottom\"\r\n              data-original-title=\"Assignments\"\r\n            >\r\n              <i class=\"la la-tasks\"></i>\r\n            </div>\r\n            <div\r\n              class=\"caledarBtns\"\r\n              onClick={() => this.handleOptionEvent(\"calendar\")}\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"bottom\"\r\n              data-original-title=\"Navigate\"\r\n            >\r\n              <i class=\"la la-calendar-o\"></i>\r\n              <input\r\n                class=\"datePickerHidden\"\r\n                type=\"date\"\r\n                onChange={this.handleDateSelect.bind(this)}\r\n              />\r\n            </div>\r\n            <div\r\n              class=\"caledarBtns\"\r\n              onClick={() => this.handleOptionEvent(\"gotoToday\")}\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"bottom\"\r\n              data-original-title=\"Today\"\r\n            >\r\n              <i class=\"la la-clock-o\"></i>\r\n            </div>\r\n            <div\r\n              class=\"caledarBtns\"\r\n              onClick={() =>\r\n                this.handleOptionEvent(\"add\", this.getNewBookingModel())\r\n              }\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"bottom\"\r\n              data-original-title=\"Create new booking\"\r\n            >\r\n              <i class=\"la la-plus\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"row justify-content-around no-gutters searchContiner\">\r\n            <fieldset\r\n              class={`form-group position-relative ${\r\n                this.searchValue != \"\" ? \"show\" : \"\"\r\n              }`}\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control form-control-sm input-sm\"\r\n                id=\"iconLeft7\"\r\n                value={this.searchValue}\r\n                placeholder=\"Find unit\"\r\n                onInput={(event) => this.handleFilterRooms(event)}\r\n              />\r\n              {this.searchValue !== \"\" ? (\r\n                <div\r\n                  class=\"form-control-position pointer\"\r\n                  onClick={() => this.handleClearSearch()}\r\n                  data-toggle=\"tooltip\"\r\n                  data-placement=\"top\"\r\n                  data-original-title=\"Clear Selection\"\r\n                >\r\n                  <i class=\"la la-close font-small-4\"></i>\r\n                </div>\r\n              ) : null}\r\n\r\n              {this.searchList.length ? (\r\n                <div class=\"position-absolute1 searchListContainer1 full-width dropdown-menu dropdown-menu-right full-width\">\r\n                  {this.searchList.map((room) => (\r\n                    <div\r\n                      class=\"searchListItem1 dropdown-item p-1 text-left pointer\"\r\n                      onClick={() => this.handleScrollToRoom(room.id)}\r\n                    >\r\n                      {room.name}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : null}\r\n            </fieldset>\r\n          </div>\r\n        </div>\r\n        <div class=\"stickyCell headersContainer\">\r\n          <div class=\"monthsContainer\">\r\n            {this.calendarData.monthsInfo.map((monthInfo) => (\r\n              <div\r\n                class=\"monthCell\"\r\n                style={{ width: monthInfo.daysCount * 70 + \"px\" }}\r\n              >\r\n                <div class=\"monthTitle\">{monthInfo.monthName}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {this.calendarData.days.map((dayInfo) => (\r\n            <div\r\n              class={`headerCell align-items-center ${\"day-\" + dayInfo.day} ${\r\n                dayInfo.day === this.today ? \"currentDay\" : \"\"\r\n              }`}\r\n              data-day={dayInfo.day}\r\n            >\r\n              <div class=\"preventPageScroll\">\r\n                <span\r\n                  class={`badge badge-${\r\n                    dayInfo.unassigned_units_nbr !== 0\r\n                      ? \"info pointer\"\r\n                      : \"light\"\r\n                  } badge-pill`}\r\n                  onClick={() => this.showToBeAssigned(dayInfo)}\r\n                >\r\n                  {dayInfo.unassigned_units_nbr}\r\n                </span>\r\n              </div>\r\n              <div class=\"dayTitle\">{dayInfo.dayDisplayName}</div>\r\n              <div class=\"dayCapacityPercent\">{dayInfo.occupancy}%</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  text-align: left;\r\n}\r\n\r\n.iglRangePicker {\r\n  margin: 0;\r\n  border: 1px solid #379ff2;\r\n  border-radius: 6px;\r\n  min-width: 300px;\r\n  max-width: 320px;\r\n  display: inline-block;\r\n  text-align: center;\r\n  margin-right: 5px;\r\n  padding: 5px;\r\n}\r\n\r\n.calendarPickerContainer {\r\n  display: inline-block;\r\n}\r\n\r\n.dateRangeLabel {\r\n  display: inline-block;\r\n  align-self: center;\r\n  margin-right: 5px;\r\n}\r\n\r\n.taxMessage {\r\n  padding: 5px;\r\n  display: inline-block;\r\n}\r\n\r\n.calendarBtns {\r\n  position: relative;\r\n  width: calc((100% - 120px) / 2);\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.datePickerHidden {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  opacity: 0;\r\n}\r\n\r\n.iglRangePicker > * {\r\n  vertical-align: middle;\r\n}\r\n\r\n.iglRangePicker .ft-calendar {\r\n  line-height: 1.5;\r\n  margin-left: 10px;\r\n}\r\n\r\n.iglRangePicker .la-calendar-o {\r\n  margin-left: 10px;\r\n}\r\n\r\n.iglRangePicker .iglRangeNights {\r\n  margin-left: 10px;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Element,\r\n  State,\r\n  Event,\r\n  EventEmitter,\r\n  Prop,\r\n} from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-date-range\",\r\n  styleUrl: \"igl-date-range.css\",\r\n  scoped: true,\r\n})\r\nexport class IglDateRange {\r\n  @Element() private element: HTMLElement;\r\n  @Prop({ reflect: true }) message: string = \"\";\r\n  @Prop() defaultData: { [key: string]: any };\r\n  @Event() dateSelectEvent: EventEmitter<{ [key: string]: any }>;\r\n  @State() renderAgain: boolean = false;\r\n\r\n  private totalNights: number = 0;\r\n  private fromDate: Date;\r\n  private toDate: Date;\r\n  private fromDateStr: string = \"from\";\r\n  private toDateStr: string = \"to\";\r\n  private dateEditable: boolean = true;\r\n  // private minDate1:string;\r\n  // private minDate2:string;\r\n  private maxDate1: string;\r\n  private maxDate2: string;\r\n\r\n  getStringDateFormat(dt) {\r\n    return (\r\n      dt.getFullYear() +\r\n      \"-\" +\r\n      (dt.getMonth() < 9 ? \"0\" : \"\") +\r\n      (dt.getMonth() + 1) +\r\n      \"-\" +\r\n      (dt.getDate() <= 9 ? \"0\" : \"\") +\r\n      dt.getDate()\r\n    );\r\n  }\r\n\r\n  componentWillLoad() {\r\n    let dt = new Date();\r\n    dt.setHours(0, 0, 0, 0);\r\n    // this.minDate1 = this.getStringDateFormat(dt);\r\n    dt.setDate(dt.getDate() + 1);\r\n    // this.minDate2 = this.getStringDateFormat(dt);\r\n\r\n    dt.setDate(dt.getDate() + 364);\r\n    this.maxDate1 = this.getStringDateFormat(dt);\r\n    dt.setDate(dt.getDate() + 365);\r\n    this.maxDate2 = this.getStringDateFormat(dt);\r\n\r\n    if (this.defaultData) {\r\n      if (this.defaultData.fromDate) {\r\n        this.fromDate = new Date(this.defaultData.fromDate);\r\n        this.fromDate.setHours(0, 0, 0, 0);\r\n        this.fromDateStr = this.getFormattedDateString(this.fromDate);\r\n      }\r\n      if (this.defaultData.toDate) {\r\n        this.toDate = new Date(this.defaultData.toDate);\r\n        this.toDate.setHours(0, 0, 0, 0);\r\n        this.toDateStr = this.getFormattedDateString(this.toDate);\r\n      }\r\n      if (this.defaultData.hasOwnProperty(\"editable\")) {\r\n        this.dateEditable = this.defaultData.editable;\r\n      }\r\n    }\r\n    if (this.fromDate && this.toDate) {\r\n      this.calculateTotalNights();\r\n      this.handleDateSelectEvent(\"selectedDateRange\", {\r\n        fromDate: this.fromDate.getTime(),\r\n        toDate: this.toDate.getTime(),\r\n        fromDateStr: this.fromDateStr,\r\n        toDateStr: this.toDateStr,\r\n        dateDifference: this.totalNights,\r\n      });\r\n    }\r\n  }\r\n\r\n  calculateTotalNights() {\r\n    this.totalNights =\r\n      Math.floor((this.toDate.getTime() - this.fromDate.getTime()) / 86400000);\r\n  }\r\n\r\n  openDatePicker(targetElement) {\r\n    const picker = this.element.querySelector(\r\n      \".\" + targetElement\r\n    ) as HTMLInputElement;\r\n    picker.showPicker();\r\n  }\r\n\r\n  getFormattedDateString(dt) {\r\n    return (\r\n      dt.getDate() +\r\n      \" \" +\r\n      dt.toLocaleString(\"default\", { month: \"short\" }).toLowerCase() +\r\n      \" \" +\r\n      dt.getFullYear()\r\n    );\r\n  }\r\n\r\n  handleDateSelectEvent(key, data: any = \"\") {\r\n    this.dateSelectEvent.emit({ key, data });\r\n  }\r\n\r\n  handleDateSelect(event: Event) {\r\n    event.preventDefault();\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n\r\n    const inputElement = event.target as HTMLInputElement;\r\n    let selectedDate = inputElement.value;\r\n\r\n    if (selectedDate) {\r\n      let dt = new Date(selectedDate);\r\n      dt.setHours(0, 0, 0, 0);\r\n\r\n      if (inputElement.name === \"fromDate\") {\r\n        this.fromDate = dt;\r\n        this.fromDateStr = this.getFormattedDateString(this.fromDate);\r\n        if (this.toDate && this.fromDate < this.toDate) {\r\n          // Do nothing as end date is above from date\r\n        } else {\r\n          // End date is less than or equal, so increase a day in toDate\r\n          this.toDate = new Date(this.fromDate.getTime());\r\n          this.toDate.setDate(this.fromDate.getDate() + 1);\r\n          this.toDate.setHours(0, 0, 0, 0);\r\n          this.toDateStr = this.getFormattedDateString(this.toDate);\r\n        }\r\n      } else {\r\n        this.toDate = dt;\r\n        this.toDateStr = this.getFormattedDateString(this.toDate);\r\n        if (this.fromDate && this.toDate > this.fromDate) {\r\n          // Do nothing as end date is above from date\r\n        } else {\r\n          // set from Date a day before end date.\r\n          this.fromDate = new Date(this.toDate.getTime());\r\n          this.fromDate.setDate(this.toDate.getDate() - 1);\r\n          this.fromDate.setHours(0, 0, 0, 0);\r\n          this.fromDateStr = this.getFormattedDateString(this.fromDate);\r\n        }\r\n      }\r\n    }\r\n\r\n    // // Manually close the date picker - for Safari\r\n    const picker = this.element.querySelector(\r\n      \".datePickerHidden\"\r\n    ) as HTMLInputElement;\r\n    picker.blur();\r\n    if (selectedDate) {\r\n      this.calculateTotalNights();\r\n      this.handleDateSelectEvent(\"selectedDateRange\", {\r\n        fromDate: this.fromDate.getTime(),\r\n        toDate: this.toDate.getTime(),\r\n        fromDateStr: this.fromDateStr,\r\n        toDateStr: this.toDateStr,\r\n        dateDifference: this.totalNights,\r\n      });\r\n    }\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        {this.dateEditable ? (\r\n          <div class=\"calendarPickerContainer ml-0\">\r\n            <div class=\"dateRangeLabel h5\">Dates</div>\r\n            <div class=\"iglRangePicker row\">\r\n              <div\r\n                class=\"calendarBtns\"\r\n                onClick={() => this.openDatePicker(\"fromDate\")}\r\n              >\r\n                <span>{this.fromDateStr}</span>\r\n                {/* min={this.minDate1} */}\r\n                <input\r\n                  class=\"fromDate datePickerHidden\"\r\n                  type=\"date\"\r\n                  max={this.maxDate1}\r\n                  name=\"fromDate\"\r\n                  onChange={this.handleDateSelect.bind(this)}\r\n                />\r\n              </div>\r\n              -\r\n              <div\r\n                class=\"calendarBtns\"\r\n                onClick={() => this.openDatePicker(\"toDate\")}\r\n              >\r\n                <span>{this.toDateStr}</span>\r\n                {/* min={this.minDate2}  */}\r\n                <input\r\n                  class=\"toDate datePickerHidden\"\r\n                  type=\"date\"\r\n                  name=\"toDate\"\r\n                  max={this.maxDate2}\r\n                  onChange={this.handleDateSelect.bind(this)}\r\n                />\r\n              </div>\r\n              {this.totalNights ? (\r\n                <span class=\"iglRangeNights\">\r\n                  {this.totalNights + \" nights\"}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {/* <i class=\"ft-calendar\"></i> */}\r\n              <i class=\"la la-calendar-o\"></i>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div class=\"display-inline mr-1\">\r\n            <span class=\"text-bold-700 font-medium-1\">\r\n              {this.fromDateStr + \" - \" + this.toDateStr}\r\n            </span>\r\n            {this.totalNights ? (\r\n              <span class=\"iglRangeNights ml-1\">\r\n                {this.totalNights + \" nights\"}\r\n              </span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        <div class=\"taxMessage display-inline\">{this.message}</div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n\r\n/* Legend */\r\n\r\n.legendHeader {\r\n  font-weight: 500;\r\n  letter-spacing: 0.05rem;\r\n  font-size: 1.12rem;\r\n  padding-top: 5px;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.legendCloseBtn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  cursor: pointer;\r\n  font-size: 1.75em;\r\n  line-height: 1em;\r\n  padding: 0.4rem;\r\n}\r\n\r\n.legendCloseBtn:hover {\r\n  background-color: #f6f6f6;\r\n}\r\n\r\n.stickyHeader {\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #ffffff;\r\n  z-index: 1;\r\n}\r\n\r\n.legendRow {\r\n  position: relative;\r\n  vertical-align: middle;\r\n  margin-bottom: 0.3rem;\r\n}\r\n\r\n.legendRow div {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.legend_skew,\r\n.legend_skewsplit {\r\n  transform: skew(-30deg);\r\n  width: 15px;\r\n  height: 16px;\r\n}\r\n\r\n.legend_circle {\r\n  border-radius: 100%;\r\n  width: 10px;\r\n  height: 10px;\r\n  margin: 3px 3px 3px 2px;\r\n}\r\n\r\n.legend_skewsplit {\r\n  border-right: 2px solid #000000;\r\n}\r\n\r\n.blueColor {\r\n  background-color: #31bef1;\r\n}\r\n.greenColor {\r\n  background-color: #45b16d;\r\n}\r\n.yellowColor {\r\n  background-color: #f4d552;\r\n}\r\n.greyColor {\r\n  background-color: #a0a0a0;\r\n}\r\n.redColor {\r\n  background-color: #f34752;\r\n}\r\n.pinkColor {\r\n  background-color: #f9b4b7;\r\n}\r\n\r\n/* Legend Calendar */\r\n\r\n.legendCalendar .legendRow {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.legendCalendar .legendRow:first-child .legendCal {\r\n  background-color: #ececec;\r\n}\r\n\r\n.legendCalendar .legendRow div {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.legendCalendar .legendCal {\r\n  width: 80px;\r\n  height: 25px;\r\n  text-align: center;\r\n  display: inline-grid !important;\r\n  align-content: center;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.legendCalendar .legendCal .badge {\r\n  margin-top: 0.2rem;\r\n}\r\n\r\n.legendCalendar .legendCal.legendCal-h2 {\r\n  height: 40px;\r\n}\r\n\r\n.br-t {\r\n  border-top: 1px solid #a0a0a0;\r\n}\r\n.br-s {\r\n  border-left: 1px solid #a0a0a0;\r\n  border-right: 1px solid #a0a0a0;\r\n}\r\n.br-bt {\r\n  border-bottom: 1px solid #a0a0a0;\r\n}\r\n\r\n.highphenLegend {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.highphenLegend::before {\r\n  width: 12px;\r\n  height: 0.5px;\r\n  content: \" \";\r\n  background-color: #000000;\r\n  vertical-align: middle;\r\n  display: inline-block;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n}\r\n","import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'igl-legends',\r\n  styleUrl: 'igl-legends.css',\r\n  scoped: true,\r\n})\r\nexport class IglLegends {\r\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Prop() legendData: { [key: string]: any };\r\n\r\n  handleOptionEvent(key, data=\"\"){\r\n    this.optionEvent.emit({key, data});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"legendContainer pr-1 text-left\">\r\n        <div>\r\n          <div>\r\n            <div class=\"stickyHeader\">\r\n              <div class=\"legendHeader pt-1\">Legend</div>\r\n              <div class=\"legendCloseBtn pt-1\" onClick={() => this.handleOptionEvent(\"closeSideMenu\")}><i class=\"ft-chevrons-left\"></i></div>\r\n              <hr/>\r\n            </div>\r\n            <div class=\"mt-2 pl-1\">\r\n              {\r\n                this.legendData.map((legendInfo) => (\r\n                  <div class=\"legendRow \"><div class={`legend_${legendInfo.design} mr-1`} style={{backgroundColor: (legendInfo.color)}}></div><span class=\"font-small-3\">{legendInfo.name}</span></div>\r\n                ))\r\n              }\r\n            </div>\r\n            <hr/>\r\n            <div class=\"mt-2\">\r\n                <div class=\"legendCalendar\">\r\n                  <div class=\"legendRow align-items-center\"><div class=\"legendCal br-t br-s br-bt\"><strong>MAR 2022</strong></div><div class=\"highphenLegend\">Month and Year</div></div>\r\n                  <div class=\"legendRow\"><div class=\"legendCal pl-2 pr-2 br-s\"><span class=\"badge badge-primary badge-pill\">3</span></div><div class=\"highphenLegend\"><div>Unassigned Units (Click to Assign)</div></div></div>\r\n                  <div class=\"legendRow\"><div class=\"legendCal br-s\">FRI 18</div><div class=\"highphenLegend\">Date</div></div>\r\n                  <div class=\"legendRow\"><div class=\"legendCal br-s br-bt font-small-3\">15%</div><div class=\"highphenLegend\">Occupancy</div></div>\r\n                  <div class=\"legendRow\"><div class=\"legendCal br-s font-small-3\">20</div><div class=\"highphenLegend\">Inventory</div></div>\r\n                  <div class=\"legendRow align-items-center\"><div class=\"legendCal br-s br-bt font-small-2\"><u>R$100,00</u></div><div class=\"highphenLegend\"><div>Rate (Click to Change)</div></div></div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 10000;\r\n  /* min-width: 450px; */\r\n}\r\n\r\n.card-title {\r\n  border-bottom: 1px solid #e4e5ec;\r\n}\r\n\r\n.scrollContent {\r\n  height: calc(100% - 79px);\r\n  overflow: auto;\r\n  position: relative;\r\n}\r\n\r\n.background-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.formContainer {\r\n  height: calc(100% - 79px);\r\n  overflow: auto;\r\n}\r\n\r\n.sideWindow {\r\n  /* display: grid; */\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  height: 100%;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.close {\r\n  float: right;\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  line-height: 1;\r\n  color: #000;\r\n  text-shadow: 0 1px 0 #fff;\r\n  opacity: 0.5;\r\n\r\n  padding: 0;\r\n  background-color: transparent;\r\n  border: 0;\r\n  appearance: none;\r\n}\r\n\r\n.close-icon {\r\n  position: absolute;\r\n  top: 18px;\r\n  right: 33px;\r\n  outline: none;\r\n}\r\n\r\nbutton:not(:disabled),\r\n[type=\"button\"]:not(:disabled) {\r\n  cursor: pointer;\r\n}\r\n\r\n.row {\r\n  padding: 0 0 0 15px;\r\n  margin: 0;\r\n}\r\n","import {\r\n  Component,\r\n  Prop,\r\n  h,\r\n  Event,\r\n  EventEmitter,\r\n  Host,\r\n  State,\r\n} from \"@stencil/core\";\r\nimport {\r\n  IPageTwoDataUpdateProps,\r\n  PageTwoButtonsTypes,\r\n} from \"../../../models/models\";\r\n@Component({\r\n  tag: \"igl-pagetwo\",\r\n  styleUrl: \"igl-pagetwo.css\",\r\n  scoped: true,\r\n})\r\nexport class IglPagetwo {\r\n  @Prop({ reflect: true }) isEditOrAddRoomEvent: boolean;\r\n  @Prop() dateRangeData: { [key: string]: any };\r\n  @Prop() bookingData: { [key: string]: any };\r\n  @Prop() showSplitBookingOption: boolean;\r\n  @Prop() language: string;\r\n  @Prop() bookedByInfoData: { [key: string]: any };\r\n  @Prop() bedPreferenceType: any;\r\n  @Prop() selectedRooms: any;\r\n  @Prop({ reflect: true }) isLoading: string;\r\n  @Event() dataUpdateEvent: EventEmitter<IPageTwoDataUpdateProps>;\r\n  @Event() buttonClicked: EventEmitter<{\r\n    key: PageTwoButtonsTypes;\r\n    data?: CustomEvent;\r\n  }>;\r\n  @State() guestData: any;\r\n  @State() selectedUnits: { [key: string]: any } = {};\r\n\r\n  componentWillLoad() {\r\n    console.log(this.bedPreferenceType);\r\n    this.initializeGuestData();\r\n  }\r\n  initializeGuestData() {\r\n    let total = 0;\r\n    const newSelectedUnits = { ...this.selectedUnits };\r\n\r\n    for (const key in this.selectedRooms) {\r\n      for (const prop in this.selectedRooms[key]) {\r\n        const totalRooms = this.selectedRooms[key][prop].totalRooms;\r\n        newSelectedUnits[key] = Array(totalRooms).fill(-1);\r\n      }\r\n    }\r\n\r\n    this.selectedUnits = newSelectedUnits;\r\n    this.guestData = [];\r\n\r\n    for (const key of Object.keys(this.selectedRooms)) {\r\n      for (const prop of Object.keys(this.selectedRooms[key])) {\r\n        for (let i = 1; i <= this.selectedRooms[key][prop].totalRooms; i++) {\r\n          this.guestData.push({\r\n            guestName: \"\",\r\n            roomId: \"\",\r\n            preference: \"\",\r\n            ...this.selectedRooms[key][prop],\r\n          });\r\n        }\r\n        total +=\r\n          this.selectedRooms[key][prop].totalRooms *\r\n          this.selectedRooms[key][prop].rate;\r\n      }\r\n    }\r\n    this.bookingData.TOTAL_PRICE = total;\r\n  }\r\n  getRoomsListFromCategoryId(categoryId) {\r\n    let category = this.bookingData.roomsInfo?.find(\r\n      (category) => category.id === categoryId\r\n    );\r\n    return (category && category.physicalrooms) || [];\r\n  }\r\n  handleOnApplicationInfoDataUpdateEvent(event: CustomEvent, index: number) {\r\n    const opt = event.detail;\r\n    const categoryIdKey = `c_${opt.data.roomCategoryId}`;\r\n    const updatedUnits = [...(this.selectedUnits[categoryIdKey] || [])];\r\n    updatedUnits[index] = opt.data.roomId;\r\n    this.selectedUnits = {\r\n      ...this.selectedUnits,\r\n      [categoryIdKey]: updatedUnits,\r\n    };\r\n    console.log(\"applicationInfoUpdateEvent\", event);\r\n    this.dataUpdateEvent.emit({\r\n      key: \"applicationInfoUpdateEvent\",\r\n      value: event.detail,\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <Host class=\"scrollContent\">\r\n        <div class=\"row\">\r\n          <div class=\"col-6 text-left p-0\">\r\n            <span class=\"mr-1 font-weight-bold font-medium-1\">\r\n              {this.dateRangeData.fromDateStr} - {this.dateRangeData.toDateStr}\r\n            </span>\r\n            {this.dateRangeData.dateDifference} nights\r\n          </div>\r\n          <div class=\"col-6 text-right\">\r\n            Total price{\" \"}\r\n            <span class=\"font-weight-bold font-medium-1\">\r\n              {\"$\" + this.bookingData.TOTAL_PRICE || \"$0.00\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {this.guestData.map((roomInfo, index) => (\r\n          <igl-application-info\r\n            bedPreferenceType={this.bedPreferenceType}\r\n            index={index}\r\n            selectedUnits={this.selectedUnits[`c_${roomInfo.roomCategoryId}`]}\r\n            guestInfo={roomInfo}\r\n            guestRefKey={index}\r\n            bookingType={this.bookingData.event_type}\r\n            roomsList={this.getRoomsListFromCategoryId(roomInfo.roomCategoryId)}\r\n            onDataUpdateEvent={(event) =>\r\n              this.handleOnApplicationInfoDataUpdateEvent(event, index)\r\n            }\r\n          ></igl-application-info>\r\n        ))}\r\n\r\n        {this.isEditOrAddRoomEvent || this.showSplitBookingOption ? null : (\r\n          <igl-property-booked-by\r\n            language={this.language}\r\n            defaultData={this.bookedByInfoData}\r\n            onDataUpdateEvent={(event) =>\r\n              this.dataUpdateEvent.emit({\r\n                key: \"propertyBookedBy\",\r\n                value: event.detail,\r\n              })\r\n            }\r\n          ></igl-property-booked-by>\r\n        )}\r\n\r\n        {this.isEditOrAddRoomEvent ? (\r\n          <div class=\"row p-0 mb-1 mt-2\">\r\n            <div class=\"col-6\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary full-width\"\r\n                onClick={() => this.buttonClicked.emit({ key: \"cancel\" })}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button\r\n                disabled={this.isLoading === \"save\"}\r\n                type=\"button\"\r\n                class=\"btn btn-primary full-width\"\r\n                onClick={() => this.buttonClicked.emit({ key: \"save\" })}\r\n              >\r\n                {this.isLoading === \"save\" && (\r\n                  <i class=\"la la-circle-o-notch spinner mx-1\"></i>\r\n                )}\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div class=\"row p-0 mb-1 mt-2\">\r\n            <div class=\"col-4\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary full-width\"\r\n                onClick={() => this.buttonClicked.emit({ key: \"back\" })}\r\n              >\r\n                &lt;&lt; Back\r\n              </button>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <button\r\n                disabled={this.isLoading === \"book\"}\r\n                type=\"button\"\r\n                class=\"btn btn-primary full-width\"\r\n                onClick={() => this.buttonClicked.emit({ key: \"book\" })}\r\n              >\r\n                {this.isLoading === \"book\" && (\r\n                  <i class=\"la la-circle-o-notch spinner mx-1\"></i>\r\n                )}\r\n                Book\r\n              </button>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <button\r\n                disabled={this.isLoading === \"bookAndCheckIn\"}\r\n                type=\"button\"\r\n                class=\"btn btn-primary full-width\"\r\n                onClick={() =>\r\n                  this.buttonClicked.emit({ key: \"bookAndCheckIn\" })\r\n                }\r\n              >\r\n                {this.isLoading === \"bookAndCheckIn\" && (\r\n                  <i class=\"la la-circle-o-notch spinner mx-1\"></i>\r\n                )}\r\n                Book & check in\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.row {\r\n  padding: 0 0 0 15px;\r\n  margin: 0;\r\n}\r\n\r\n.bookedByEmailContainer {\r\n  flex: auto;\r\n  max-width: 250px;\r\n}\r\n\r\n.bookedDetailsForm label {\r\n  min-width: 125px;\r\n  max-width: 125px;\r\n}\r\n\r\n.bookedDetailsForm .controlContainer {\r\n  width: calc(100% - 127px);\r\n}\r\n\r\n.bookedDetailsForm .form-group {\r\n  margin-bottom: 10px !important;\r\n}\r\n\r\n.bookedDetailsForm .checkBoxContainer input {\r\n  height: 1.2rem !important;\r\n  width: 30px;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  State,\r\n} from \"@stencil/core\";\r\nimport { BookingService } from \"../../../services/booking.service\";\r\nimport { IEntries, ICountry } from \"../../../models/IBooking\";\r\nimport { v4 } from \"uuid\";\r\n\r\n@Component({\r\n  tag: \"igl-property-booked-by\",\r\n  styleUrl: \"igl-property-booked-by.css\",\r\n  scoped: true,\r\n})\r\nexport class IglPropertyBookedBy {\r\n  @Prop() language: string;\r\n  @Prop() defaultData: { [key: string]: any };\r\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\r\n  private bookingService: BookingService = new BookingService();\r\n  private arrivalTimeList: IEntries[] = [];\r\n  private countryNodeList: ICountry[] = [];\r\n  private expiryMonths: string[] = [\r\n    \"01\",\r\n    \"02\",\r\n    \"03\",\r\n    \"04\",\r\n    \"05\",\r\n    \"06\",\r\n    \"07\",\r\n    \"08\",\r\n    \"09\",\r\n    \"10\",\r\n    \"11\",\r\n    \"12\",\r\n  ];\r\n  private expiryYears: string[] = [];\r\n  private currentMonth: string = \"01\";\r\n  @State() bookedByData: { [key: string]: any } = {\r\n    id: undefined,\r\n    email: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    countryId: \"\",\r\n    isdCode: \"\",\r\n    contactNumber: \"\",\r\n    selectedArrivalTime: {\r\n      code: \"\",\r\n      description: \"\",\r\n    },\r\n    emailGuest: false,\r\n    message: \"\",\r\n    cardNumber: \"\",\r\n    cardHolderName: \"\",\r\n    expiryMonth: \"\",\r\n    expiryYear: \"\",\r\n  };\r\n\r\n  async componentWillLoad() {\r\n    await this.fetchCountries();\r\n    this.initializeExpiryYears();\r\n    this.initializeDateData();\r\n    this.populateBookedByData();\r\n    console.log(\"default data\", this.defaultData);\r\n    console.log(\"bookedBydata\", this.bookedByData);\r\n  }\r\n  private async fetchCountries() {\r\n    this.countryNodeList = await this.bookingService.getCountries(\r\n      this.language\r\n    );\r\n  }\r\n  private initializeExpiryYears() {\r\n    const currentYear = new Date().getFullYear();\r\n    this.expiryYears = Array.from({ length: 4 }, (_, index) =>\r\n      (currentYear + index).toString()\r\n    );\r\n  }\r\n\r\n  private initializeDateData() {\r\n    const dt = new Date();\r\n    const month = dt.getMonth() + 1;\r\n    this.currentMonth = month < 10 ? `0${month}` : month.toString();\r\n  }\r\n\r\n  private populateBookedByData() {\r\n    this.bookedByData = this.defaultData ? { ...this.defaultData } : {};\r\n    this.arrivalTimeList = this.defaultData?.arrivalTime || [];\r\n\r\n    if (!this.bookedByData.expiryMonth) {\r\n      this.bookedByData.expiryMonth = this.currentMonth;\r\n    }\r\n    if (!this.bookedByData.expiryYear) {\r\n      this.bookedByData.expiryYear = new Date().getFullYear();\r\n    }\r\n    console.log(\"bookedBydata\", this.bookedByData);\r\n  }\r\n\r\n  handleDataChange(key, event) {\r\n    const foundTime = this.arrivalTimeList.find(\r\n      (time) => time.CODE_NAME === event.target.value\r\n    );\r\n\r\n    this.bookedByData[key] =\r\n      key === \"emailGuest\"\r\n        ? event.target.checked\r\n        : key === \"arrivalTime\"\r\n        ? {\r\n            code: event.target.value,\r\n            description: (foundTime && foundTime.CODE_VALUE_EN) || \"\",\r\n          }\r\n        : event.target.value;\r\n    this.dataUpdateEvent.emit({\r\n      key: \"bookedByInfoUpdated\",\r\n      data: { ...this.bookedByData },\r\n    });\r\n    if (key === \"countryId\") {\r\n      this.bookedByData = {\r\n        ...this.bookedByData,\r\n        isdCode: event.target.value,\r\n      };\r\n    }\r\n  }\r\n\r\n  handleNumberInput(key, event: InputEvent) {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    const inputValue = inputElement.value;\r\n\r\n    // Regular expression to match only numeric characters (0-9)\r\n    const numericRegex = /^[0-9]+$/;\r\n\r\n    if (!numericRegex.test(inputValue)) {\r\n      // If the input is not numeric, prevent it from being entered\r\n      inputElement.value = inputValue.replace(/[^0-9]/g, \"\");\r\n    }\r\n    if (inputValue === inputElement.value) {\r\n      this.handleDataChange(key, event);\r\n    }\r\n  }\r\n\r\n  async handleEmailInput(key, event: InputEvent) {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    const inputValue = inputElement.value;\r\n    if (this.isValidEmail(inputValue)) {\r\n      this.handleDataChange(key, event);\r\n    }\r\n  }\r\n  async checkUser() {\r\n    const email = this.bookedByData.email;\r\n    if (this.isValidEmail(email)) {\r\n      const res = await this.bookingService.getUserInfo(email);\r\n      console.log(res);\r\n      if (res !== null) {\r\n        this.bookedByData = {\r\n          ...this.bookedByData,\r\n          id: res.id,\r\n          firstName: res.first_name,\r\n          lastName: res.last_name,\r\n          contactNumber: res.mobile,\r\n          countryId: res.country_id,\r\n          isdCode: res.country_id.toString(),\r\n        };\r\n        this.dataUpdateEvent.emit({\r\n          key: \"bookedByInfoUpdated\",\r\n          data: { ...this.bookedByData },\r\n        });\r\n      } else {\r\n        this.bookedByData = {\r\n          ...this.bookedByData,\r\n          id: undefined,\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          contactNumber: \"\",\r\n          countryId: \"\",\r\n          isdCode: \"\",\r\n        };\r\n      }\r\n    }\r\n  }\r\n  isValidEmail(emailId) {\r\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return emailPattern.test(emailId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"text-left mt-3\">\r\n          <div class=\"form-group row text-left align-items-center\">\r\n            <label class=\"p-0 m-0 label-control mr-1 font-weight-bold\">\r\n              Booked by\r\n            </label>\r\n            <div class=\"bookedByEmailContainer\">\r\n              <input\r\n                id={v4()}\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                placeholder=\"Email address\"\r\n                name=\"bookeyByEmail\"\r\n                value={this.bookedByData.email}\r\n                onInput={(event) => this.handleEmailInput(\"email\", event)}\r\n                required\r\n                onBlur={() => this.checkUser()}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bookedDetailsForm text-left mt-2 font-small-3\">\r\n          <div class=\"row\">\r\n            <div class=\"p-0 col-md-6\">\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">First name</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"First name\"\r\n                    id={v4()}\r\n                    value={this.bookedByData.firstName}\r\n                    onInput={(event) =>\r\n                      this.handleDataChange(\"firstName\", event)\r\n                    }\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Last name</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Last name\"\r\n                    id={v4()}\r\n                    value={this.bookedByData.lastName}\r\n                    onInput={(event) =>\r\n                      this.handleDataChange(\"lastName\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Country</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <select\r\n                    class=\"form-control input-sm pr-0\"\r\n                    id={v4()}\r\n                    onChange={(event) =>\r\n                      this.handleDataChange(\"countryId\", event)\r\n                    }\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={this.bookedByData.countryId === \"\"}\r\n                    >\r\n                      Select\r\n                    </option>\r\n                    {this.countryNodeList.map((countryNode) => (\r\n                      <option\r\n                        value={countryNode.id}\r\n                        selected={\r\n                          this.bookedByData.countryId === countryNode.id\r\n                        }\r\n                      >\r\n                        {countryNode.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Mobile phone</label>\r\n                <div class=\"p-0 m-0 pr-1 row controlContainer\">\r\n                  <div class=\"col-3 p-0 m-0\">\r\n                    <select\r\n                      class=\"form-control input-sm pr-0\"\r\n                      id={v4()}\r\n                      onChange={(event) =>\r\n                        this.handleDataChange(\"isdCode\", event)\r\n                      }\r\n                    >\r\n                      <option\r\n                        value=\"\"\r\n                        selected={this.bookedByData.isdCode === \"\"}\r\n                      >\r\n                        ISD\r\n                      </option>\r\n                      {this.countryNodeList.map((country) => (\r\n                        <option\r\n                          value={country.id}\r\n                          selected={\r\n                            this.bookedByData.isdCode === country.id.toString()\r\n                          }\r\n                        >\r\n                          {country.phone_prefix}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-9 p-0 m-0\">\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"tel\"\r\n                      placeholder=\"Contact Number\"\r\n                      id={v4()}\r\n                      value={this.bookedByData.contactNumber}\r\n                      onInput={(event) =>\r\n                        this.handleNumberInput(\"contactNumber\", event)\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Your arrival time</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <select\r\n                    class=\"form-control input-sm pr-0\"\r\n                    id={v4()}\r\n                    onChange={(event) =>\r\n                      this.handleDataChange(\"selectedArrivalTime\", event)\r\n                    }\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={this.bookedByData.selectedArrivalTime === \"\"}\r\n                    >\r\n                      -\r\n                    </option>\r\n                    {this.arrivalTimeList.map((time) => (\r\n                      <option\r\n                        value={time.CODE_NAME}\r\n                        selected={\r\n                          this.bookedByData.selectedArrivalTime ===\r\n                          time.CODE_NAME\r\n                        }\r\n                      >\r\n                        {time.CODE_VALUE_EN}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Email the guest</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer checkBoxContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"checkbox\"\r\n                    checked={this.bookedByData.emailGuest}\r\n                    id={v4()}\r\n                    onChange={(event) =>\r\n                      this.handleDataChange(\"emailGuest\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-6 p-0\">\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Any message for us?</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <textarea\r\n                    id={v4()}\r\n                    rows={4}\r\n                    class=\"form-control\"\r\n                    name=\"message\"\r\n                    value={this.bookedByData.message}\r\n                    onInput={(event) => this.handleDataChange(\"message\", event)}\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Card Number</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"\"\r\n                    pattern=\"0-9 \"\r\n                    id={v4()}\r\n                    value={this.bookedByData.cardNumber}\r\n                    onInput={(event) =>\r\n                      this.handleNumberInput(\"cardNumber\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Card holder name</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"\"\r\n                    pattern=\"0-9 \"\r\n                    id={v4()}\r\n                    value={this.bookedByData.cardHolderName}\r\n                    onInput={(event) =>\r\n                      this.handleDataChange(\"cardHolderName\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Expiry Date</label>\r\n                <div class=\"p-0 m-0 row controlContainer\">\r\n                  <div class=\"col-3 p-0 m-0\">\r\n                    <select\r\n                      class=\"form-control input-sm pr-0\"\r\n                      id={v4()}\r\n                      onChange={(event) =>\r\n                        this.handleDataChange(\"expiryMonth\", event)\r\n                      }\r\n                    >\r\n                      {this.expiryMonths.map((month) => (\r\n                        <option\r\n                          value={month}\r\n                          selected={month === this.bookedByData.expiryMonth}\r\n                        >\r\n                          {month}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-4 p-0 m-0\">\r\n                    <select\r\n                      class=\"form-control input-sm pr-0\"\r\n                      id={v4()}\r\n                      onChange={(event) =>\r\n                        this.handleDataChange(\"expiryYear\", event)\r\n                      }\r\n                    >\r\n                      {this.expiryYears.map((year, index) => (\r\n                        <option\r\n                          value={year}\r\n                          selected={index === this.bookedByData.expiryYear}\r\n                        >\r\n                          {year}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  IAvailableRoom,\r\n  IRoomCategory,\r\n  IUnassignedDates,\r\n  InnerRecord,\r\n} from \"../models/tobeassigned\";\r\nimport { dateDifference, dateToFormattedString } from \"../utils/utils\";\r\n\r\nexport class ToBeAssignedService {\r\n  public async getUnassignedDates(\r\n    propertyid: number,\r\n    from_date: string,\r\n    to_date: string\r\n  ) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Get_UnAssigned_Dates?Ticket=${token}`,\r\n          {\r\n            propertyid,\r\n            from_date,\r\n            to_date,\r\n          }\r\n        );\r\n        return this.convertUnassignedDates(data.My_Result);\r\n      } else {\r\n        throw new Error(\"Invalid Token\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  public async getUnassignedRooms(\r\n    propertyid: number,\r\n    specific_date: string,\r\n    roomInfo: any,\r\n    formattedLegendData: any\r\n  ) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Get_Aggregated_UnAssigned_Rooms?Ticket=${token}`,\r\n          {\r\n            propertyid,\r\n            specific_date,\r\n          }\r\n        );\r\n        return this.transformToAssignable(data, roomInfo, formattedLegendData);\r\n      } else {\r\n        throw new Error(\"Invalid Token\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  public async assignUnit(\r\n    booking_nbr: string,\r\n    identifier: string,\r\n    pr_id: number\r\n  ) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/Assign_Exposed_Room?Ticket=${token}`,\r\n          {\r\n            booking_nbr,\r\n            identifier,\r\n            pr_id,\r\n          }\r\n        );\r\n        return data;\r\n      } else {\r\n        throw new Error(\"Invalid token\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  private transformToAssignable(\r\n    data: any,\r\n    roomInfo,\r\n    formattedLegendData\r\n  ): IRoomCategory[] {\r\n    const result: IRoomCategory[] = [];\r\n    data.My_Result.forEach((customer: any) => {\r\n      customer.unassigned_rooms.forEach((room: any) => {\r\n        let roomCategory: IRoomCategory = {\r\n          roomTypeName: room.room_type_name,\r\n          ID: room.identifier,\r\n          NAME: room.guest_name,\r\n          identifier: room.identifier,\r\n          FROM_DATE: room.unassigned_date,\r\n          TO_DATE: room.unassigned_date,\r\n          BOOKING_NUMBER: room.book_nbr,\r\n          STATUS: \"IN-HOUSE\",\r\n          defaultDateRange: {\r\n            fromDate: undefined,\r\n            toDate: undefined,\r\n            fromDateTimeStamp: 0,\r\n            toDateTimeStamp: 0,\r\n            fromDateStr: \"\",\r\n            toDateStr: \"\",\r\n            dateDifference: 0,\r\n          },\r\n          NO_OF_DAYS: 1,\r\n          roomsInfo: roomInfo,\r\n          legendData: formattedLegendData,\r\n          availableRooms: [],\r\n          RT_ID: this.getRoomTypeId(room.room_type_name, roomInfo),\r\n        };\r\n        this.updateAvailableRooms(\r\n          room,\r\n          roomCategory,\r\n          formattedLegendData,\r\n          roomInfo\r\n        );\r\n        this.addDefaultDateRange(roomCategory);\r\n        result.push(roomCategory);\r\n      });\r\n    });\r\n    return result;\r\n  }\r\n  addDefaultDateRange(roomCategory: IRoomCategory) {\r\n    roomCategory.defaultDateRange.fromDate = new Date(\r\n      roomCategory.FROM_DATE + \"T00:00:00\"\r\n    );\r\n    roomCategory.defaultDateRange.fromDateStr = dateToFormattedString(\r\n      roomCategory.defaultDateRange.fromDate\r\n    );\r\n    roomCategory.defaultDateRange.fromDateTimeStamp =\r\n      roomCategory.defaultDateRange.fromDate.getTime();\r\n\r\n    roomCategory.defaultDateRange.toDate = new Date(\r\n      roomCategory.TO_DATE + \"T00:00:00\"\r\n    );\r\n    roomCategory.defaultDateRange.toDateStr = dateToFormattedString(\r\n      roomCategory.defaultDateRange.toDate\r\n    );\r\n    roomCategory.defaultDateRange.toDateTimeStamp =\r\n      roomCategory.defaultDateRange.toDate.getTime();\r\n\r\n    roomCategory.defaultDateRange.dateDifference = roomCategory.NO_OF_DAYS;\r\n  }\r\n  private getRoomTypeId(roomName: string, roomInfo: any) {\r\n    return roomInfo.find((room) => room.name === roomName).id || null;\r\n  }\r\n  private updateAvailableRooms(\r\n    room: any,\r\n    roomCategory: IRoomCategory,\r\n    formattedLegendData,\r\n    roomsInfo\r\n  ): void {\r\n    const rooms: IAvailableRoom[] = [];\r\n    room.assignable_units.forEach((unit: any) => {\r\n      if (unit.Is_Fully_Available && !unit.Is_Not_Available) {\r\n        const days = dateDifference(unit.from_date, unit.to_date);\r\n        rooms.push({\r\n          RT_ID: roomCategory.RT_ID,\r\n          STATUS: \"PENDING-CONFIRMATION\",\r\n          FROM_DATE: unit.from_date,\r\n          roomName: unit.name,\r\n          PR_ID: unit.pr_id,\r\n          TO_DATE: unit.to_date,\r\n          NO_OF_DAYS: days,\r\n          ID: \"NEW_TEMP_EVENT\",\r\n          NAME: \"\",\r\n          NOTES: \"\",\r\n          BALANCE: \"\",\r\n          INTERNAL_NOTE: \"\",\r\n          hideBubble: true,\r\n          legendData: formattedLegendData,\r\n          roomsInfo,\r\n        });\r\n        roomCategory.TO_DATE = unit.to_date;\r\n        roomCategory.NO_OF_DAYS = days;\r\n      }\r\n    });\r\n    roomCategory.availableRooms = rooms;\r\n  }\r\n\r\n  private convertUnassignedDates(\r\n    dates: IUnassignedDates[]\r\n  ): Record<number, InnerRecord> {\r\n    let convertedDates: Record<number, InnerRecord> = {};\r\n    dates.forEach((date) => {\r\n      convertedDates[new Date(date.date).getTime()] = {\r\n        categories: {},\r\n        dateStr: date.description,\r\n      };\r\n    });\r\n    return convertedDates;\r\n  }\r\n}\r\n","@import url(\"../../../../assets/feather/style.min.css\");\r\n@import url(\"../../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.guestTitle {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  padding: 2px;\r\n  margin-bottom: 5px;\r\n  margin-top: 5px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  /* margin-bottom: 5px; */\r\n}\r\n\r\n.guestTitle.selectedOrder {\r\n  background-color: #f9f9c9;\r\n}\r\n\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n\r\nhr {\r\n  margin-top: 8px;\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.bookingContainer {\r\n  background-color: #ececec;\r\n}\r\n\r\n.actionsContainer {\r\n  padding: 5px !important;\r\n  padding-right: 0px !important;\r\n}\r\n\r\n.selectContainer {\r\n  width: 195px;\r\n  margin-right: 8px;\r\n}\r\n\r\n.buttonsContainer {\r\n  width: 100px;\r\n}\r\n.btn-secondary {\r\n  margin-right: 8px !important;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  Prop,\r\n  h,\r\n  Event,\r\n  EventEmitter,\r\n  Listen,\r\n  State,\r\n} from \"@stencil/core\";\r\nimport { ToBeAssignedService } from \"../../../../services/toBeAssigned.service\";\r\nimport { v4 } from \"uuid\";\r\n// import $ from 'jquery';\r\n\r\n@Component({\r\n  tag: \"igl-tba-booking-view\",\r\n  styleUrl: \"igl-tba-booking-view.css\",\r\n  scoped: true,\r\n})\r\nexport class IglTbaBookingView {\r\n  // @Element() private element: HTMLElement;\r\n  @Event({ bubbles: true, composed: true })\r\n  highlightToBeAssignedBookingEvent: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) addToBeAssignedEvent: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) scrollPageToRoom: EventEmitter;\r\n  @Event() assignRoomEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Prop() calendarData: { [key: string]: any };\r\n  @Prop() selectedDate;\r\n  @Prop() eventData: { [key: string]: any } = {};\r\n  @Prop() categoriesData: { [key: string]: any } = {};\r\n  @Prop() categoryId;\r\n  @Prop() categoryIndex;\r\n  @Prop() eventIndex;\r\n  @State() renderAgain: boolean = false;\r\n\r\n  @State() selectedRoom: number = -1;\r\n  private highlightSection: boolean = false;\r\n  private allRoomsList: { [key: string]: any }[] = [];\r\n  private toBeAssignedService = new ToBeAssignedService();\r\n  onSelectRoom(evt) {\r\n    if (evt.stopImmediatePropagation) {\r\n      evt.stopImmediatePropagation();\r\n      evt.stopPropagation();\r\n    }\r\n    this.selectedRoom = parseInt(evt.target.value);\r\n  }\r\n\r\n  // componentDidLoad(){\r\n  //   this.initializeToolTips();\r\n  // }\r\n\r\n  componentShouldUpdate(\r\n    newValue: string,\r\n    oldValue: string,\r\n    propName: string\r\n  ): boolean {\r\n    // Implement your custom logic here\r\n    // console.log(propName, newValue, oldValue)\r\n    if (propName === \"selectedDate\" && newValue !== oldValue) {\r\n      this.highlightSection = false;\r\n      this.selectedRoom = -1;\r\n      return true; // Prevent update for a specific prop value\r\n    } else if (propName === \"eventData\" && newValue !== oldValue) {\r\n      this.selectedRoom = -1;\r\n      return true;\r\n    }\r\n    // Default behavior, allow update\r\n    return true;\r\n  }\r\n\r\n  componentWillLoad() {\r\n    //console.log(\"eventIndex\", this.eventIndex);\r\n    if (this.categoryIndex === 0 && this.eventIndex === 0) {\r\n      setTimeout(() => {\r\n        this.handleHighlightAvailability();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  // initializeToolTips(){\r\n  // console.log($(this.element));\r\n  // console.log($('[data-toggle=\"tooltip\"]'))\r\n  // console.log($(this.element + ' [data-toggle=\"tooltip\"]'));\r\n\r\n  // $('[data-toggle=\"tooltip\"]').tooltip({\r\n  //   container: 'body'\r\n  // });\r\n  // }\r\n\r\n  async handleAssignUnit(event) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    if (this.selectedRoom) {\r\n      await this.toBeAssignedService.assignUnit(\r\n        this.eventData.BOOKING_NUMBER,\r\n        this.eventData.ID,\r\n        this.selectedRoom\r\n      );\r\n      let assignEvent = { ...this.eventData, PR_ID: this.selectedRoom };\r\n\r\n      /* Here need to work on saving to db on success run below 2 lines */\r\n      this.calendarData.bookingEvents.push(assignEvent);\r\n      this.addToBeAssignedEvent.emit({\r\n        key: \"tobeAssignedEvents\",\r\n        data: [assignEvent],\r\n      });\r\n      this.assignRoomEvent.emit({ key: \"assignRoom\", data: assignEvent });\r\n    }\r\n  }\r\n\r\n  handleHighlightAvailability() {\r\n    this.highlightToBeAssignedBookingEvent.emit({\r\n      key: \"highlightBookingId\",\r\n      data: { bookingId: this.eventData.ID },\r\n    });\r\n    if (!this.selectedDate) {\r\n      return;\r\n    }\r\n    let filteredEvents = [];\r\n    let allRoomsList = [];\r\n    filteredEvents = this.eventData.availableRooms.map((room) => {\r\n      allRoomsList.push({\r\n        calendar_cell: null,\r\n        id: room.PR_ID,\r\n        name: room.roomName,\r\n      });\r\n      return {\r\n        ...room,\r\n        defaultDateRange: this.eventData.defaultDateRange,\r\n        identifier: this.eventData.identifier,\r\n        // roomsInfo: this.eventData.roomsInfo,\r\n        // legendData: this.eventData.legendData,\r\n      };\r\n    });\r\n    this.allRoomsList = allRoomsList;\r\n    this.addToBeAssignedEvent.emit({\r\n      key: \"tobeAssignedEvents\",\r\n      data: filteredEvents,\r\n    });\r\n\r\n    this.scrollPageToRoom.emit({\r\n      key: \"scrollPageToRoom\",\r\n      id: this.categoryId,\r\n      refClass: \"category_\" + this.categoryId,\r\n    });\r\n    // ID: \"NEW_TEMP_EVENT\",\r\n    // STATUS: \"PENDING_CONFIRMATION\"\r\n    this.renderView();\r\n  }\r\n\r\n  handleCloseAssignment(event) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    this.highlightSection = false;\r\n    this.highlightToBeAssignedBookingEvent.emit({\r\n      key: \"highlightBookingId\",\r\n      data: { bookingId: \"----\" },\r\n    });\r\n    this.onSelectRoom({ target: { value: \"\" } });\r\n    this.addToBeAssignedEvent.emit({ key: \"tobeAssignedEvents\", data: [] });\r\n    this.renderView();\r\n  }\r\n\r\n  @Listen(\"highlightToBeAssignedBookingEvent\", { target: \"window\" })\r\n  highlightBookingEvent(event: CustomEvent) {\r\n    let data = event.detail.data;\r\n    if (data.bookingId != this.eventData.ID) {\r\n      this.highlightSection = false;\r\n      this.selectedRoom = -1;\r\n      this.renderView();\r\n    } else {\r\n      this.highlightSection = true;\r\n      this.renderView();\r\n    }\r\n  }\r\n\r\n  renderView() {\r\n    this.renderAgain = !this.renderAgain;\r\n    // this.initializeToolTips();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div\r\n          class=\"bookingContainer\"\r\n          onClick={() => this.handleHighlightAvailability()}\r\n        >\r\n          <div\r\n            class={`guestTitle ${\r\n              this.highlightSection ? \"selectedOrder\" : \"\"\r\n            } pointer font-small-3`}\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"top\"\r\n            data-original-title=\"Click to assign unit\"\r\n          >\r\n            {`Book# ${this.eventData.BOOKING_NUMBER} , ${this.eventData.NAME}`}\r\n          </div>\r\n          <div class=\"row m-0 p-0 actionsContainer\">\r\n            <div class=\"d-inline-block p-0 selectContainer\">\r\n              <select\r\n                class=\"form-control input-sm\"\r\n                id={v4()}\r\n                onChange={(evt) => this.onSelectRoom(evt)}\r\n              >\r\n                <option value=\"\" selected={this.selectedRoom == -1}>\r\n                  Assign unit\r\n                </option>\r\n                {this.allRoomsList.map((room) => (\r\n                  <option\r\n                    value={room.id}\r\n                    selected={this.selectedRoom == room.id}\r\n                  >\r\n                    {room.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {this.highlightSection ? (\r\n              <div class=\"d-inline-block text-right buttonsContainer\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-secondary btn-sm\"\r\n                  onClick={(evt) => this.handleCloseAssignment(evt)}\r\n                >\r\n                  X\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary btn-sm\"\r\n                  onClick={(evt) => this.handleAssignUnit(evt)}\r\n                  disabled={this.selectedRoom === -1}\r\n                >\r\n                  Assign\r\n                </button>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <hr />\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../../assets/feather/style.min.css\");\r\n@import url(\"../../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  Prop,\r\n  State,\r\n  h,\r\n  Event,\r\n  EventEmitter,\r\n} from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"igl-tba-category-view\",\r\n  styleUrl: \"igl-tba-category-view.css\",\r\n  scoped: true,\r\n})\r\nexport class IglTbaCategoryView {\r\n  @Event() assignUnitEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Prop() calendarData: { [key: string]: any };\r\n  @Prop() selectedDate;\r\n  @Prop() categoriesData: { [key: string]: any } = {};\r\n  @Prop() categoryId;\r\n  @Prop({ mutable: true }) eventDatas;\r\n  @Prop() categoryIndex;\r\n  @State() renderAgain: boolean = false;\r\n\r\n  // private localEventDatas;\r\n\r\n  componentWillLoad() {\r\n    // this.localEventDatas = this.eventDatas;\r\n  }\r\n\r\n  handleAssignRoomEvent(event: CustomEvent<{ [key: string]: any }>) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n\r\n    const opt: { [key: string]: any } = event.detail;\r\n    this.eventDatas = this.eventDatas.filter(\r\n      (eventData) => eventData.ID != opt.data.ID\r\n    );\r\n    this.calendarData.bookingEvents.push(opt.data);\r\n    this.assignUnitEvent.emit({\r\n      key: \"assignUnit\",\r\n      data: {\r\n        RT_ID: this.categoryId,\r\n        selectedDate: this.selectedDate,\r\n        assignEvent: opt.data,\r\n        calendarData: this.calendarData,\r\n      },\r\n    });\r\n    // if(this.localEventDatas.length){\r\n    this.renderView();\r\n    // }\r\n  }\r\n\r\n  getEventView(categoryId, eventDatas) {\r\n    return eventDatas.map((eventData, ind) => (\r\n      <igl-tba-booking-view\r\n        calendarData={this.calendarData}\r\n        selectedDate={this.selectedDate}\r\n        eventData={eventData}\r\n        categoriesData={this.categoriesData}\r\n        categoryId={categoryId}\r\n        categoryIndex={this.categoryIndex}\r\n        eventIndex={ind}\r\n        onAssignRoomEvent={(evt) => this.handleAssignRoomEvent(evt)}\r\n      ></igl-tba-booking-view>\r\n    ));\r\n  }\r\n\r\n  renderView() {\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"sectionContainer\">\r\n          <div class=\"font-weight-bold mt-1 font-small-3\">\r\n            {this.categoriesData[this.categoryId].name}\r\n          </div>\r\n          {this.getEventView(this.categoryId, this.eventDatas)}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../../assets/feather/style.min.css\");\r\n@import url(\"../../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.tobeAssignedHeader {\r\n  font-weight: 500;\r\n  letter-spacing: 0.05rem;\r\n  font-size: 1.12rem;\r\n  padding-top: 5px;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.closeBtn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  cursor: pointer;\r\n  font-size: 1.75em;\r\n  line-height: 1em;\r\n  padding: 0.4rem;\r\n}\r\n\r\n.closeBtn:hover {\r\n  background-color: #f6f6f6;\r\n}\r\n\r\n.stickyHeader {\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #ffffff;\r\n  z-index: 1;\r\n}\r\n\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n","import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  State,\r\n  Listen,\r\n  Fragment,\r\n} from \"@stencil/core\";\r\nimport { ToBeAssignedService } from \"../../../services/toBeAssigned.service\";\r\nimport { dateToFormattedString } from \"../../../utils/utils\";\r\n\r\n@Component({\r\n  tag: \"igl-to-be-assigned\",\r\n  styleUrl: \"igl-to-be-assigned.css\",\r\n  scoped: true,\r\n})\r\nexport class IglToBeAssigned {\r\n  @Prop() propertyid: number;\r\n  @Prop() from_date: string;\r\n  @Prop() to_date: string;\r\n  @Prop() loadingMessage: string = \"Fetching For Unassigned Rooms\";\r\n  @Prop({ mutable: true }) calendarData: { [key: string]: any };\r\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Event({ bubbles: true, composed: true })\r\n  reduceAvailableUnitEvent: EventEmitter<{ [key: string]: any }>;\r\n  @Event() showBookingPopup: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) addToBeAssignedEvent: EventEmitter;\r\n  @Event({ bubbles: true, composed: true })\r\n  highlightToBeAssignedBookingEvent: EventEmitter;\r\n  @State() showDatesList: boolean = false;\r\n  @State() renderAgain: boolean = false;\r\n  @State() orderedDatesList: any[] = [];\r\n  @State() isLoading: boolean = false;\r\n  private selectedDate = null;\r\n  private data: { [key: string]: any } = {};\r\n  private today = new Date();\r\n  private categoriesData: { [key: string]: any } = {};\r\n  private toBeAssignedService: ToBeAssignedService = new ToBeAssignedService();\r\n  private unassignedDates: any;\r\n  componentWillLoad() {\r\n    this.reArrangeData();\r\n  }\r\n  async updateCategories(key, calendarData) {\r\n    let categorisedRooms = {};\r\n    const result = await this.toBeAssignedService.getUnassignedRooms(\r\n      this.propertyid,\r\n      dateToFormattedString(new Date(+key)),\r\n      calendarData.roomsInfo,\r\n      calendarData.formattedLegendData\r\n    );\r\n    result.forEach((room) => {\r\n      if (!categorisedRooms.hasOwnProperty(room.RT_ID)) {\r\n        categorisedRooms[room.RT_ID] = [room];\r\n      } else {\r\n        categorisedRooms[room.RT_ID].push(room);\r\n      }\r\n    });\r\n    this.unassignedDates[key].categories = categorisedRooms;\r\n  }\r\n\r\n  async reArrangeData() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.today.setHours(0, 0, 0, 0);\r\n      this.calendarData.roomsInfo.forEach((category) => {\r\n        this.categoriesData[category.id] = {\r\n          name: category.name,\r\n          roomsList: category.physicalrooms,\r\n          roomIds: category.physicalrooms.map((room) => {\r\n            return room.id;\r\n          }),\r\n        };\r\n      });\r\n\r\n      this.selectedDate = null;\r\n      this.unassignedDates = await this.toBeAssignedService.getUnassignedDates(\r\n        this.propertyid,\r\n        dateToFormattedString(new Date()),\r\n        this.to_date\r\n      );\r\n      const firstKey = Object.keys(this.unassignedDates)[0];\r\n      await this.updateCategories(firstKey, this.calendarData);\r\n\r\n      this.data = this.unassignedDates;\r\n      this.orderedDatesList = Object.keys(this.data).sort(\r\n        (a, b) => parseInt(a) - parseInt(b)\r\n      );\r\n      if (!this.selectedDate && this.orderedDatesList.length) {\r\n        this.selectedDate = this.orderedDatesList[0];\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching unassigned dates:\", error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  @Listen(\"gotoToBeAssignedDate\", { target: \"window\" })\r\n  gotoDate(event: CustomEvent) {\r\n    this.showForDate(event.detail.data);\r\n    this.showDatesList = false;\r\n    this.renderView();\r\n  }\r\n\r\n  async showForDate(dateStamp) {\r\n    this.isLoading = true;\r\n    this.showUnassignedDate();\r\n    await this.updateCategories(dateStamp, this.calendarData);\r\n    this.addToBeAssignedEvent.emit({ key: \"tobeAssignedEvents\", data: [] });\r\n    this.selectedDate = dateStamp;\r\n    this.showBookingPopup.emit({\r\n      key: \"calendar\",\r\n      data: parseInt(dateStamp) - 86400000,\r\n    });\r\n    this.isLoading = false; // goto 1 days before.. // calendar moves another 1 day\r\n  }\r\n\r\n  getDay(dt) {\r\n    const currentDate = new Date(dt);\r\n    const locale = \"default\"; //'en-US';\r\n    const dayOfWeek = this.getLocalizedDayOfWeek(currentDate, locale);\r\n    // const monthName = currentDate.toLocaleString(\"default\", { month: 'short' })\r\n    return (\r\n      dayOfWeek + \" \" + currentDate.getDate() + \", \" + currentDate.getFullYear()\r\n    );\r\n  }\r\n\r\n  getLocalizedDayOfWeek(date, locale) {\r\n    const options = { weekday: \"short\" };\r\n    return date.toLocaleDateString(locale, options);\r\n  }\r\n\r\n  handleOptionEvent(key, data = \"\") {\r\n    this.highlightToBeAssignedBookingEvent.emit({\r\n      key: \"highlightBookingId\",\r\n      data: { bookingId: \"----\" },\r\n    });\r\n    this.addToBeAssignedEvent.emit({ key: \"tobeAssignedEvents\", data: [] });\r\n    this.optionEvent.emit({ key, data });\r\n  }\r\n\r\n  showUnassignedDate() {\r\n    this.showDatesList = !this.showDatesList;\r\n  }\r\n\r\n  getToBeAssignedEntities() {\r\n    // toBeAssignedEvents\r\n  }\r\n\r\n  getCategoryView() {\r\n    if (\r\n      this.orderedDatesList.length &&\r\n      this.selectedDate &&\r\n      this.data[this.selectedDate]\r\n    ) {\r\n      return Object.entries(this.data[this.selectedDate].categories).map(\r\n        ([id, eventDatas], ind) => (\r\n          <igl-tba-category-view\r\n            calendarData={this.calendarData}\r\n            selectedDate={this.selectedDate}\r\n            categoryId={id}\r\n            categoryIndex={ind}\r\n            categoriesData={this.categoriesData}\r\n            eventDatas={eventDatas}\r\n            onAssignUnitEvent={(evt) => this.handleAssignUnit(evt)}\r\n          ></igl-tba-category-view>\r\n        )\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  handleAssignUnit(event: CustomEvent<{ [key: string]: any }>) {\r\n    const opt: { [key: string]: any } = event.detail;\r\n    const data = opt.data;\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n\r\n    if (opt.key === \"assignUnit\") {\r\n      this.data[data.selectedDate].categories[data.RT_ID] = this.data[\r\n        data.selectedDate\r\n      ].categories[data.RT_ID].filter(\r\n        (eventData) => eventData.ID != data.assignEvent.ID\r\n      );\r\n      this.calendarData = data.calendarData; // RAJA\r\n      // this.calendarData.bookingEvents.push(data.assignEvent);\r\n\r\n      if (!this.data[data.selectedDate].categories[data.RT_ID].length) {\r\n        delete this.data[data.selectedDate].categories[data.RT_ID];\r\n\r\n        if (!Object.keys(this.data[data.selectedDate].categories).length) {\r\n          delete this.data[data.selectedDate];\r\n          this.orderedDatesList = this.orderedDatesList.filter(\r\n            (dateStamp) => dateStamp != data.selectedDate\r\n          );\r\n          this.selectedDate = this.orderedDatesList.length\r\n            ? this.orderedDatesList[0]\r\n            : null;\r\n        }\r\n      }\r\n\r\n      this.reduceAvailableUnitEvent.emit({\r\n        key: \"reduceAvailableDays\",\r\n        data: { selectedDate: data.selectedDate },\r\n      });\r\n      this.renderView();\r\n    }\r\n  }\r\n\r\n  renderView() {\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"tobeAssignedContainer pr-1 text-left\">\r\n        <div>\r\n          <div>\r\n            <div class=\"stickyHeader\">\r\n              <div class=\"tobeAssignedHeader pt-1\">Assignments</div>\r\n              <div\r\n                class=\"closeBtn pt-1\"\r\n                onClick={() => this.handleOptionEvent(\"closeSideMenu\")}\r\n              >\r\n                <i class=\"ft-chevrons-left\"></i>\r\n              </div>\r\n              <hr />\r\n              {this.isLoading ? (\r\n                <p>{this.loadingMessage}</p>\r\n              ) : (\r\n                <Fragment>\r\n                  {this.orderedDatesList.length ? (\r\n                    <div\r\n                      class={\r\n                        `text-center ` + (this.showDatesList ? \"show\" : \"\")\r\n                      }\r\n                    >\r\n                      <div onClick={() => this.showUnassignedDate()}>\r\n                        <span class=\"font-weight-bold\">\r\n                          {this.data[this.selectedDate].dateStr}\r\n                        </span>\r\n                        <i class=\"la la-angle-down ml-2\"></i>\r\n                      </div>\r\n                      {this.showDatesList ? (\r\n                        <div class=\"dropdown-menu dropdown-menu-right full-width\">\r\n                          {this.orderedDatesList.map((ordDate) => (\r\n                            <div\r\n                              class=\"pointer dropdown-item pointer\"\r\n                              onClick={() => this.showForDate(ordDate)}\r\n                            >\r\n                              {this.data[ordDate].dateStr}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      ) : null}\r\n                    </div>\r\n                  ) : (\r\n                    \"All bookings assigned\"\r\n                  )}\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n            {!this.isLoading && (\r\n              <div class=\"scrollabledArea\">\r\n                {this.orderedDatesList.length ? (\r\n                  Object.keys(this.data[this.selectedDate].categories)\r\n                    .length ? (\r\n                    this.getCategoryView()\r\n                  ) : (\r\n                    <div class=\"mt-1\">All assigned for this day.</div>\r\n                  )\r\n                ) : null}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport class RoomService {\r\n  public async fetchData(\r\n    id: number,\r\n    language: string\r\n  ): Promise<{ [key: string]: any }> {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token !== null) {\r\n        const { data } = await axios.post(\r\n          `/Get_Exposed_Property?Ticket=${token}`,\r\n          { id, language }\r\n        );\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport class EventsService {\r\n  async reallocateEvent(pool: string, destination_pr_id: number) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/ReAllocate_Exposed_Room?Ticket=${token}`,\r\n          { pool, destination_pr_id }\r\n        );\r\n        return data;\r\n      } else {\r\n        throw new Error(\"Invalid Token\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  public async deleteEvent(POOL: string) {\r\n    try {\r\n      const token = JSON.parse(sessionStorage.getItem(\"token\"));\r\n      if (token) {\r\n        const { data } = await axios.post(\r\n          `/UnBlock_Exposed_Unit?Ticket=${token}`,\r\n          {\r\n            POOL,\r\n          }\r\n        );\r\n        return data.My_Result;\r\n      } else {\r\n        throw new Error(\"Invalid Token\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n","@import url(\"../../assets/feather/style.min.css\");\r\n@import url(\"../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  display: block;\r\n  position: relative;\r\n  background-color: #ffffff;\r\n  height: 600px;\r\n  text-align: center;\r\n}\r\n\r\n.igl-calendar {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  height: 100%;\r\n}\r\n\r\n.calendarScrollContainer div {\r\n  position: relative;\r\n}\r\n\r\n.calendarScrollContainer {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  position: relative;\r\n  white-space: nowrap;\r\n  border-left: 2px solid grey;\r\n}\r\n\r\n.showToBeAssigned,\r\n.showLegend {\r\n  grid-template-columns: 330px 1fr;\r\n}\r\n\r\n#calendarContainer {\r\n  position: absolute;\r\n}\r\n\r\ndiv {\r\n  position: relative;\r\n}\r\n\r\n.legendContainer,\r\n.tobeAssignedContainer {\r\n  display: none;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  padding-left: 0.5em !important;\r\n  padding-right: 0.5em !important;\r\n}\r\n\r\n.showToBeAssigned .tobeAssignedContainer {\r\n  display: block;\r\n}\r\n\r\n.showLegend .legendContainer {\r\n  display: block;\r\n}\r\n\r\n.tobeBooked {\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  text-align: left;\r\n}\r\n","import {\r\n  Component,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  Host,\r\n  Listen,\r\n  Prop,\r\n  State,\r\n  Watch,\r\n  h,\r\n} from \"@stencil/core\";\r\nimport { RoomService } from \"../../services/room.service\";\r\nimport { BookingService } from \"../../services/booking.service\";\r\nimport { formatLegendColors } from \"../../utils/utils\";\r\n\r\nimport axios from \"axios\";\r\nimport { EventsService } from \"../../services/events.service\";\r\n\r\n@Component({\r\n  tag: \"igloo-calendar\",\r\n  styleUrl: \"igloo-calendar.css\",\r\n  scoped: true,\r\n})\r\nexport class IglooCalendar {\r\n  @Prop() propertyid: number;\r\n  @Prop() from_date: string;\r\n  @Prop() to_date: string;\r\n  @Prop() language: string;\r\n  @Prop() baseurl: string;\r\n  @Prop() loadingMessage: string;\r\n  @Prop() currencyName: string;\r\n  @Prop({ reflect: true }) ticket: string = \"\";\r\n  @Element() private element: HTMLElement;\r\n  @Event({ bubbles: true, composed: true })\r\n  dragOverHighlightElement: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) moveBookingTo: EventEmitter;\r\n\r\n  @State() calendarData: { [key: string]: any } = new Object();\r\n  @State() days: { [key: string]: any }[] = new Array();\r\n  @State() scrollViewDragging: boolean = false;\r\n\r\n  @State() bookingItem: { [key: string]: any } = null;\r\n  @State() showLegend: boolean = false;\r\n  @State() showToBeAssigned: boolean = false;\r\n\r\n  private visibleCalendarCells: { x: any[]; y: any[] } = { x: [], y: [] };\r\n  private scrollContainer: HTMLElement;\r\n  private today: String = \"\";\r\n  private roomService: RoomService = new RoomService();\r\n  private bookingService: BookingService = new BookingService();\r\n  private eventsService = new EventsService();\r\n  private pool: string;\r\n  @Watch(\"ticket\")\r\n  async ticketChanged() {\r\n    sessionStorage.setItem(\"token\", JSON.stringify(this.ticket));\r\n    this.initializeApp();\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    if (this.baseurl) {\r\n      axios.defaults.baseURL = this.baseurl;\r\n    }\r\n    if (this.ticket !== \"\") {\r\n      this.initializeApp();\r\n    }\r\n  }\r\n  initializeApp() {\r\n    this.roomService\r\n      .fetchData(this.propertyid, this.language)\r\n      .then((roomResp) => {\r\n        this.setRoomsData(roomResp);\r\n        this.bookingService\r\n          .getCalendarData(this.propertyid, this.from_date, this.to_date)\r\n          .then((bookingResp) => {\r\n            this.calendarData.currency = roomResp[\"My_Result\"].currency;\r\n            this.calendarData.legendData = this.getLegendData(roomResp);\r\n            this.calendarData.startingDate = new Date(\r\n              bookingResp.My_Params_Get_Rooming_Data.FROM\r\n            ).getTime();\r\n            this.calendarData.endingDate = new Date(\r\n              bookingResp.My_Params_Get_Rooming_Data.TO\r\n            ).getTime();\r\n            this.calendarData.formattedLegendData = formatLegendColors(\r\n              this.calendarData.legendData\r\n            );\r\n            this.calendarData.bookingEvents = bookingResp.myBookings || [];\r\n            this.calendarData.toBeAssignedEvents = [];\r\n\r\n            this.updateBookingEventsDateRange(this.calendarData.bookingEvents);\r\n            this.updateBookingEventsDateRange(\r\n              this.calendarData.toBeAssignedEvents\r\n            );\r\n\r\n            let dt = new Date();\r\n            this.today =\r\n              dt.getDate() + \"_\" + (dt.getMonth() + 1) + \"_\" + dt.getFullYear();\r\n            let startingDay: Date = new Date(this.getStartingDateOfCalendar());\r\n            startingDay.setHours(0, 0, 0, 0);\r\n            this.days = bookingResp.days;\r\n            this.calendarData.days = this.days;\r\n            this.calendarData.monthsInfo = bookingResp.months;\r\n            setTimeout(() => {\r\n              this.scrollToElement(this.today);\r\n            }, 200);\r\n          });\r\n      });\r\n  }\r\n  componentDidLoad() {\r\n    this.scrollToElement(this.today);\r\n  }\r\n  @Listen(\"deleteButton\")\r\n  async handledeleteEvent(ev: CustomEvent) {\r\n    ev.stopImmediatePropagation();\r\n    ev.preventDefault();\r\n    const bookingEvent = [...this.calendarData.bookingEvents];\r\n    await this.eventsService.deleteEvent(ev.detail);\r\n\r\n    this.calendarData = {\r\n      ...this.calendarData,\r\n      bookingEvents: bookingEvent.filter((e) => e.POOL !== ev.detail),\r\n    };\r\n  }\r\n  updateBookingEventsDateRange(eventData) {\r\n    eventData.forEach((bookingEvent) => {\r\n      bookingEvent.legendData = this.calendarData.formattedLegendData;\r\n      bookingEvent.defaultDateRange = {};\r\n      bookingEvent.defaultDateRange.fromDate = new Date(\r\n        bookingEvent.FROM_DATE + \"T00:00:00\"\r\n      );\r\n      bookingEvent.defaultDateRange.fromDateStr = this.getDateStr(\r\n        bookingEvent.defaultDateRange.fromDate\r\n      );\r\n      bookingEvent.defaultDateRange.fromDateTimeStamp =\r\n        bookingEvent.defaultDateRange.fromDate.getTime();\r\n\r\n      bookingEvent.defaultDateRange.toDate = new Date(\r\n        bookingEvent.TO_DATE + \"T00:00:00\"\r\n      );\r\n      bookingEvent.defaultDateRange.toDateStr = this.getDateStr(\r\n        bookingEvent.defaultDateRange.toDate\r\n      );\r\n      bookingEvent.defaultDateRange.toDateTimeStamp =\r\n        bookingEvent.defaultDateRange.toDate.getTime();\r\n\r\n      bookingEvent.defaultDateRange.dateDifference = bookingEvent.NO_OF_DAYS; // (bookingEvent.defaultDateRange.toDate.getTime() - bookingEvent.defaultDateRange.fromDate.getTime())/(86400000);\r\n      bookingEvent.roomsInfo = [...this.calendarData.roomsInfo];\r\n    });\r\n  }\r\n  setRoomsData(roomServiceResp) {\r\n    let roomsData: { [key: string]: any }[] = new Array();\r\n    if (roomServiceResp.My_Result?.roomtypes?.length) {\r\n      roomsData = roomServiceResp.My_Result.roomtypes;\r\n      roomServiceResp.My_Result.roomtypes.forEach((roomCategory) => {\r\n        roomCategory.expanded = true;\r\n      });\r\n    }\r\n    this.calendarData.roomsInfo = roomsData;\r\n  }\r\n\r\n  getLegendData(aData) {\r\n    return aData[\"My_Result\"].calendar_legends;\r\n  }\r\n\r\n  getStartingDateOfCalendar() {\r\n    return this.calendarData.startingDate;\r\n  }\r\n\r\n  getEndingDateOfCalendar() {\r\n    return this.calendarData.endingDate;\r\n  }\r\n\r\n  getDay(dt) {\r\n    const currentDate = new Date(dt);\r\n    const locale = \"en-US\";\r\n    const dayOfWeek = this.getLocalizedDayOfWeek(currentDate, locale);\r\n    return dayOfWeek + \" \" + currentDate.getDate();\r\n  }\r\n\r\n  getLocalizedDayOfWeek(date, locale) {\r\n    const options = { weekday: \"short\" };\r\n    return date.toLocaleDateString(locale, options);\r\n  }\r\n\r\n  getLocalizedMonth(date, locale = \"default\") {\r\n    return (\r\n      date.toLocaleString(locale, { month: \"short\" }) + \" \" + date.getFullYear()\r\n    );\r\n  }\r\n\r\n  getDateStr(date, locale = \"default\") {\r\n    return (\r\n      date.getDate() +\r\n      \" \" +\r\n      date.toLocaleString(locale, { month: \"short\" }) +\r\n      \" \" +\r\n      date.getFullYear()\r\n    );\r\n  }\r\n\r\n  scrollToElement(goToDate) {\r\n    this.scrollContainer =\r\n      this.scrollContainer ||\r\n      this.element.querySelector(\".calendarScrollContainer\");\r\n    const topLeftCell = this.element.querySelector(\".topLeftCell\");\r\n    const gotoDay = this.element.querySelector(\".day-\" + goToDate);\r\n    if (gotoDay) {\r\n      this.scrollContainer.scrollTo({ left: 0 });\r\n      const gotoRect = gotoDay.getBoundingClientRect();\r\n      const containerRect = this.scrollContainer.getBoundingClientRect();\r\n      const topLeftCellRect = topLeftCell.getBoundingClientRect();\r\n      this.scrollContainer.scrollTo({\r\n        left:\r\n          gotoRect.left -\r\n          containerRect.left -\r\n          topLeftCellRect.width -\r\n          gotoRect.width,\r\n      });\r\n    }\r\n  }\r\n\r\n  @Listen(\"scrollPageToRoom\", { target: \"window\" })\r\n  scrollPageToRoom(event: CustomEvent) {\r\n    let targetScrollClass = event.detail.refClass;\r\n    this.scrollContainer =\r\n      this.scrollContainer ||\r\n      this.element.querySelector(\".calendarScrollContainer\");\r\n    const topLeftCell = this.element.querySelector(\".topLeftCell\");\r\n    const gotoRoom = this.element.querySelector(\".\" + targetScrollClass);\r\n    if (gotoRoom) {\r\n      this.scrollContainer.scrollTo({ top: 0 });\r\n      const gotoRect = gotoRoom.getBoundingClientRect();\r\n      const containerRect = this.scrollContainer.getBoundingClientRect();\r\n      const topLeftCellRect = topLeftCell.getBoundingClientRect();\r\n      this.scrollContainer.scrollTo({\r\n        top:\r\n          gotoRect.top -\r\n          containerRect.top -\r\n          topLeftCellRect.height -\r\n          gotoRect.height,\r\n      });\r\n    }\r\n  }\r\n\r\n  shouldRenderCalendarView() {\r\n    // console.log(\"rendering...\")\r\n    return (\r\n      this.calendarData &&\r\n      this.calendarData.days &&\r\n      this.calendarData.days.length\r\n    );\r\n  }\r\n\r\n  onOptionSelect(event: CustomEvent<{ [key: string]: any }>) {\r\n    const opt: { [key: string]: any } = event.detail;\r\n    const calendarElement = this.element.querySelector(\"#iglooCalendar\");\r\n    switch (opt.key) {\r\n      case \"showAssigned\":\r\n        calendarElement.classList.remove(\"showLegend\");\r\n        calendarElement.classList.remove(\"showToBeAssigned\");\r\n        calendarElement.classList.toggle(\"showToBeAssigned\");\r\n\r\n        this.showLegend = false;\r\n        this.showToBeAssigned = true;\r\n        break;\r\n      case \"showLegend\":\r\n        calendarElement.classList.remove(\"showToBeAssigned\");\r\n        calendarElement.classList.remove(\"showLegend\");\r\n        calendarElement.classList.toggle(\"showLegend\");\r\n\r\n        this.showLegend = true;\r\n        this.showToBeAssigned = false;\r\n        break;\r\n      case \"calendar\":\r\n        let dt = new Date(opt.data);\r\n        this.scrollToElement(\r\n          dt.getDate() + \"_\" + (dt.getMonth() + 1) + \"_\" + dt.getFullYear()\r\n        );\r\n        break;\r\n      case \"search\":\r\n        break;\r\n      case \"add\":\r\n        this.bookingItem = opt.data;\r\n        break;\r\n      case \"gotoToday\":\r\n        this.scrollToElement(this.today);\r\n        break;\r\n      case \"closeSideMenu\":\r\n        this.closeSideMenu();\r\n        break;\r\n    }\r\n  }\r\n\r\n  closeSideMenu() {\r\n    const calendarElement = this.element.querySelector(\"#iglooCalendar\");\r\n    calendarElement.classList.remove(\"showToBeAssigned\");\r\n    calendarElement.classList.remove(\"showLegend\");\r\n\r\n    this.showLegend = false;\r\n    this.showToBeAssigned = false;\r\n  }\r\n\r\n  scrollViewDragPos = { top: 0, left: 0, x: 0, y: 0 };\r\n  dragScrollContent(event: MouseEvent) {\r\n    this.scrollViewDragging = false;\r\n    let isPreventPageScroll =\r\n      event && event.target\r\n        ? this.hasAncestorWithClass(\r\n            event.target as HTMLElement,\r\n            \"preventPageScroll\"\r\n          )\r\n        : false;\r\n    if (!isPreventPageScroll) {\r\n      this.scrollViewDragPos = {\r\n        // The current scroll\r\n        left: this.scrollContainer.scrollLeft,\r\n        top: this.scrollContainer.scrollTop,\r\n        // Get the current mouse position\r\n        x: event.clientX,\r\n        y: event.clientY,\r\n      };\r\n      document.addEventListener(\"mousemove\", this.onScrollContentMoveHandler);\r\n      document.addEventListener(\"mouseup\", this.onScrollContentMoveEndHandler);\r\n    }\r\n  }\r\n\r\n  onScrollContentMoveHandler: EventListener = (event: MouseEvent) => {\r\n    // How far the mouse has been moved\r\n    const dx = event.clientX - this.scrollViewDragPos.x;\r\n    const dy = event.clientY - this.scrollViewDragPos.y;\r\n\r\n    // Scroll the element\r\n    this.scrollContainer.scrollTop = this.scrollViewDragPos.top - dy;\r\n    this.scrollContainer.scrollLeft = this.scrollViewDragPos.left - dx;\r\n    if (Math.abs(dx) > 5 || Math.abs(dy) > 5) {\r\n      this.scrollViewDragging = true;\r\n    }\r\n  };\r\n\r\n  onScrollContentMoveEndHandler: EventListener = () => {\r\n    document.removeEventListener(\"mousemove\", this.onScrollContentMoveHandler);\r\n    document.removeEventListener(\"mouseup\", this.onScrollContentMoveEndHandler);\r\n  };\r\n\r\n  calendarScrolling() {\r\n    const containerRect = this.scrollContainer.getBoundingClientRect();\r\n    let leftSideMenuSize = 170;\r\n    let maxWidth = containerRect.width - leftSideMenuSize;\r\n    let leftX = containerRect.x + leftSideMenuSize;\r\n    let rightX = containerRect.x + containerRect.width;\r\n\r\n    let cells = Array.from(\r\n      this.element.querySelectorAll(\".monthCell\")\r\n    ) as HTMLElement[];\r\n\r\n    if (cells.length) {\r\n      cells.map((monthContainer: HTMLElement) => {\r\n        let monthRect = monthContainer.getBoundingClientRect();\r\n        if (monthRect.x + monthRect.width < leftX) {\r\n          // item end is scrolled outside view, in -x\r\n        } else if (monthRect.x > rightX) {\r\n          // item is outside scrollview, in +x\r\n        } else {\r\n          let titleElement = monthContainer.querySelector(\r\n            \".monthTitle\"\r\n          ) as HTMLElement;\r\n          let marginLeft = 0;\r\n          let monthWidth = monthRect.width;\r\n          if (monthRect.x < leftX) {\r\n            marginLeft = Math.abs(monthRect.x) - leftX;\r\n            marginLeft =\r\n              monthRect.x < 0\r\n                ? Math.abs(monthRect.x) + leftX\r\n                : Math.abs(marginLeft);\r\n            monthWidth =\r\n              monthRect.x + monthRect.width > rightX\r\n                ? maxWidth\r\n                : monthRect.x + monthRect.width - leftX;\r\n          } else {\r\n            monthWidth =\r\n              maxWidth - monthWidth > monthWidth\r\n                ? monthWidth\r\n                : maxWidth - monthRect.x + leftX;\r\n          }\r\n          titleElement.style.marginLeft = marginLeft + \"px\";\r\n          titleElement.style.width = monthWidth + \"px\";\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  hasAncestorWithClass(element: HTMLElement, className: string): boolean {\r\n    let currentElement = element;\r\n    while (currentElement !== null) {\r\n      if (currentElement.matches(`.${className}`)) {\r\n        return true;\r\n      }\r\n      currentElement = currentElement.parentElement;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  @Listen(\"showBookingPopup\", { target: \"window\" })\r\n  showBookingPopupEventDataHandler(event: CustomEvent) {\r\n    event.preventDefault();\r\n    event.stopImmediatePropagation();\r\n    this.onOptionSelect(event);\r\n  }\r\n\r\n  @Listen(\"updateEventData\")\r\n  updateEventDataHandler(event: CustomEvent) {\r\n    let bookedData = this.calendarData.bookingEvents.find(\r\n      (bookedEvent) => bookedEvent.id === event.detail.id\r\n    );\r\n    if (bookedData && event.detail && event.detail.data) {\r\n      Object.entries(event.detail.data).forEach(([key, value]) => {\r\n        bookedData[key] = value;\r\n      });\r\n    }\r\n  }\r\n\r\n  @Listen(\"dragOverEventData\")\r\n  dragOverEventDataHandler(event: CustomEvent) {\r\n    if (event.detail.data.hasOwnProperty(\"pool\")) {\r\n      this.pool = event.detail.data.pool;\r\n    }\r\n    if (event.detail.id === \"CALCULATE_DRAG_OVER_BOUNDS\") {\r\n      let topLeftCell = document.querySelector(\r\n        \"igl-cal-header .topLeftCell\"\r\n      ) as HTMLElement;\r\n      let containerDays = document.querySelectorAll(\r\n        \".headersContainer .headerCell\"\r\n      );\r\n      let containerRooms = document.querySelectorAll(\r\n        \".bodyContainer .roomRow .roomTitle\"\r\n      );\r\n      this.visibleCalendarCells = { x: [], y: [] };\r\n\r\n      containerDays.forEach((element) => {\r\n        const htmlElement = element as HTMLElement;\r\n        this.visibleCalendarCells.x.push({\r\n          left: htmlElement.offsetLeft + topLeftCell.offsetWidth,\r\n          width: htmlElement.offsetWidth,\r\n          id: htmlElement.getAttribute(\"data-day\"),\r\n        });\r\n      });\r\n\r\n      containerRooms.forEach((element) => {\r\n        const htmlElement = element as HTMLElement;\r\n        this.visibleCalendarCells.y.push({\r\n          top: htmlElement.offsetTop,\r\n          height: htmlElement.offsetHeight,\r\n          id: htmlElement.getAttribute(\"data-room\"),\r\n        });\r\n      });\r\n      this.highlightDragOver(true, event.detail.data);\r\n    } else if (event.detail.id === \"DRAG_OVER\") {\r\n      this.highlightDragOver(true, event.detail.data);\r\n    } else if (event.detail.id === \"DRAG_OVER_END\") {\r\n      this.highlightDragOver(false, event.detail.data);\r\n    }\r\n  }\r\n\r\n  highlightDragOver(hightLightElement, currentPosition) {\r\n    let xElement, yElement;\r\n    if (currentPosition) {\r\n      xElement = this.visibleCalendarCells.x.find(\r\n        (pos) =>\r\n          pos.left < currentPosition.x &&\r\n          currentPosition.x <= pos.left + pos.width\r\n      );\r\n      yElement = this.visibleCalendarCells.y.find(\r\n        (pos) =>\r\n          pos.top < currentPosition.y &&\r\n          currentPosition.y <= pos.top + pos.height\r\n      );\r\n    }\r\n    // console.log(hightLightElement+\":::\"+yElement.id+\"_\"+xElement.id);\r\n    if (hightLightElement && xElement && yElement) {\r\n      this.dragOverHighlightElement.emit({\r\n        dragOverElement: yElement.id + \"_\" + xElement.id,\r\n      });\r\n    } else {\r\n      this.dragOverHighlightElement.emit({ dragOverElement: \"\" });\r\n    }\r\n    if (!hightLightElement) {\r\n      console.log(\"update move...\");\r\n      this.moveBookingTo.emit({\r\n        bookingId: currentPosition.id,\r\n        fromRoomId: currentPosition.fromRoomId,\r\n        toRoomId: (yElement && yElement.id) || \"revert\",\r\n        moveToDay: (xElement && xElement.id) || \"revert\",\r\n        pool: this.pool,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <ir-common></ir-common>\r\n        <div id=\"iglooCalendar\" class=\"igl-calendar\">\r\n          {this.shouldRenderCalendarView()\r\n            ? [\r\n                this.showToBeAssigned ? (\r\n                  <igl-to-be-assigned\r\n                    loadingMessage={this.loadingMessage}\r\n                    to_date={this.to_date}\r\n                    from_date={this.from_date}\r\n                    propertyid={this.propertyid}\r\n                    class=\"tobeAssignedContainer\"\r\n                    calendarData={this.calendarData}\r\n                    onOptionEvent={(evt) => this.onOptionSelect(evt)}\r\n                  ></igl-to-be-assigned>\r\n                ) : null,\r\n                this.showLegend ? (\r\n                  <igl-legends\r\n                    class=\"legendContainer\"\r\n                    legendData={this.calendarData.legendData}\r\n                    onOptionEvent={(evt) => this.onOptionSelect(evt)}\r\n                  ></igl-legends>\r\n                ) : null,\r\n                <div\r\n                  class=\"calendarScrollContainer\"\r\n                  onMouseDown={(event) => this.dragScrollContent(event)}\r\n                  onScroll={() => this.calendarScrolling()}\r\n                >\r\n                  <div id=\"calendarContainer\">\r\n                    <igl-cal-header\r\n                      today={this.today}\r\n                      calendarData={this.calendarData}\r\n                      onOptionEvent={(evt) => this.onOptionSelect(evt)}\r\n                    ></igl-cal-header>\r\n                    <igl-cal-body\r\n                      today={this.today}\r\n                      isScrollViewDragging={this.scrollViewDragging}\r\n                      calendarData={this.calendarData}\r\n                    ></igl-cal-body>\r\n                    <igl-cal-footer\r\n                      today={this.today}\r\n                      calendarData={this.calendarData}\r\n                      onOptionEvent={(evt) => this.onOptionSelect(evt)}\r\n                    ></igl-cal-footer>\r\n                  </div>\r\n                </div>,\r\n              ]\r\n            : \"Data not yet loaded\"}\r\n          {this.bookingItem ? (\r\n            <igl-book-property\r\n              currency={this.calendarData.currency}\r\n              language={this.language}\r\n              propertyid={this.propertyid}\r\n              bookingData={this.bookingItem}\r\n              onCloseBookingWindow={(_) => (this.bookingItem = null)}\r\n            ></igl-book-property>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import { IrOnlineResource } from \"./models\";\r\n\r\nexport const onlineResources: IrOnlineResource[] = [\r\n  {\r\n    isCSS: true,\r\n    link: \"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700\",\r\n  },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: 'https://x.igloorooms.com/app-assets/vendors/css/vendors.min.css',\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/components.css\",\r\n  // },\r\n  // { isCSS: true, link: \"https://x.igloorooms.com/assets/css/style.css\" },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/bootstrap.css\",\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css\",\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/colors.css\",\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/components.css\",\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css\",\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css\",\r\n  // },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: 'https://x.igloorooms.com/app-assets/fonts/feather/style.css',\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/vendors/js/vendors.min.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/js/core/libraries/jquery.min.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/vendors/js/ui/jquery.sticky.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/vendors/js/charts/jquery.sparkline.min.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/js/core/app-menu.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/js/core/app.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/app-assets/js/scripts/ui/breadcrumbs-with-stats.js\",\r\n  // },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css\",\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css\",\r\n  },\r\n  { isCSS: true, link: \"https://x.igloorooms.com/app-assets/css/colors.css\" },\r\n  { isCSS: true, link: \"https://x.igloorooms.com/app-assets/css/colors.css\" },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/css/components.css\",\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css\",\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css\",\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/css/pages/login-register.css\",\r\n  },\r\n  { isCSS: true, link: \"https://x.igloorooms.com/assets/css/style.css\" },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/css/bootstrap.css\",\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: \"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css\",\r\n  },\r\n];\r\n","import { Component, Host, Prop, State, Watch, h } from '@stencil/core';\r\nimport { IrOnlineResource } from '../../common/models';\r\nimport { onlineResources } from '../../common/ir.common.resources';\r\n\r\n@Component({\r\n  tag: 'ir-common',\r\n})\r\nexport class IrCommon {\r\n  @Prop({ reflect: true }) extraResources: string = '';\r\n  @State() resources: IrOnlineResource[] = onlineResources;\r\n  componentWillLoad() {\r\n    this.parseRefs();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.initializeStyles();\r\n  }\r\n\r\n  @Watch('extraResources')\r\n  hrefsChanged() {\r\n    this.parseRefs();\r\n    this.initializeStyles();\r\n  }\r\n\r\n  private parseRefs() {\r\n    if (this.extraResources !== '') this.resources.push(JSON.parse(this.extraResources));\r\n  }\r\n\r\n  private appendTag(tagName: string, attributes: any) {\r\n    const tag = document.createElement(tagName);\r\n    const selectorParts = [];\r\n\r\n    Object.keys(attributes).forEach(attr => {\r\n      tag.setAttribute(attr, attributes[attr]);\r\n      selectorParts.push(`[${attr}=\"${attributes[attr]}\"]`);\r\n    });\r\n\r\n    const selector = `${tagName}${selectorParts.join('')}`;\r\n    const existingTag = document.querySelector(selector);\r\n\r\n    if (!existingTag) {\r\n      document.head.appendChild(tag);\r\n    }\r\n  }\r\n\r\n  private initializeStyles() {\r\n    this.resources.forEach(res => {\r\n      if (res.isCSS) {\r\n        this.appendTag('link', {\r\n          href: res.link,\r\n          rel: 'stylesheet',\r\n          type: 'text/css',\r\n        });\r\n      }\r\n      if (res.isJS) {\r\n        this.appendTag('script', {\r\n          src: res.link,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@import url(\"../../assets/feather/style.min.css\");\r\n@import url(\"../../assets/fontawesome/css/all.css\");\r\n@import url(\"../../assets/line-awesome/css/line-awesome.min.css\");\r\n:host {\r\n  position: relative;\r\n}\r\n\r\n/* p {\r\n  position: absolute;\r\n  top: 10px;\r\n  background-color: antiquewhite;\r\n  border-radius: 7px;\r\n  padding: 10px 15px;\r\n  z-index: 1000000;\r\n} */\r\n","import { Component, Host, Prop, State, h } from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"ir-tooltip\",\r\n  styleUrl: \"ir-tooltip.css\",\r\n  scoped: true,\r\n})\r\nexport class IrTooltip {\r\n  @Prop({ reflect: true }) message: string;\r\n  @State() open: boolean;\r\n  tooltipTimeout: any;\r\n  toggleOpen(shouldOpen: boolean) {\r\n    if (this.tooltipTimeout) {\r\n      clearTimeout(this.tooltipTimeout);\r\n    }\r\n\r\n    if (shouldOpen) {\r\n      this.tooltipTimeout = setTimeout(() => {\r\n        this.open = true;\r\n      }, 300);\r\n    } else {\r\n      this.open = false;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <span\r\n          onMouseEnter={() => this.toggleOpen(true)}\r\n          onMouseLeave={() => this.toggleOpen(false)}\r\n        >\r\n          <i\r\n            class=\"ml-1 ft-info\"\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"top\"\r\n            data-original-title=\"Info popup\"\r\n          ></i>\r\n        </span>\r\n        {this.open && (\r\n          <div class=\"tooltip bottom show position-absolute\" role=\"tooltip\">\r\n            <div class=\"tooltip-arrow\"></div>\r\n            <div class=\"tooltip-inner fit\">\r\n              <i class=\"tooltip-top-demo\"></i>\r\n              <span innerHTML={this.message}></span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}
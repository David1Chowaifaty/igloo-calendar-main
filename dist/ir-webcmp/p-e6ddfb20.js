import{c as t}from"./p-f23f1dfa.js";import{c as n}from"./p-26013b59.js";import{a as o,l as e,c as r}from"./p-da635c92.js";class s{async fetchData(n,e){try{const r=JSON.parse(sessionStorage.getItem("token"));if(r!==null){const{data:s}=await o.post(`/Get_Exposed_Property?Ticket=${r}`,{id:n,language:e});if(s.ExceptionMsg!==""){throw new Error(s.ExceptionMsg)}const a=s.My_Result;t.adultChildConstraints=a.adult_child_constraints;t.allowedBookingSources=a.allowed_booking_sources;t.allowed_payment_methods=a.allowed_booking_methods;t.currency=a.currency;t.is_vacation_rental=a.is_vacation_rental;t.pickup_service=a.pickup_service;t.max_nights=a.max_nights;t.roomsInfo=a.roomtypes;t.taxes=a.taxes;t.id=a.id;t.name=a.name;t.is_frontdesk_enabled=a.is_frontdesk_enabled;return s}}catch(t){console.log(t);throw new Error(t)}}async getExposedChannels(){try{const t=JSON.parse(sessionStorage.getItem("token"));if(t!==null){const{data:e}=await o.post(`/Get_Exposed_Channels?Ticket=${t}`,{});if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const r=e.My_Result;n.channels=r;return e}}catch(t){console.log(t);throw new Error(t)}}async fetchLanguage(t){try{const n=JSON.parse(sessionStorage.getItem("token"));if(n!==null){const{data:r}=await o.post(`/Get_Exposed_Language?Ticket=${n}`,{code:t});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}let s=this.transformArrayToObject(r.My_Result.entries);e.entries=s;e.direction=r.My_Result.direction;return{entries:s,direction:r.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}async getExposedConnectedChannels(t){try{const e=JSON.parse(sessionStorage.getItem("token"));if(e!==null){const{data:r}=await o.post(`/Get_Exposed_Connected_Channels?Ticket=${e}`,{property_id:t});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}n.connected_channels=r.My_Result}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let n={};for(const o of t){n[o.code]=o.description}return n}}const a={days:[],months:[]};const{state:c,onChange:i}=r(a);const f={};let{state:l}=r(f);function h(t){l=Object.assign(Object.assign({},l),t)}function w(){return l}function d(t,n){const o=p(t);const e=p(n);Object.keys(l).forEach((t=>{const n=parseInt(t);if(o<=n&&n<=e){delete l[t]}}))}function p(t){const n=new Date(t);n.setHours(0,0,0,0);return n.getTime()}export{s as R,h as a,c,w as g,d as r};
//# sourceMappingURL=p-e6ddfb20.js.map